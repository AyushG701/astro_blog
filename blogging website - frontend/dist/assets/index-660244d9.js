function fk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function hr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kv={exports:{}},Al={},Gv={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=Symbol.for("react.element"),pk=Symbol.for("react.portal"),mk=Symbol.for("react.fragment"),gk=Symbol.for("react.strict_mode"),vk=Symbol.for("react.profiler"),yk=Symbol.for("react.provider"),bk=Symbol.for("react.context"),wk=Symbol.for("react.forward_ref"),xk=Symbol.for("react.suspense"),kk=Symbol.for("react.memo"),Sk=Symbol.for("react.lazy"),gp=Symbol.iterator;function Ek(t){return t===null||typeof t!="object"?null:(t=gp&&t[gp]||t["@@iterator"],typeof t=="function"?t:null)}var qv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yv=Object.assign,Xv={};function Wo(t,e,n){this.props=t,this.context=e,this.refs=Xv,this.updater=n||qv}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jv(){}Jv.prototype=Wo.prototype;function ch(t,e,n){this.props=t,this.context=e,this.refs=Xv,this.updater=n||qv}var uh=ch.prototype=new Jv;uh.constructor=ch;Yv(uh,Wo.prototype);uh.isPureReactComponent=!0;var vp=Array.isArray,Qv=Object.prototype.hasOwnProperty,dh={current:null},Zv={key:!0,ref:!0,__self:!0,__source:!0};function ey(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Qv.call(e,r)&&!Zv.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:fs,type:t,key:i,ref:s,props:o,_owner:dh.current}}function Ck(t,e){return{$$typeof:fs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hh(t){return typeof t=="object"&&t!==null&&t.$$typeof===fs}function Tk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yp=/\/+/g;function yc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tk(""+t.key):e.toString(36)}function oa(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case fs:case pk:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+yc(s,0):r,vp(o)?(n="",t!=null&&(n=t.replace(yp,"$&/")+"/"),oa(o,e,n,"",function(c){return c})):o!=null&&(hh(o)&&(o=Ck(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(yp,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",vp(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+yc(i,a);s+=oa(i,e,n,l,o)}else if(l=Ek(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+yc(i,a++),s+=oa(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Os(t,e,n){if(t==null)return t;var r=[],o=0;return oa(t,r,"","",function(i){return e.call(n,i,o++)}),r}function _k(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ze={current:null},ia={transition:null},Ik={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:ia,ReactCurrentOwner:dh};Q.Children={map:Os,forEach:function(t,e,n){Os(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Os(t,function(){e++}),e},toArray:function(t){return Os(t,function(e){return e})||[]},only:function(t){if(!hh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=Wo;Q.Fragment=mk;Q.Profiler=vk;Q.PureComponent=ch;Q.StrictMode=gk;Q.Suspense=xk;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yv({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=dh.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Qv.call(e,l)&&!Zv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fs,type:t.type,key:o,ref:i,props:r,_owner:s}};Q.createContext=function(t){return t={$$typeof:bk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yk,_context:t},t.Consumer=t};Q.createElement=ey;Q.createFactory=function(t){var e=ey.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:wk,render:t}};Q.isValidElement=hh;Q.lazy=function(t){return{$$typeof:Sk,_payload:{_status:-1,_result:t},_init:_k}};Q.memo=function(t,e){return{$$typeof:kk,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=ia.transition;ia.transition={};try{t()}finally{ia.transition=e}};Q.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Q.useCallback=function(t,e){return Ze.current.useCallback(t,e)};Q.useContext=function(t){return Ze.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return Ze.current.useDeferredValue(t)};Q.useEffect=function(t,e){return Ze.current.useEffect(t,e)};Q.useId=function(){return Ze.current.useId()};Q.useImperativeHandle=function(t,e,n){return Ze.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return Ze.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return Ze.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return Ze.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return Ze.current.useReducer(t,e,n)};Q.useRef=function(t){return Ze.current.useRef(t)};Q.useState=function(t){return Ze.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return Ze.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return Ze.current.useTransition()};Q.version="18.2.0";Gv.exports=Q;var B=Gv.exports;const Rt=hr(B),Ak=fk({__proto__:null,default:Rt},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk=B,Nk=Symbol.for("react.element"),Bk=Symbol.for("react.fragment"),Lk=Object.prototype.hasOwnProperty,Ok=Pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rk={key:!0,ref:!0,__self:!0,__source:!0};function ty(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Lk.call(e,r)&&!Rk.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:Nk,type:t,key:i,ref:s,props:o,_owner:Ok.current}}Al.Fragment=Bk;Al.jsx=ty;Al.jsxs=ty;Kv.exports=Al;var v=Kv.exports,Eu={},ny={exports:{}},vt={},ry={exports:{}},oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,j){var $=R.length;R.push(j);e:for(;0<$;){var V=$-1>>>1,Y=R[V];if(0<o(Y,j))R[V]=j,R[$]=Y,$=V;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var j=R[0],$=R.pop();if($!==j){R[0]=$;e:for(var V=0,Y=R.length,Ge=Y>>>1;V<Ge;){var J=2*(V+1)-1,De=R[J],ve=J+1,qe=R[ve];if(0>o(De,$))ve<Y&&0>o(qe,De)?(R[V]=qe,R[ve]=$,V=ve):(R[V]=De,R[J]=$,V=J);else if(ve<Y&&0>o(qe,$))R[V]=qe,R[ve]=$,V=ve;else break e}}return j}function o(R,j){var $=R.sortIndex-j.sortIndex;return $!==0?$:R.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,p=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(R){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=R)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function w(R){if(b=!1,f(R),!p)if(n(l)!==null)p=!0,L(S);else{var j=n(c);j!==null&&D(w,j.startTime-R)}}function S(R,j){p=!1,b&&(b=!1,k(y),y=-1),m=!0;var $=h;try{for(f(j),d=n(l);d!==null&&(!(d.expirationTime>j)||R&&!C());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var Y=V(d.expirationTime<=j);j=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(l)&&r(l),f(j)}else r(l);d=n(l)}if(d!==null)var Ge=!0;else{var J=n(c);J!==null&&D(w,J.startTime-j),Ge=!1}return Ge}finally{d=null,h=$,m=!1}}var _=!1,A=null,y=-1,x=5,T=-1;function C(){return!(t.unstable_now()-T<x)}function I(){if(A!==null){var R=t.unstable_now();T=R;var j=!0;try{j=A(!0,R)}finally{j?N():(_=!1,A=null)}}else _=!1}var N;if(typeof g=="function")N=function(){g(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,P=O.port2;O.port1.onmessage=I,N=function(){P.postMessage(null)}}else N=function(){E(I,0)};function L(R){A=R,_||(_=!0,N())}function D(R,j){y=E(function(){R(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,L(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var $=h;h=j;try{return R()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var $=h;h=R;try{return j()}finally{h=$}},t.unstable_scheduleCallback=function(R,j,$){var V=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,R){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,R={id:u++,callback:j,priorityLevel:R,startTime:$,expirationTime:Y,sortIndex:-1},$>V?(R.sortIndex=$,e(c,R),n(l)===null&&R===n(c)&&(b?(k(y),y=-1):b=!0,D(w,$-V))):(R.sortIndex=Y,e(l,R),p||m||(p=!0,L(S))),R},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(R){var j=h;return function(){var $=h;h=j;try{return R.apply(this,arguments)}finally{h=$}}}})(oy);ry.exports=oy;var Mk=ry.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy=B,mt=Mk;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sy=new Set,Fi={};function Gr(t,e){No(t,e),No(t+"Capture",e)}function No(t,e){for(Fi[t]=e,t=0;t<e.length;t++)sy.add(e[t])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=Object.prototype.hasOwnProperty,jk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bp={},wp={};function Dk(t){return Cu.call(wp,t)?!0:Cu.call(bp,t)?!1:jk.test(t)?wp[t]=!0:(bp[t]=!0,!1)}function Fk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Uk(t,e,n,r){if(e===null||typeof e>"u"||Fk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function et(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){je[t]=new et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];je[e]=new et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){je[t]=new et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){je[t]=new et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){je[t]=new et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){je[t]=new et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){je[t]=new et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){je[t]=new et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){je[t]=new et(t,5,!1,t.toLowerCase(),null,!1,!1)});var fh=/[\-:]([a-z])/g;function ph(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fh,ph);je[e]=new et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fh,ph);je[e]=new et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fh,ph);je[e]=new et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){je[t]=new et(t,1,!1,t.toLowerCase(),null,!1,!1)});je.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){je[t]=new et(t,1,!1,t.toLowerCase(),null,!0,!0)});function mh(t,e,n,r){var o=je.hasOwnProperty(e)?je[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Uk(e,n,o,r)&&(n=null),r||o===null?Dk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var In=iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),so=Symbol.for("react.portal"),ao=Symbol.for("react.fragment"),gh=Symbol.for("react.strict_mode"),Tu=Symbol.for("react.profiler"),ay=Symbol.for("react.provider"),ly=Symbol.for("react.context"),vh=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),Iu=Symbol.for("react.suspense_list"),yh=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),cy=Symbol.for("react.offscreen"),xp=Symbol.iterator;function ni(t){return t===null||typeof t!="object"?null:(t=xp&&t[xp]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,bc;function pi(t){if(bc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bc=e&&e[1]||""}return`
`+bc+t}var wc=!1;function xc(t,e){if(!t||wc)return"";wc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{wc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pi(t):""}function $k(t){switch(t.tag){case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 2:case 15:return t=xc(t.type,!1),t;case 11:return t=xc(t.type.render,!1),t;case 1:return t=xc(t.type,!0),t;default:return""}}function Au(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ao:return"Fragment";case so:return"Portal";case Tu:return"Profiler";case gh:return"StrictMode";case _u:return"Suspense";case Iu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ly:return(t.displayName||"Context")+".Consumer";case ay:return(t._context.displayName||"Context")+".Provider";case vh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yh:return e=t.displayName||null,e!==null?e:Au(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return Au(t(e))}catch{}}return null}function Vk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Au(e);case 8:return e===gh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zk(t){var e=uy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ms(t){t._valueTracker||(t._valueTracker=zk(t))}function dy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pu(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hy(t,e){e=e.checked,e!=null&&mh(t,"checked",e,!1)}function Nu(t,e){hy(t,e);var n=ar(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bu(t,e.type,ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bu(t,e,n){(e!=="number"||Na(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mi=Array.isArray;function So(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ar(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Lu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ep(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(mi(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ar(n)}}function fy(t,e){var n=ar(e.value),r=ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function py(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ou(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?py(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var js,my=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=js.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ui(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hk=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(t){Hk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xi[e]=xi[t]})});function gy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xi.hasOwnProperty(t)&&xi[t]?(""+e).trim():e+"px"}function vy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=gy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var Wk=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ru(t,e){if(e){if(Wk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Mu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=null;function bh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Du=null,Eo=null,Co=null;function Tp(t){if(t=gs(t)){if(typeof Du!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Ol(e),Du(t.stateNode,t.type,e))}}function yy(t){Eo?Co?Co.push(t):Co=[t]:Eo=t}function by(){if(Eo){var t=Eo,e=Co;if(Co=Eo=null,Tp(t),e)for(t=0;t<e.length;t++)Tp(e[t])}}function wy(t,e){return t(e)}function xy(){}var kc=!1;function ky(t,e,n){if(kc)return t(e,n);kc=!0;try{return wy(t,e,n)}finally{kc=!1,(Eo!==null||Co!==null)&&(xy(),by())}}function $i(t,e){var n=t.stateNode;if(n===null)return null;var r=Ol(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Fu=!1;if(bn)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){Fu=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{Fu=!1}function Kk(t,e,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ki=!1,Ba=null,La=!1,Uu=null,Gk={onError:function(t){ki=!0,Ba=t}};function qk(t,e,n,r,o,i,s,a,l){ki=!1,Ba=null,Kk.apply(Gk,arguments)}function Yk(t,e,n,r,o,i,s,a,l){if(qk.apply(this,arguments),ki){if(ki){var c=Ba;ki=!1,Ba=null}else throw Error(U(198));La||(La=!0,Uu=c)}}function qr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Sy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _p(t){if(qr(t)!==t)throw Error(U(188))}function Xk(t){var e=t.alternate;if(!e){if(e=qr(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return _p(o),t;if(i===r)return _p(o),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Ey(t){return t=Xk(t),t!==null?Cy(t):null}function Cy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cy(t);if(e!==null)return e;t=t.sibling}return null}var Ty=mt.unstable_scheduleCallback,Ip=mt.unstable_cancelCallback,Jk=mt.unstable_shouldYield,Qk=mt.unstable_requestPaint,be=mt.unstable_now,Zk=mt.unstable_getCurrentPriorityLevel,wh=mt.unstable_ImmediatePriority,_y=mt.unstable_UserBlockingPriority,Oa=mt.unstable_NormalPriority,eS=mt.unstable_LowPriority,Iy=mt.unstable_IdlePriority,Pl=null,Wt=null;function tS(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Pl,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:oS,nS=Math.log,rS=Math.LN2;function oS(t){return t>>>=0,t===0?32:31-(nS(t)/rS|0)|0}var Ds=64,Fs=4194304;function gi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ra(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=gi(a):(i&=s,i!==0&&(r=gi(i)))}else s=n&~o,s!==0?r=gi(s):i!==0&&(r=gi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mt(e),o=1<<n,r|=t[n],e&=~o;return r}function iS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Mt(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=iS(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function $u(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ay(){var t=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),t}function Sc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ps(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mt(e),t[e]=n}function aS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Mt(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function xh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mt(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var oe=0;function Py(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ny,kh,By,Ly,Oy,Vu=!1,Us=[],Gn=null,qn=null,Yn=null,Vi=new Map,zi=new Map,jn=[],lS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ap(t,e){switch(t){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":Vi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(e.pointerId)}}function oi(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=gs(e),e!==null&&kh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function cS(t,e,n,r,o){switch(e){case"focusin":return Gn=oi(Gn,t,e,n,r,o),!0;case"dragenter":return qn=oi(qn,t,e,n,r,o),!0;case"mouseover":return Yn=oi(Yn,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Vi.set(i,oi(Vi.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,zi.set(i,oi(zi.get(i)||null,t,e,n,r,o)),!0}return!1}function Ry(t){var e=Tr(t.target);if(e!==null){var n=qr(e);if(n!==null){if(e=n.tag,e===13){if(e=Sy(n),e!==null){t.blockedOn=e,Oy(t.priority,function(){By(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ju=r,n.target.dispatchEvent(r),ju=null}else return e=gs(n),e!==null&&kh(e),t.blockedOn=n,!1;e.shift()}return!0}function Pp(t,e,n){sa(t)&&n.delete(e)}function uS(){Vu=!1,Gn!==null&&sa(Gn)&&(Gn=null),qn!==null&&sa(qn)&&(qn=null),Yn!==null&&sa(Yn)&&(Yn=null),Vi.forEach(Pp),zi.forEach(Pp)}function ii(t,e){t.blockedOn===e&&(t.blockedOn=null,Vu||(Vu=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,uS)))}function Hi(t){function e(o){return ii(o,t)}if(0<Us.length){ii(Us[0],t);for(var n=1;n<Us.length;n++){var r=Us[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gn!==null&&ii(Gn,t),qn!==null&&ii(qn,t),Yn!==null&&ii(Yn,t),Vi.forEach(e),zi.forEach(e),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)Ry(n),n.blockedOn===null&&jn.shift()}var To=In.ReactCurrentBatchConfig,Ma=!0;function dS(t,e,n,r){var o=oe,i=To.transition;To.transition=null;try{oe=1,Sh(t,e,n,r)}finally{oe=o,To.transition=i}}function hS(t,e,n,r){var o=oe,i=To.transition;To.transition=null;try{oe=4,Sh(t,e,n,r)}finally{oe=o,To.transition=i}}function Sh(t,e,n,r){if(Ma){var o=zu(t,e,n,r);if(o===null)Lc(t,e,r,ja,n),Ap(t,r);else if(cS(o,t,e,n,r))r.stopPropagation();else if(Ap(t,r),e&4&&-1<lS.indexOf(t)){for(;o!==null;){var i=gs(o);if(i!==null&&Ny(i),i=zu(t,e,n,r),i===null&&Lc(t,e,r,ja,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Lc(t,e,r,null,n)}}var ja=null;function zu(t,e,n,r){if(ja=null,t=bh(r),t=Tr(t),t!==null)if(e=qr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Sy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ja=t,null}function My(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zk()){case wh:return 1;case _y:return 4;case Oa:case eS:return 16;case Iy:return 536870912;default:return 16}default:return 16}}var Hn=null,Eh=null,aa=null;function jy(){if(aa)return aa;var t,e=Eh,n=e.length,r,o="value"in Hn?Hn.value:Hn.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return aa=o.slice(t,1<r?1-r:void 0)}function la(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $s(){return!0}function Np(){return!1}function yt(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$s:Np,this.isPropagationStopped=Np,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),e}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ch=yt(Ko),ms=me({},Ko,{view:0,detail:0}),fS=yt(ms),Ec,Cc,si,Nl=me({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(Ec=t.screenX-si.screenX,Cc=t.screenY-si.screenY):Cc=Ec=0,si=t),Ec)},movementY:function(t){return"movementY"in t?t.movementY:Cc}}),Bp=yt(Nl),pS=me({},Nl,{dataTransfer:0}),mS=yt(pS),gS=me({},ms,{relatedTarget:0}),Tc=yt(gS),vS=me({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),yS=yt(vS),bS=me({},Ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wS=yt(bS),xS=me({},Ko,{data:0}),Lp=yt(xS),kS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ES={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ES[t])?!!e[t]:!1}function Th(){return CS}var TS=me({},ms,{key:function(t){if(t.key){var e=kS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_S=yt(TS),IS=me({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Op=yt(IS),AS=me({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),PS=yt(AS),NS=me({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),BS=yt(NS),LS=me({},Nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=yt(LS),RS=[9,13,27,32],_h=bn&&"CompositionEvent"in window,Si=null;bn&&"documentMode"in document&&(Si=document.documentMode);var MS=bn&&"TextEvent"in window&&!Si,Dy=bn&&(!_h||Si&&8<Si&&11>=Si),Rp=String.fromCharCode(32),Mp=!1;function Fy(t,e){switch(t){case"keyup":return RS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lo=!1;function jS(t,e){switch(t){case"compositionend":return Uy(e);case"keypress":return e.which!==32?null:(Mp=!0,Rp);case"textInput":return t=e.data,t===Rp&&Mp?null:t;default:return null}}function DS(t,e){if(lo)return t==="compositionend"||!_h&&Fy(t,e)?(t=jy(),aa=Eh=Hn=null,lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dy&&e.locale!=="ko"?null:e.data;default:return null}}var FS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FS[t.type]:e==="textarea"}function $y(t,e,n,r){yy(r),e=Da(e,"onChange"),0<e.length&&(n=new Ch("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ei=null,Wi=null;function US(t){Qy(t,0)}function Bl(t){var e=ho(t);if(dy(e))return t}function $S(t,e){if(t==="change")return e}var Vy=!1;if(bn){var _c;if(bn){var Ic="oninput"in document;if(!Ic){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Ic=typeof Dp.oninput=="function"}_c=Ic}else _c=!1;Vy=_c&&(!document.documentMode||9<document.documentMode)}function Fp(){Ei&&(Ei.detachEvent("onpropertychange",zy),Wi=Ei=null)}function zy(t){if(t.propertyName==="value"&&Bl(Wi)){var e=[];$y(e,Wi,t,bh(t)),ky(US,e)}}function VS(t,e,n){t==="focusin"?(Fp(),Ei=e,Wi=n,Ei.attachEvent("onpropertychange",zy)):t==="focusout"&&Fp()}function zS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bl(Wi)}function HS(t,e){if(t==="click")return Bl(e)}function WS(t,e){if(t==="input"||t==="change")return Bl(e)}function KS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dt=typeof Object.is=="function"?Object.is:KS;function Ki(t,e){if(Dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Cu.call(e,o)||!Dt(t[o],e[o]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,e){var n=Up(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Up(n)}}function Hy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wy(){for(var t=window,e=Na();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Na(t.document)}return e}function Ih(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GS(t){var e=Wy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hy(n.ownerDocument.documentElement,n)){if(r!==null&&Ih(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=$p(n,i);var s=$p(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qS=bn&&"documentMode"in document&&11>=document.documentMode,co=null,Hu=null,Ci=null,Wu=!1;function Vp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wu||co==null||co!==Na(r)||(r=co,"selectionStart"in r&&Ih(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ci&&Ki(Ci,r)||(Ci=r,r=Da(Hu,"onSelect"),0<r.length&&(e=new Ch("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=co)))}function Vs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uo={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionend:Vs("Transition","TransitionEnd")},Ac={},Ky={};bn&&(Ky=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Ll(t){if(Ac[t])return Ac[t];if(!uo[t])return t;var e=uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ky)return Ac[t]=e[n];return t}var Gy=Ll("animationend"),qy=Ll("animationiteration"),Yy=Ll("animationstart"),Xy=Ll("transitionend"),Jy=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(t,e){Jy.set(t,e),Gr(e,[t])}for(var Pc=0;Pc<zp.length;Pc++){var Nc=zp[Pc],YS=Nc.toLowerCase(),XS=Nc[0].toUpperCase()+Nc.slice(1);fr(YS,"on"+XS)}fr(Gy,"onAnimationEnd");fr(qy,"onAnimationIteration");fr(Yy,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(Xy,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JS=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function Hp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Yk(r,e,void 0,t),t.currentTarget=null}function Qy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Hp(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Hp(o,a,c),i=l}}}if(La)throw t=Uu,La=!1,Uu=null,t}function ae(t,e){var n=e[Xu];n===void 0&&(n=e[Xu]=new Set);var r=t+"__bubble";n.has(r)||(Zy(e,t,2,!1),n.add(r))}function Bc(t,e,n){var r=0;e&&(r|=4),Zy(n,t,r,e)}var zs="_reactListening"+Math.random().toString(36).slice(2);function Gi(t){if(!t[zs]){t[zs]=!0,sy.forEach(function(n){n!=="selectionchange"&&(JS.has(n)||Bc(n,!1,t),Bc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zs]||(e[zs]=!0,Bc("selectionchange",!1,e))}}function Zy(t,e,n,r){switch(My(e)){case 1:var o=dS;break;case 4:o=hS;break;default:o=Sh}n=o.bind(null,e,n,t),o=void 0,!Fu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Lc(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Tr(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}ky(function(){var c=i,u=bh(n),d=[];e:{var h=Jy.get(t);if(h!==void 0){var m=Ch,p=t;switch(t){case"keypress":if(la(n)===0)break e;case"keydown":case"keyup":m=_S;break;case"focusin":p="focus",m=Tc;break;case"focusout":p="blur",m=Tc;break;case"beforeblur":case"afterblur":m=Tc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PS;break;case Gy:case qy:case Yy:m=yS;break;case Xy:m=BS;break;case"scroll":m=fS;break;case"wheel":m=OS;break;case"copy":case"cut":case"paste":m=wS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Op}var b=(e&4)!==0,E=!b&&t==="scroll",k=b?h!==null?h+"Capture":null:h;b=[];for(var g=c,f;g!==null;){f=g;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,k!==null&&(w=$i(g,k),w!=null&&b.push(qi(g,w,f)))),E)break;g=g.return}0<b.length&&(h=new m(h,p,null,n,u),d.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==ju&&(p=n.relatedTarget||n.fromElement)&&(Tr(p)||p[wn]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?Tr(p):null,p!==null&&(E=qr(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(b=Bp,w="onMouseLeave",k="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(b=Op,w="onPointerLeave",k="onPointerEnter",g="pointer"),E=m==null?h:ho(m),f=p==null?h:ho(p),h=new b(w,g+"leave",m,n,u),h.target=E,h.relatedTarget=f,w=null,Tr(u)===c&&(b=new b(k,g+"enter",p,n,u),b.target=f,b.relatedTarget=E,w=b),E=w,m&&p)t:{for(b=m,k=p,g=0,f=b;f;f=to(f))g++;for(f=0,w=k;w;w=to(w))f++;for(;0<g-f;)b=to(b),g--;for(;0<f-g;)k=to(k),f--;for(;g--;){if(b===k||k!==null&&b===k.alternate)break t;b=to(b),k=to(k)}b=null}else b=null;m!==null&&Wp(d,h,m,b,!1),p!==null&&E!==null&&Wp(d,E,p,b,!0)}}e:{if(h=c?ho(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=$S;else if(jp(h))if(Vy)S=WS;else{S=zS;var _=VS}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=HS);if(S&&(S=S(t,c))){$y(d,S,n,u);break e}_&&_(t,h,c),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Bu(h,"number",h.value)}switch(_=c?ho(c):window,t){case"focusin":(jp(_)||_.contentEditable==="true")&&(co=_,Hu=c,Ci=null);break;case"focusout":Ci=Hu=co=null;break;case"mousedown":Wu=!0;break;case"contextmenu":case"mouseup":case"dragend":Wu=!1,Vp(d,n,u);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":Vp(d,n,u)}var A;if(_h)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else lo?Fy(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Dy&&n.locale!=="ko"&&(lo||y!=="onCompositionStart"?y==="onCompositionEnd"&&lo&&(A=jy()):(Hn=u,Eh="value"in Hn?Hn.value:Hn.textContent,lo=!0)),_=Da(c,y),0<_.length&&(y=new Lp(y,t,null,n,u),d.push({event:y,listeners:_}),A?y.data=A:(A=Uy(n),A!==null&&(y.data=A)))),(A=MS?jS(t,n):DS(t,n))&&(c=Da(c,"onBeforeInput"),0<c.length&&(u=new Lp("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=A))}Qy(d,e)})}function qi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Da(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=$i(t,n),i!=null&&r.unshift(qi(t,i,o)),i=$i(t,e),i!=null&&r.push(qi(t,i,o))),t=t.return}return r}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wp(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=$i(n,i),l!=null&&s.unshift(qi(n,l,a))):o||(l=$i(n,i),l!=null&&s.push(qi(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var QS=/\r\n?/g,ZS=/\u0000|\uFFFD/g;function Kp(t){return(typeof t=="string"?t:""+t).replace(QS,`
`).replace(ZS,"")}function Hs(t,e,n){if(e=Kp(e),Kp(t)!==e&&n)throw Error(U(425))}function Fa(){}var Ku=null,Gu=null;function qu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,eE=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,tE=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(t){return Gp.resolve(null).then(t).catch(nE)}:Yu;function nE(t){setTimeout(function(){throw t})}function Oc(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Hi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Hi(e)}function Xn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Go=Math.random().toString(36).slice(2),zt="__reactFiber$"+Go,Yi="__reactProps$"+Go,wn="__reactContainer$"+Go,Xu="__reactEvents$"+Go,rE="__reactListeners$"+Go,oE="__reactHandles$"+Go;function Tr(t){var e=t[zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wn]||n[zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qp(t);t!==null;){if(n=t[zt])return n;t=qp(t)}return e}t=n,n=t.parentNode}return null}function gs(t){return t=t[zt]||t[wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Ol(t){return t[Yi]||null}var Ju=[],fo=-1;function pr(t){return{current:t}}function ce(t){0>fo||(t.current=Ju[fo],Ju[fo]=null,fo--)}function se(t,e){fo++,Ju[fo]=t.current,t.current=e}var lr={},We=pr(lr),ot=pr(!1),Mr=lr;function Bo(t,e){var n=t.type.contextTypes;if(!n)return lr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function it(t){return t=t.childContextTypes,t!=null}function Ua(){ce(ot),ce(We)}function Yp(t,e,n){if(We.current!==lr)throw Error(U(168));se(We,e),se(ot,n)}function e0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(U(108,Vk(t)||"Unknown",o));return me({},n,r)}function $a(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lr,Mr=We.current,se(We,t),se(ot,ot.current),!0}function Xp(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=e0(t,e,Mr),r.__reactInternalMemoizedMergedChildContext=t,ce(ot),ce(We),se(We,t)):ce(ot),se(ot,n)}var sn=null,Rl=!1,Rc=!1;function t0(t){sn===null?sn=[t]:sn.push(t)}function iE(t){Rl=!0,t0(t)}function mr(){if(!Rc&&sn!==null){Rc=!0;var t=0,e=oe;try{var n=sn;for(oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sn=null,Rl=!1}catch(o){throw sn!==null&&(sn=sn.slice(t+1)),Ty(wh,mr),o}finally{oe=e,Rc=!1}}return null}var po=[],mo=0,Va=null,za=0,xt=[],kt=0,jr=null,ln=1,cn="";function xr(t,e){po[mo++]=za,po[mo++]=Va,Va=t,za=e}function n0(t,e,n){xt[kt++]=ln,xt[kt++]=cn,xt[kt++]=jr,jr=t;var r=ln;t=cn;var o=32-Mt(r)-1;r&=~(1<<o),n+=1;var i=32-Mt(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,ln=1<<32-Mt(e)+o|n<<o|r,cn=i+t}else ln=1<<i|n<<o|r,cn=t}function Ah(t){t.return!==null&&(xr(t,1),n0(t,1,0))}function Ph(t){for(;t===Va;)Va=po[--mo],po[mo]=null,za=po[--mo],po[mo]=null;for(;t===jr;)jr=xt[--kt],xt[kt]=null,cn=xt[--kt],xt[kt]=null,ln=xt[--kt],xt[kt]=null}var ht=null,dt=null,ue=!1,Bt=null;function r0(t,e){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ht=t,dt=Xn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ht=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jr!==null?{id:ln,overflow:cn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ht=t,dt=null,!0):!1;default:return!1}}function Qu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zu(t){if(ue){var e=dt;if(e){var n=e;if(!Jp(t,e)){if(Qu(t))throw Error(U(418));e=Xn(n.nextSibling);var r=ht;e&&Jp(t,e)?r0(r,n):(t.flags=t.flags&-4097|2,ue=!1,ht=t)}}else{if(Qu(t))throw Error(U(418));t.flags=t.flags&-4097|2,ue=!1,ht=t}}}function Qp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ht=t}function Ws(t){if(t!==ht)return!1;if(!ue)return Qp(t),ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qu(t.type,t.memoizedProps)),e&&(e=dt)){if(Qu(t))throw o0(),Error(U(418));for(;e;)r0(t,e),e=Xn(e.nextSibling)}if(Qp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dt=Xn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=ht?Xn(t.stateNode.nextSibling):null;return!0}function o0(){for(var t=dt;t;)t=Xn(t.nextSibling)}function Lo(){dt=ht=null,ue=!1}function Nh(t){Bt===null?Bt=[t]:Bt.push(t)}var sE=In.ReactCurrentBatchConfig;function Pt(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ha=pr(null),Wa=null,go=null,Bh=null;function Lh(){Bh=go=Wa=null}function Oh(t){var e=Ha.current;ce(Ha),t._currentValue=e}function ed(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _o(t,e){Wa=t,Bh=go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nt=!0),t.firstContext=null)}function Tt(t){var e=t._currentValue;if(Bh!==t)if(t={context:t,memoizedValue:e,next:null},go===null){if(Wa===null)throw Error(U(308));go=t,Wa.dependencies={lanes:0,firstContext:t}}else go=go.next=t;return e}var _r=null;function Rh(t){_r===null?_r=[t]:_r.push(t)}function i0(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Rh(e)):(n.next=o.next,o.next=n),e.interleaved=n,xn(t,r)}function xn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rn=!1;function Mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,xn(t,n)}return o=r.interleaved,o===null?(e.next=e,Rh(r)):(e.next=o.next,o.next=e),r.interleaved=e,xn(t,n)}function ca(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xh(t,n)}}function Zp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ka(t,e,n,r){var o=t.updateQueue;Rn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,u=c=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,b=a;switch(h=e,m=n,b.tag){case 1:if(p=b.payload,typeof p=="function"){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,h=typeof p=="function"?p.call(m,d,h):p,h==null)break e;d=me({},d,h);break e;case 2:Rn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Fr|=s,t.lanes=s,t.memoizedState=d}}function em(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(U(191,o));o.call(r)}}}var a0=new iy.Component().refs;function td(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ml={isMounted:function(t){return(t=t._reactInternals)?qr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qe(),o=Zn(t),i=mn(r,o);i.payload=e,n!=null&&(i.callback=n),e=Jn(t,i,o),e!==null&&(jt(e,t,o,r),ca(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qe(),o=Zn(t),i=mn(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Jn(t,i,o),e!==null&&(jt(e,t,o,r),ca(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qe(),r=Zn(t),o=mn(n,r);o.tag=2,e!=null&&(o.callback=e),e=Jn(t,o,r),e!==null&&(jt(e,t,r,n),ca(e,t,r))}};function tm(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Ki(n,r)||!Ki(o,i):!0}function l0(t,e,n){var r=!1,o=lr,i=e.contextType;return typeof i=="object"&&i!==null?i=Tt(i):(o=it(e)?Mr:We.current,r=e.contextTypes,i=(r=r!=null)?Bo(t,o):lr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ml,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function nm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ml.enqueueReplaceState(e,e.state,null)}function nd(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=a0,Mh(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Tt(i):(i=it(e)?Mr:We.current,o.context=Bo(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(td(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Ml.enqueueReplaceState(o,o.state,null),Ka(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function ai(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===a0&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Ks(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rm(t){var e=t._init;return e(t._payload)}function c0(t){function e(k,g){if(t){var f=k.deletions;f===null?(k.deletions=[g],k.flags|=16):f.push(g)}}function n(k,g){if(!t)return null;for(;g!==null;)e(k,g),g=g.sibling;return null}function r(k,g){for(k=new Map;g!==null;)g.key!==null?k.set(g.key,g):k.set(g.index,g),g=g.sibling;return k}function o(k,g){return k=er(k,g),k.index=0,k.sibling=null,k}function i(k,g,f){return k.index=f,t?(f=k.alternate,f!==null?(f=f.index,f<g?(k.flags|=2,g):f):(k.flags|=2,g)):(k.flags|=1048576,g)}function s(k){return t&&k.alternate===null&&(k.flags|=2),k}function a(k,g,f,w){return g===null||g.tag!==6?(g=Vc(f,k.mode,w),g.return=k,g):(g=o(g,f),g.return=k,g)}function l(k,g,f,w){var S=f.type;return S===ao?u(k,g,f.props.children,w,f.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===On&&rm(S)===g.type)?(w=o(g,f.props),w.ref=ai(k,g,f),w.return=k,w):(w=ma(f.type,f.key,f.props,null,k.mode,w),w.ref=ai(k,g,f),w.return=k,w)}function c(k,g,f,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==f.containerInfo||g.stateNode.implementation!==f.implementation?(g=zc(f,k.mode,w),g.return=k,g):(g=o(g,f.children||[]),g.return=k,g)}function u(k,g,f,w,S){return g===null||g.tag!==7?(g=Lr(f,k.mode,w,S),g.return=k,g):(g=o(g,f),g.return=k,g)}function d(k,g,f){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vc(""+g,k.mode,f),g.return=k,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Rs:return f=ma(g.type,g.key,g.props,null,k.mode,f),f.ref=ai(k,null,g),f.return=k,f;case so:return g=zc(g,k.mode,f),g.return=k,g;case On:var w=g._init;return d(k,w(g._payload),f)}if(mi(g)||ni(g))return g=Lr(g,k.mode,f,null),g.return=k,g;Ks(k,g)}return null}function h(k,g,f,w){var S=g!==null?g.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return S!==null?null:a(k,g,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Rs:return f.key===S?l(k,g,f,w):null;case so:return f.key===S?c(k,g,f,w):null;case On:return S=f._init,h(k,g,S(f._payload),w)}if(mi(f)||ni(f))return S!==null?null:u(k,g,f,w,null);Ks(k,f)}return null}function m(k,g,f,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return k=k.get(f)||null,a(g,k,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rs:return k=k.get(w.key===null?f:w.key)||null,l(g,k,w,S);case so:return k=k.get(w.key===null?f:w.key)||null,c(g,k,w,S);case On:var _=w._init;return m(k,g,f,_(w._payload),S)}if(mi(w)||ni(w))return k=k.get(f)||null,u(g,k,w,S,null);Ks(g,w)}return null}function p(k,g,f,w){for(var S=null,_=null,A=g,y=g=0,x=null;A!==null&&y<f.length;y++){A.index>y?(x=A,A=null):x=A.sibling;var T=h(k,A,f[y],w);if(T===null){A===null&&(A=x);break}t&&A&&T.alternate===null&&e(k,A),g=i(T,g,y),_===null?S=T:_.sibling=T,_=T,A=x}if(y===f.length)return n(k,A),ue&&xr(k,y),S;if(A===null){for(;y<f.length;y++)A=d(k,f[y],w),A!==null&&(g=i(A,g,y),_===null?S=A:_.sibling=A,_=A);return ue&&xr(k,y),S}for(A=r(k,A);y<f.length;y++)x=m(A,k,y,f[y],w),x!==null&&(t&&x.alternate!==null&&A.delete(x.key===null?y:x.key),g=i(x,g,y),_===null?S=x:_.sibling=x,_=x);return t&&A.forEach(function(C){return e(k,C)}),ue&&xr(k,y),S}function b(k,g,f,w){var S=ni(f);if(typeof S!="function")throw Error(U(150));if(f=S.call(f),f==null)throw Error(U(151));for(var _=S=null,A=g,y=g=0,x=null,T=f.next();A!==null&&!T.done;y++,T=f.next()){A.index>y?(x=A,A=null):x=A.sibling;var C=h(k,A,T.value,w);if(C===null){A===null&&(A=x);break}t&&A&&C.alternate===null&&e(k,A),g=i(C,g,y),_===null?S=C:_.sibling=C,_=C,A=x}if(T.done)return n(k,A),ue&&xr(k,y),S;if(A===null){for(;!T.done;y++,T=f.next())T=d(k,T.value,w),T!==null&&(g=i(T,g,y),_===null?S=T:_.sibling=T,_=T);return ue&&xr(k,y),S}for(A=r(k,A);!T.done;y++,T=f.next())T=m(A,k,y,T.value,w),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?y:T.key),g=i(T,g,y),_===null?S=T:_.sibling=T,_=T);return t&&A.forEach(function(I){return e(k,I)}),ue&&xr(k,y),S}function E(k,g,f,w){if(typeof f=="object"&&f!==null&&f.type===ao&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Rs:e:{for(var S=f.key,_=g;_!==null;){if(_.key===S){if(S=f.type,S===ao){if(_.tag===7){n(k,_.sibling),g=o(_,f.props.children),g.return=k,k=g;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===On&&rm(S)===_.type){n(k,_.sibling),g=o(_,f.props),g.ref=ai(k,_,f),g.return=k,k=g;break e}n(k,_);break}else e(k,_);_=_.sibling}f.type===ao?(g=Lr(f.props.children,k.mode,w,f.key),g.return=k,k=g):(w=ma(f.type,f.key,f.props,null,k.mode,w),w.ref=ai(k,g,f),w.return=k,k=w)}return s(k);case so:e:{for(_=f.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===f.containerInfo&&g.stateNode.implementation===f.implementation){n(k,g.sibling),g=o(g,f.children||[]),g.return=k,k=g;break e}else{n(k,g);break}else e(k,g);g=g.sibling}g=zc(f,k.mode,w),g.return=k,k=g}return s(k);case On:return _=f._init,E(k,g,_(f._payload),w)}if(mi(f))return p(k,g,f,w);if(ni(f))return b(k,g,f,w);Ks(k,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,g!==null&&g.tag===6?(n(k,g.sibling),g=o(g,f),g.return=k,k=g):(n(k,g),g=Vc(f,k.mode,w),g.return=k,k=g),s(k)):n(k,g)}return E}var Oo=c0(!0),u0=c0(!1),vs={},Kt=pr(vs),Xi=pr(vs),Ji=pr(vs);function Ir(t){if(t===vs)throw Error(U(174));return t}function jh(t,e){switch(se(Ji,e),se(Xi,t),se(Kt,vs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ou(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ou(e,t)}ce(Kt),se(Kt,e)}function Ro(){ce(Kt),ce(Xi),ce(Ji)}function d0(t){Ir(Ji.current);var e=Ir(Kt.current),n=Ou(e,t.type);e!==n&&(se(Xi,t),se(Kt,n))}function Dh(t){Xi.current===t&&(ce(Kt),ce(Xi))}var he=pr(0);function Ga(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mc=[];function Fh(){for(var t=0;t<Mc.length;t++)Mc[t]._workInProgressVersionPrimary=null;Mc.length=0}var ua=In.ReactCurrentDispatcher,jc=In.ReactCurrentBatchConfig,Dr=0,pe=null,Ie=null,Pe=null,qa=!1,Ti=!1,Qi=0,aE=0;function Ue(){throw Error(U(321))}function Uh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dt(t[n],e[n]))return!1;return!0}function $h(t,e,n,r,o,i){if(Dr=i,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ua.current=t===null||t.memoizedState===null?dE:hE,t=n(r,o),Ti){i=0;do{if(Ti=!1,Qi=0,25<=i)throw Error(U(301));i+=1,Pe=Ie=null,e.updateQueue=null,ua.current=fE,t=n(r,o)}while(Ti)}if(ua.current=Ya,e=Ie!==null&&Ie.next!==null,Dr=0,Pe=Ie=pe=null,qa=!1,e)throw Error(U(300));return t}function Vh(){var t=Qi!==0;return Qi=0,t}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?pe.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function _t(){if(Ie===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=Pe===null?pe.memoizedState:Pe.next;if(e!==null)Pe=e,Ie=t;else{if(t===null)throw Error(U(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Pe===null?pe.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function Zi(t,e){return typeof e=="function"?e(t):e}function Dc(t){var e=_t(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ie,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var u=c.lane;if((Dr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,pe.lanes|=u,Fr|=u}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,Dt(r,e.memoizedState)||(nt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,pe.lanes|=i,Fr|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fc(t){var e=_t(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);Dt(i,e.memoizedState)||(nt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function h0(){}function f0(t,e){var n=pe,r=_t(),o=e(),i=!Dt(r.memoizedState,o);if(i&&(r.memoizedState=o,nt=!0),r=r.queue,zh(g0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,es(9,m0.bind(null,n,r,o,e),void 0,null),Ne===null)throw Error(U(349));Dr&30||p0(n,e,o)}return o}function p0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function m0(t,e,n,r){e.value=n,e.getSnapshot=r,v0(e)&&y0(t)}function g0(t,e,n){return n(function(){v0(e)&&y0(t)})}function v0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dt(t,n)}catch{return!0}}function y0(t){var e=xn(t,1);e!==null&&jt(e,t,1,-1)}function om(t){var e=$t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},e.queue=t,t=t.dispatch=uE.bind(null,pe,t),[e.memoizedState,t]}function es(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function b0(){return _t().memoizedState}function da(t,e,n,r){var o=$t();pe.flags|=t,o.memoizedState=es(1|e,n,void 0,r===void 0?null:r)}function jl(t,e,n,r){var o=_t();r=r===void 0?null:r;var i=void 0;if(Ie!==null){var s=Ie.memoizedState;if(i=s.destroy,r!==null&&Uh(r,s.deps)){o.memoizedState=es(e,n,i,r);return}}pe.flags|=t,o.memoizedState=es(1|e,n,i,r)}function im(t,e){return da(8390656,8,t,e)}function zh(t,e){return jl(2048,8,t,e)}function w0(t,e){return jl(4,2,t,e)}function x0(t,e){return jl(4,4,t,e)}function k0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function S0(t,e,n){return n=n!=null?n.concat([t]):null,jl(4,4,k0.bind(null,e,t),n)}function Hh(){}function E0(t,e){var n=_t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function C0(t,e){var n=_t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function T0(t,e,n){return Dr&21?(Dt(n,e)||(n=Ay(),pe.lanes|=n,Fr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nt=!0),t.memoizedState=n)}function lE(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var r=jc.transition;jc.transition={};try{t(!1),e()}finally{oe=n,jc.transition=r}}function _0(){return _t().memoizedState}function cE(t,e,n){var r=Zn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},I0(t))A0(e,n);else if(n=i0(t,e,n,r),n!==null){var o=Qe();jt(n,t,r,o),P0(n,e,r)}}function uE(t,e,n){var r=Zn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(I0(t))A0(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Dt(a,s)){var l=e.interleaved;l===null?(o.next=o,Rh(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=i0(t,e,o,r),n!==null&&(o=Qe(),jt(n,t,r,o),P0(n,e,r))}}function I0(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function A0(t,e){Ti=qa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function P0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xh(t,n)}}var Ya={readContext:Tt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},dE={readContext:Tt,useCallback:function(t,e){return $t().memoizedState=[t,e===void 0?null:e],t},useContext:Tt,useEffect:im,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,da(4194308,4,k0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return da(4194308,4,t,e)},useInsertionEffect:function(t,e){return da(4,2,t,e)},useMemo:function(t,e){var n=$t();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$t();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cE.bind(null,pe,t),[r.memoizedState,t]},useRef:function(t){var e=$t();return t={current:t},e.memoizedState=t},useState:om,useDebugValue:Hh,useDeferredValue:function(t){return $t().memoizedState=t},useTransition:function(){var t=om(!1),e=t[0];return t=lE.bind(null,t[1]),$t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pe,o=$t();if(ue){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ne===null)throw Error(U(349));Dr&30||p0(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,im(g0.bind(null,r,i,t),[t]),r.flags|=2048,es(9,m0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=$t(),e=Ne.identifierPrefix;if(ue){var n=cn,r=ln;n=(r&~(1<<32-Mt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hE={readContext:Tt,useCallback:E0,useContext:Tt,useEffect:zh,useImperativeHandle:S0,useInsertionEffect:w0,useLayoutEffect:x0,useMemo:C0,useReducer:Dc,useRef:b0,useState:function(){return Dc(Zi)},useDebugValue:Hh,useDeferredValue:function(t){var e=_t();return T0(e,Ie.memoizedState,t)},useTransition:function(){var t=Dc(Zi)[0],e=_t().memoizedState;return[t,e]},useMutableSource:h0,useSyncExternalStore:f0,useId:_0,unstable_isNewReconciler:!1},fE={readContext:Tt,useCallback:E0,useContext:Tt,useEffect:zh,useImperativeHandle:S0,useInsertionEffect:w0,useLayoutEffect:x0,useMemo:C0,useReducer:Fc,useRef:b0,useState:function(){return Fc(Zi)},useDebugValue:Hh,useDeferredValue:function(t){var e=_t();return Ie===null?e.memoizedState=t:T0(e,Ie.memoizedState,t)},useTransition:function(){var t=Fc(Zi)[0],e=_t().memoizedState;return[t,e]},useMutableSource:h0,useSyncExternalStore:f0,useId:_0,unstable_isNewReconciler:!1};function Mo(t,e){try{var n="",r=e;do n+=$k(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Uc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pE=typeof WeakMap=="function"?WeakMap:Map;function N0(t,e,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ja||(Ja=!0,fd=r),rd(t,e)},n}function B0(t,e,n){n=mn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){rd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rd(t,e),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function sm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pE;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=IE.bind(null,t,e,n),e.then(t,t))}function am(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lm(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mn(-1,1),e.tag=2,Jn(n,e,1))),n.lanes|=1),t)}var mE=In.ReactCurrentOwner,nt=!1;function Je(t,e,n,r){e.child=t===null?u0(e,null,n,r):Oo(e,t.child,n,r)}function cm(t,e,n,r,o){n=n.render;var i=e.ref;return _o(e,o),r=$h(t,e,n,r,i,o),n=Vh(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,kn(t,e,o)):(ue&&n&&Ah(e),e.flags|=1,Je(t,e,r,o),e.child)}function um(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Qh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,L0(t,e,i,r,o)):(t=ma(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ki,n(s,r)&&t.ref===e.ref)return kn(t,e,o)}return e.flags|=1,t=er(i,r),t.ref=e.ref,t.return=e,e.child=t}function L0(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Ki(i,r)&&t.ref===e.ref)if(nt=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(nt=!0);else return e.lanes=t.lanes,kn(t,e,o)}return od(t,e,n,r,o)}function O0(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(yo,ut),ut|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(yo,ut),ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(yo,ut),ut|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,se(yo,ut),ut|=r;return Je(t,e,o,n),e.child}function R0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function od(t,e,n,r,o){var i=it(n)?Mr:We.current;return i=Bo(e,i),_o(e,o),n=$h(t,e,n,r,i,o),r=Vh(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,kn(t,e,o)):(ue&&r&&Ah(e),e.flags|=1,Je(t,e,n,o),e.child)}function dm(t,e,n,r,o){if(it(n)){var i=!0;$a(e)}else i=!1;if(_o(e,o),e.stateNode===null)ha(t,e),l0(e,n,r),nd(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Tt(c):(c=it(n)?Mr:We.current,c=Bo(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&nm(e,s,r,c),Rn=!1;var h=e.memoizedState;s.state=h,Ka(e,r,s,o),l=e.memoizedState,a!==r||h!==l||ot.current||Rn?(typeof u=="function"&&(td(e,n,u,r),l=e.memoizedState),(a=Rn||tm(e,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,s0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Pt(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tt(l):(l=it(n)?Mr:We.current,l=Bo(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&nm(e,s,r,l),Rn=!1,h=e.memoizedState,s.state=h,Ka(e,r,s,o);var p=e.memoizedState;a!==d||h!==p||ot.current||Rn?(typeof m=="function"&&(td(e,n,m,r),p=e.memoizedState),(c=Rn||tm(e,n,c,r,h,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return id(t,e,n,r,i,o)}function id(t,e,n,r,o,i){R0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&Xp(e,n,!1),kn(t,e,i);r=e.stateNode,mE.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Oo(e,t.child,null,i),e.child=Oo(e,null,a,i)):Je(t,e,a,i),e.memoizedState=r.state,o&&Xp(e,n,!0),e.child}function M0(t){var e=t.stateNode;e.pendingContext?Yp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yp(t,e.context,!1),jh(t,e.containerInfo)}function hm(t,e,n,r,o){return Lo(),Nh(o),e.flags|=256,Je(t,e,n,r),e.child}var sd={dehydrated:null,treeContext:null,retryLane:0};function ad(t){return{baseLanes:t,cachePool:null,transitions:null}}function j0(t,e,n){var r=e.pendingProps,o=he.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),se(he,o&1),t===null)return Zu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ul(s,r,0,null),t=Lr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ad(n),e.memoizedState=sd,t):Wh(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return gE(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=er(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=er(a,i):(i=Lr(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?ad(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=sd,r}return i=t.child,t=i.sibling,r=er(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wh(t,e){return e=Ul({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gs(t,e,n,r){return r!==null&&Nh(r),Oo(e,t.child,null,n),t=Wh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gE(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Uc(Error(U(422))),Gs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Ul({mode:"visible",children:r.children},o,0,null),i=Lr(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Oo(e,t.child,null,s),e.child.memoizedState=ad(s),e.memoizedState=sd,i);if(!(e.mode&1))return Gs(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=Uc(i,r,void 0),Gs(t,e,s,r)}if(a=(s&t.childLanes)!==0,nt||a){if(r=Ne,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,xn(t,o),jt(r,t,o,-1))}return Jh(),r=Uc(Error(U(421))),Gs(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=AE.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,dt=Xn(o.nextSibling),ht=e,ue=!0,Bt=null,t!==null&&(xt[kt++]=ln,xt[kt++]=cn,xt[kt++]=jr,ln=t.id,cn=t.overflow,jr=e),e=Wh(e,r.children),e.flags|=4096,e)}function fm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ed(t.return,e,n)}function $c(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function D0(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Je(t,e,r.children,n),r=he.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fm(t,n,e);else if(t.tag===19)fm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(se(he,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Ga(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),$c(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Ga(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}$c(e,!0,n,null,i);break;case"together":$c(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ha(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=er(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=er(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vE(t,e,n){switch(e.tag){case 3:M0(e),Lo();break;case 5:d0(e);break;case 1:it(e.type)&&$a(e);break;case 4:jh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;se(Ha,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(se(he,he.current&1),e.flags|=128,null):n&e.child.childLanes?j0(t,e,n):(se(he,he.current&1),t=kn(t,e,n),t!==null?t.sibling:null);se(he,he.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return D0(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),se(he,he.current),r)break;return null;case 22:case 23:return e.lanes=0,O0(t,e,n)}return kn(t,e,n)}var F0,ld,U0,$0;F0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ld=function(){};U0=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Ir(Kt.current);var i=null;switch(n){case"input":o=Pu(t,o),r=Pu(t,r),i=[];break;case"select":o=me({},o,{value:void 0}),r=me({},r,{value:void 0}),i=[];break;case"textarea":o=Lu(t,o),r=Lu(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fa)}Ru(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ae("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};$0=function(t,e,n,r){n!==r&&(e.flags|=4)};function li(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yE(t,e,n){var r=e.pendingProps;switch(Ph(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return it(e.type)&&Ua(),$e(e),null;case 3:return r=e.stateNode,Ro(),ce(ot),ce(We),Fh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ws(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(gd(Bt),Bt=null))),ld(t,e),$e(e),null;case 5:Dh(e);var o=Ir(Ji.current);if(n=e.type,t!==null&&e.stateNode!=null)U0(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return $e(e),null}if(t=Ir(Kt.current),Ws(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[zt]=e,r[Yi]=i,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(o=0;o<vi.length;o++)ae(vi[o],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":kp(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":Ep(r,i),ae("invalid",r)}Ru(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Hs(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Hs(r.textContent,a,t),o=["children",""+a]):Fi.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ae("scroll",r)}switch(n){case"input":Ms(r),Sp(r,i,!0);break;case"textarea":Ms(r),Cp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fa)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=py(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[zt]=e,t[Yi]=r,F0(t,e,!1,!1),e.stateNode=t;e:{switch(s=Mu(n,r),n){case"dialog":ae("cancel",t),ae("close",t),o=r;break;case"iframe":case"object":case"embed":ae("load",t),o=r;break;case"video":case"audio":for(o=0;o<vi.length;o++)ae(vi[o],t);o=r;break;case"source":ae("error",t),o=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),o=r;break;case"details":ae("toggle",t),o=r;break;case"input":kp(t,r),o=Pu(t,r),ae("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=me({},r,{value:void 0}),ae("invalid",t);break;case"textarea":Ep(t,r),o=Lu(t,r),ae("invalid",t);break;default:o=r}Ru(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?vy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&my(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ui(t,l):typeof l=="number"&&Ui(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ae("scroll",t):l!=null&&mh(t,i,l,s))}switch(n){case"input":Ms(t),Sp(t,r,!1);break;case"textarea":Ms(t),Cp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ar(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?So(t,!!r.multiple,i,!1):r.defaultValue!=null&&So(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Fa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)$0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Ir(Ji.current),Ir(Kt.current),Ws(e)){if(r=e.stateNode,n=e.memoizedProps,r[zt]=e,(i=r.nodeValue!==n)&&(t=ht,t!==null))switch(t.tag){case 3:Hs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=e,e.stateNode=r}return $e(e),null;case 13:if(ce(he),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ue&&dt!==null&&e.mode&1&&!(e.flags&128))o0(),Lo(),e.flags|=98560,i=!1;else if(i=Ws(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[zt]=e}else Lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),i=!1}else Bt!==null&&(gd(Bt),Bt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||he.current&1?Ae===0&&(Ae=3):Jh())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return Ro(),ld(t,e),t===null&&Gi(e.stateNode.containerInfo),$e(e),null;case 10:return Oh(e.type._context),$e(e),null;case 17:return it(e.type)&&Ua(),$e(e),null;case 19:if(ce(he),i=e.memoizedState,i===null)return $e(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)li(i,!1);else{if(Ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ga(t),s!==null){for(e.flags|=128,li(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return se(he,he.current&1|2),e.child}t=t.sibling}i.tail!==null&&be()>jo&&(e.flags|=128,r=!0,li(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ga(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),li(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ue)return $e(e),null}else 2*be()-i.renderingStartTime>jo&&n!==1073741824&&(e.flags|=128,r=!0,li(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=be(),e.sibling=null,n=he.current,se(he,r?n&1|2:n&1),e):($e(e),null);case 22:case 23:return Xh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ut&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function bE(t,e){switch(Ph(e),e.tag){case 1:return it(e.type)&&Ua(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ro(),ce(ot),ce(We),Fh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dh(e),null;case 13:if(ce(he),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(he),null;case 4:return Ro(),null;case 10:return Oh(e.type._context),null;case 22:case 23:return Xh(),null;case 24:return null;default:return null}}var qs=!1,He=!1,wE=typeof WeakSet=="function"?WeakSet:Set,z=null;function vo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(t,e,r)}else n.current=null}function cd(t,e,n){try{n()}catch(r){ge(t,e,r)}}var pm=!1;function xE(t,e){if(Ku=Ma,t=Wy(),Ih(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++c===o&&(a=s),h===i&&++u===r&&(l=s),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gu={focusedElem:t,selectionRange:n},Ma=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var b=p.memoizedProps,E=p.memoizedState,k=e.stateNode,g=k.getSnapshotBeforeUpdate(e.elementType===e.type?b:Pt(e.type,b),E);k.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(w){ge(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return p=pm,pm=!1,p}function _i(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&cd(e,n,i)}o=o.next}while(o!==r)}}function Dl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ud(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function V0(t){var e=t.alternate;e!==null&&(t.alternate=null,V0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zt],delete e[Yi],delete e[Xu],delete e[rE],delete e[oE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function z0(t){return t.tag===5||t.tag===3||t.tag===4}function mm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fa));else if(r!==4&&(t=t.child,t!==null))for(dd(t,e,n),t=t.sibling;t!==null;)dd(t,e,n),t=t.sibling}function hd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hd(t,e,n),t=t.sibling;t!==null;)hd(t,e,n),t=t.sibling}var Oe=null,Nt=!1;function Pn(t,e,n){for(n=n.child;n!==null;)H0(t,e,n),n=n.sibling}function H0(t,e,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:He||vo(n,e);case 6:var r=Oe,o=Nt;Oe=null,Pn(t,e,n),Oe=r,Nt=o,Oe!==null&&(Nt?(t=Oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(Nt?(t=Oe,n=n.stateNode,t.nodeType===8?Oc(t.parentNode,n):t.nodeType===1&&Oc(t,n),Hi(t)):Oc(Oe,n.stateNode));break;case 4:r=Oe,o=Nt,Oe=n.stateNode.containerInfo,Nt=!0,Pn(t,e,n),Oe=r,Nt=o;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&cd(n,e,s),o=o.next}while(o!==r)}Pn(t,e,n);break;case 1:if(!He&&(vo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ge(n,e,a)}Pn(t,e,n);break;case 21:Pn(t,e,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Pn(t,e,n),He=r):Pn(t,e,n);break;default:Pn(t,e,n)}}function gm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wE),e.forEach(function(r){var o=PE.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function At(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Oe=a.stateNode,Nt=!1;break e;case 3:Oe=a.stateNode.containerInfo,Nt=!0;break e;case 4:Oe=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if(Oe===null)throw Error(U(160));H0(i,s,o),Oe=null,Nt=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){ge(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W0(e,t),e=e.sibling}function W0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(At(e,t),Ut(t),r&4){try{_i(3,t,t.return),Dl(3,t)}catch(b){ge(t,t.return,b)}try{_i(5,t,t.return)}catch(b){ge(t,t.return,b)}}break;case 1:At(e,t),Ut(t),r&512&&n!==null&&vo(n,n.return);break;case 5:if(At(e,t),Ut(t),r&512&&n!==null&&vo(n,n.return),t.flags&32){var o=t.stateNode;try{Ui(o,"")}catch(b){ge(t,t.return,b)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hy(o,i),Mu(a,s);var c=Mu(a,i);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?vy(o,d):u==="dangerouslySetInnerHTML"?my(o,d):u==="children"?Ui(o,d):mh(o,u,d,c)}switch(a){case"input":Nu(o,i);break;case"textarea":fy(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?So(o,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?So(o,!!i.multiple,i.defaultValue,!0):So(o,!!i.multiple,i.multiple?[]:"",!1))}o[Yi]=i}catch(b){ge(t,t.return,b)}}break;case 6:if(At(e,t),Ut(t),r&4){if(t.stateNode===null)throw Error(U(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(b){ge(t,t.return,b)}}break;case 3:if(At(e,t),Ut(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hi(e.containerInfo)}catch(b){ge(t,t.return,b)}break;case 4:At(e,t),Ut(t);break;case 13:At(e,t),Ut(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(qh=be())),r&4&&gm(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(He=(c=He)||u,At(e,t),He=c):At(e,t),Ut(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(z=t,u=t.child;u!==null;){for(d=z=u;z!==null;){switch(h=z,m=h.child,h.tag){case 0:case 11:case 14:case 15:_i(4,h,h.return);break;case 1:vo(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(b){ge(r,n,b)}}break;case 5:vo(h,h.return);break;case 22:if(h.memoizedState!==null){ym(d);continue}}m!==null?(m.return=h,z=m):ym(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gy("display",s))}catch(b){ge(t,t.return,b)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(b){ge(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:At(e,t),Ut(t),r&4&&gm(t);break;case 21:break;default:At(e,t),Ut(t)}}function Ut(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(z0(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ui(o,""),r.flags&=-33);var i=mm(t);hd(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=mm(t);dd(t,a,s);break;default:throw Error(U(161))}}catch(l){ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kE(t,e,n){z=t,K0(t)}function K0(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var o=z,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||qs;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||He;a=qs;var c=He;if(qs=s,(He=l)&&!c)for(z=o;z!==null;)s=z,l=s.child,s.tag===22&&s.memoizedState!==null?bm(o):l!==null?(l.return=s,z=l):bm(o);for(;i!==null;)z=i,K0(i),i=i.sibling;z=o,qs=a,He=c}vm(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,z=i):vm(t)}}function vm(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||Dl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!He)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Pt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&em(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}em(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Hi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}He||e.flags&512&&ud(e)}catch(h){ge(e,e.return,h)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function ym(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function bm(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dl(4,e)}catch(l){ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){ge(e,o,l)}}var i=e.return;try{ud(e)}catch(l){ge(e,i,l)}break;case 5:var s=e.return;try{ud(e)}catch(l){ge(e,s,l)}}}catch(l){ge(e,e.return,l)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var SE=Math.ceil,Xa=In.ReactCurrentDispatcher,Kh=In.ReactCurrentOwner,Et=In.ReactCurrentBatchConfig,ne=0,Ne=null,ke=null,Re=0,ut=0,yo=pr(0),Ae=0,ts=null,Fr=0,Fl=0,Gh=0,Ii=null,tt=null,qh=0,jo=1/0,on=null,Ja=!1,fd=null,Qn=null,Ys=!1,Wn=null,Qa=0,Ai=0,pd=null,fa=-1,pa=0;function Qe(){return ne&6?be():fa!==-1?fa:fa=be()}function Zn(t){return t.mode&1?ne&2&&Re!==0?Re&-Re:sE.transition!==null?(pa===0&&(pa=Ay()),pa):(t=oe,t!==0||(t=window.event,t=t===void 0?16:My(t.type)),t):1}function jt(t,e,n,r){if(50<Ai)throw Ai=0,pd=null,Error(U(185));ps(t,n,r),(!(ne&2)||t!==Ne)&&(t===Ne&&(!(ne&2)&&(Fl|=n),Ae===4&&Dn(t,Re)),st(t,r),n===1&&ne===0&&!(e.mode&1)&&(jo=be()+500,Rl&&mr()))}function st(t,e){var n=t.callbackNode;sS(t,e);var r=Ra(t,t===Ne?Re:0);if(r===0)n!==null&&Ip(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ip(n),e===1)t.tag===0?iE(wm.bind(null,t)):t0(wm.bind(null,t)),tE(function(){!(ne&6)&&mr()}),n=null;else{switch(Py(r)){case 1:n=wh;break;case 4:n=_y;break;case 16:n=Oa;break;case 536870912:n=Iy;break;default:n=Oa}n=eb(n,G0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G0(t,e){if(fa=-1,pa=0,ne&6)throw Error(U(327));var n=t.callbackNode;if(Io()&&t.callbackNode!==n)return null;var r=Ra(t,t===Ne?Re:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Za(t,r);else{e=r;var o=ne;ne|=2;var i=Y0();(Ne!==t||Re!==e)&&(on=null,jo=be()+500,Br(t,e));do try{TE();break}catch(a){q0(t,a)}while(1);Lh(),Xa.current=i,ne=o,ke!==null?e=0:(Ne=null,Re=0,e=Ae)}if(e!==0){if(e===2&&(o=$u(t),o!==0&&(r=o,e=md(t,o))),e===1)throw n=ts,Br(t,0),Dn(t,r),st(t,be()),n;if(e===6)Dn(t,r);else{if(o=t.current.alternate,!(r&30)&&!EE(o)&&(e=Za(t,r),e===2&&(i=$u(t),i!==0&&(r=i,e=md(t,i))),e===1))throw n=ts,Br(t,0),Dn(t,r),st(t,be()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:kr(t,tt,on);break;case 3:if(Dn(t,r),(r&130023424)===r&&(e=qh+500-be(),10<e)){if(Ra(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Qe(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Yu(kr.bind(null,t,tt,on),e);break}kr(t,tt,on);break;case 4:if(Dn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-Mt(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SE(r/1960))-r,10<r){t.timeoutHandle=Yu(kr.bind(null,t,tt,on),r);break}kr(t,tt,on);break;case 5:kr(t,tt,on);break;default:throw Error(U(329))}}}return st(t,be()),t.callbackNode===n?G0.bind(null,t):null}function md(t,e){var n=Ii;return t.current.memoizedState.isDehydrated&&(Br(t,e).flags|=256),t=Za(t,e),t!==2&&(e=tt,tt=n,e!==null&&gd(e)),t}function gd(t){tt===null?tt=t:tt.push.apply(tt,t)}function EE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Dt(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dn(t,e){for(e&=~Gh,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mt(e),r=1<<n;t[n]=-1,e&=~r}}function wm(t){if(ne&6)throw Error(U(327));Io();var e=Ra(t,0);if(!(e&1))return st(t,be()),null;var n=Za(t,e);if(t.tag!==0&&n===2){var r=$u(t);r!==0&&(e=r,n=md(t,r))}if(n===1)throw n=ts,Br(t,0),Dn(t,e),st(t,be()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kr(t,tt,on),st(t,be()),null}function Yh(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(jo=be()+500,Rl&&mr())}}function Ur(t){Wn!==null&&Wn.tag===0&&!(ne&6)&&Io();var e=ne;ne|=1;var n=Et.transition,r=oe;try{if(Et.transition=null,oe=1,t)return t()}finally{oe=r,Et.transition=n,ne=e,!(ne&6)&&mr()}}function Xh(){ut=yo.current,ce(yo)}function Br(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eE(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(Ph(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ua();break;case 3:Ro(),ce(ot),ce(We),Fh();break;case 5:Dh(r);break;case 4:Ro();break;case 13:ce(he);break;case 19:ce(he);break;case 10:Oh(r.type._context);break;case 22:case 23:Xh()}n=n.return}if(Ne=t,ke=t=er(t.current,null),Re=ut=e,Ae=0,ts=null,Gh=Fl=Fr=0,tt=Ii=null,_r!==null){for(e=0;e<_r.length;e++)if(n=_r[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}_r=null}return t}function q0(t,e){do{var n=ke;try{if(Lh(),ua.current=Ya,qa){for(var r=pe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}qa=!1}if(Dr=0,Pe=Ie=pe=null,Ti=!1,Qi=0,Kh.current=null,n===null||n.return===null){Ae=1,ts=e,ke=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=Re,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=am(s);if(m!==null){m.flags&=-257,lm(m,s,a,i,e),m.mode&1&&sm(i,c,e),e=m,l=c;var p=e.updateQueue;if(p===null){var b=new Set;b.add(l),e.updateQueue=b}else p.add(l);break e}else{if(!(e&1)){sm(i,c,e),Jh();break e}l=Error(U(426))}}else if(ue&&a.mode&1){var E=am(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),lm(E,s,a,i,e),Nh(Mo(l,a));break e}}i=l=Mo(l,a),Ae!==4&&(Ae=2),Ii===null?Ii=[i]:Ii.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var k=N0(i,l,e);Zp(i,k);break e;case 1:a=l;var g=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Qn===null||!Qn.has(f)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=B0(i,a,e);Zp(i,w);break e}}i=i.return}while(i!==null)}J0(n)}catch(S){e=S,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(1)}function Y0(){var t=Xa.current;return Xa.current=Ya,t===null?Ya:t}function Jh(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Ne===null||!(Fr&268435455)&&!(Fl&268435455)||Dn(Ne,Re)}function Za(t,e){var n=ne;ne|=2;var r=Y0();(Ne!==t||Re!==e)&&(on=null,Br(t,e));do try{CE();break}catch(o){q0(t,o)}while(1);if(Lh(),ne=n,Xa.current=r,ke!==null)throw Error(U(261));return Ne=null,Re=0,Ae}function CE(){for(;ke!==null;)X0(ke)}function TE(){for(;ke!==null&&!Jk();)X0(ke)}function X0(t){var e=Z0(t.alternate,t,ut);t.memoizedProps=t.pendingProps,e===null?J0(t):ke=e,Kh.current=null}function J0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bE(n,e),n!==null){n.flags&=32767,ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ae=6,ke=null;return}}else if(n=yE(n,e,ut),n!==null){ke=n;return}if(e=e.sibling,e!==null){ke=e;return}ke=e=t}while(e!==null);Ae===0&&(Ae=5)}function kr(t,e,n){var r=oe,o=Et.transition;try{Et.transition=null,oe=1,_E(t,e,n,r)}finally{Et.transition=o,oe=r}return null}function _E(t,e,n,r){do Io();while(Wn!==null);if(ne&6)throw Error(U(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(aS(t,i),t===Ne&&(ke=Ne=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ys||(Ys=!0,eb(Oa,function(){return Io(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Et.transition,Et.transition=null;var s=oe;oe=1;var a=ne;ne|=4,Kh.current=null,xE(t,n),W0(n,t),GS(Gu),Ma=!!Ku,Gu=Ku=null,t.current=n,kE(n),Qk(),ne=a,oe=s,Et.transition=i}else t.current=n;if(Ys&&(Ys=!1,Wn=t,Qa=o),i=t.pendingLanes,i===0&&(Qn=null),tS(n.stateNode),st(t,be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ja)throw Ja=!1,t=fd,fd=null,t;return Qa&1&&t.tag!==0&&Io(),i=t.pendingLanes,i&1?t===pd?Ai++:(Ai=0,pd=t):Ai=0,mr(),null}function Io(){if(Wn!==null){var t=Py(Qa),e=Et.transition,n=oe;try{if(Et.transition=null,oe=16>t?16:t,Wn===null)var r=!1;else{if(t=Wn,Wn=null,Qa=0,ne&6)throw Error(U(331));var o=ne;for(ne|=4,z=t.current;z!==null;){var i=z,s=i.child;if(z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(z=c;z!==null;){var u=z;switch(u.tag){case 0:case 11:case 15:_i(8,u,i)}var d=u.child;if(d!==null)d.return=u,z=d;else for(;z!==null;){u=z;var h=u.sibling,m=u.return;if(V0(u),u===c){z=null;break}if(h!==null){h.return=m,z=h;break}z=m}}}var p=i.alternate;if(p!==null){var b=p.child;if(b!==null){p.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}z=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,z=s;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_i(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,z=k;break e}z=i.return}}var g=t.current;for(z=g;z!==null;){s=z;var f=s.child;if(s.subtreeFlags&2064&&f!==null)f.return=s,z=f;else e:for(s=g;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dl(9,a)}}catch(S){ge(a,a.return,S)}if(a===s){z=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,z=w;break e}z=a.return}}if(ne=o,mr(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Pl,t)}catch{}r=!0}return r}finally{oe=n,Et.transition=e}}return!1}function xm(t,e,n){e=Mo(n,e),e=N0(t,e,1),t=Jn(t,e,1),e=Qe(),t!==null&&(ps(t,1,e),st(t,e))}function ge(t,e,n){if(t.tag===3)xm(t,t,n);else for(;e!==null;){if(e.tag===3){xm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qn===null||!Qn.has(r))){t=Mo(n,t),t=B0(e,t,1),e=Jn(e,t,1),t=Qe(),e!==null&&(ps(e,1,t),st(e,t));break}}e=e.return}}function IE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qe(),t.pingedLanes|=t.suspendedLanes&n,Ne===t&&(Re&n)===n&&(Ae===4||Ae===3&&(Re&130023424)===Re&&500>be()-qh?Br(t,0):Gh|=n),st(t,e)}function Q0(t,e){e===0&&(t.mode&1?(e=Fs,Fs<<=1,!(Fs&130023424)&&(Fs=4194304)):e=1);var n=Qe();t=xn(t,e),t!==null&&(ps(t,e,n),st(t,n))}function AE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Q0(t,n)}function PE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),Q0(t,n)}var Z0;Z0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nt=!1,vE(t,e,n);nt=!!(t.flags&131072)}else nt=!1,ue&&e.flags&1048576&&n0(e,za,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ha(t,e),t=e.pendingProps;var o=Bo(e,We.current);_o(e,n),o=$h(null,e,r,t,o,n);var i=Vh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,it(r)?(i=!0,$a(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Mh(e),o.updater=Ml,e.stateNode=o,o._reactInternals=e,nd(e,r,t,n),e=id(null,e,r,!0,i,n)):(e.tag=0,ue&&i&&Ah(e),Je(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ha(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=BE(r),t=Pt(r,t),o){case 0:e=od(null,e,r,t,n);break e;case 1:e=dm(null,e,r,t,n);break e;case 11:e=cm(null,e,r,t,n);break e;case 14:e=um(null,e,r,Pt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Pt(r,o),od(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Pt(r,o),dm(t,e,r,o,n);case 3:e:{if(M0(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,o=i.element,s0(t,e),Ka(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Mo(Error(U(423)),e),e=hm(t,e,r,n,o);break e}else if(r!==o){o=Mo(Error(U(424)),e),e=hm(t,e,r,n,o);break e}else for(dt=Xn(e.stateNode.containerInfo.firstChild),ht=e,ue=!0,Bt=null,n=u0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lo(),r===o){e=kn(t,e,n);break e}Je(t,e,r,n)}e=e.child}return e;case 5:return d0(e),t===null&&Zu(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,qu(r,o)?s=null:i!==null&&qu(r,i)&&(e.flags|=32),R0(t,e),Je(t,e,s,n),e.child;case 6:return t===null&&Zu(e),null;case 13:return j0(t,e,n);case 4:return jh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oo(e,null,r,n):Je(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Pt(r,o),cm(t,e,r,o,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,se(Ha,r._currentValue),r._currentValue=s,i!==null)if(Dt(i.value,s)){if(i.children===o.children&&!ot.current){e=kn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=mn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ed(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ed(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Je(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,_o(e,n),o=Tt(o),r=r(o),e.flags|=1,Je(t,e,r,n),e.child;case 14:return r=e.type,o=Pt(r,e.pendingProps),o=Pt(r.type,o),um(t,e,r,o,n);case 15:return L0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Pt(r,o),ha(t,e),e.tag=1,it(r)?(t=!0,$a(e)):t=!1,_o(e,n),l0(e,r,o),nd(e,r,o,n),id(null,e,r,!0,t,n);case 19:return D0(t,e,n);case 22:return O0(t,e,n)}throw Error(U(156,e.tag))};function eb(t,e){return Ty(t,e)}function NE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,r){return new NE(t,e,n,r)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BE(t){if(typeof t=="function")return Qh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vh)return 11;if(t===yh)return 14}return 2}function er(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ma(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")Qh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ao:return Lr(n.children,o,i,e);case gh:s=8,o|=8;break;case Tu:return t=St(12,n,e,o|2),t.elementType=Tu,t.lanes=i,t;case _u:return t=St(13,n,e,o),t.elementType=_u,t.lanes=i,t;case Iu:return t=St(19,n,e,o),t.elementType=Iu,t.lanes=i,t;case cy:return Ul(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ay:s=10;break e;case ly:s=9;break e;case vh:s=11;break e;case yh:s=14;break e;case On:s=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=St(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Lr(t,e,n,r){return t=St(7,t,r,e),t.lanes=n,t}function Ul(t,e,n,r){return t=St(22,t,r,e),t.elementType=cy,t.lanes=n,t.stateNode={isHidden:!1},t}function Vc(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function zc(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LE(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sc(0),this.expirationTimes=Sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Zh(t,e,n,r,o,i,s,a,l){return t=new LE(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=St(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mh(i),t}function OE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tb(t){if(!t)return lr;t=t._reactInternals;e:{if(qr(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(it(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(it(n))return e0(t,n,e)}return e}function nb(t,e,n,r,o,i,s,a,l){return t=Zh(n,r,!0,t,o,i,s,a,l),t.context=tb(null),n=t.current,r=Qe(),o=Zn(n),i=mn(r,o),i.callback=e??null,Jn(n,i,o),t.current.lanes=o,ps(t,o,r),st(t,r),t}function $l(t,e,n,r){var o=e.current,i=Qe(),s=Zn(o);return n=tb(n),e.context===null?e.context=n:e.pendingContext=n,e=mn(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jn(o,e,s),t!==null&&(jt(t,o,s,i),ca(t,o,s)),s}function el(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function km(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ef(t,e){km(t,e),(t=t.alternate)&&km(t,e)}function RE(){return null}var rb=typeof reportError=="function"?reportError:function(t){console.error(t)};function tf(t){this._internalRoot=t}Vl.prototype.render=tf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));$l(t,e,null,null)};Vl.prototype.unmount=tf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ur(function(){$l(null,t,null,null)}),e[wn]=null}};function Vl(t){this._internalRoot=t}Vl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ly();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jn.length&&e!==0&&e<jn[n].priority;n++);jn.splice(n,0,t),n===0&&Ry(t)}};function nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sm(){}function ME(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=el(s);i.call(c)}}var s=nb(e,r,t,0,null,!1,!1,"",Sm);return t._reactRootContainer=s,t[wn]=s.current,Gi(t.nodeType===8?t.parentNode:t),Ur(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=el(l);a.call(c)}}var l=Zh(t,0,!1,null,null,!1,!1,"",Sm);return t._reactRootContainer=l,t[wn]=l.current,Gi(t.nodeType===8?t.parentNode:t),Ur(function(){$l(e,l,n,r)}),l}function Hl(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=el(s);a.call(l)}}$l(e,s,t,o)}else s=ME(n,e,t,o,r);return el(s)}Ny=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gi(e.pendingLanes);n!==0&&(xh(e,n|1),st(e,be()),!(ne&6)&&(jo=be()+500,mr()))}break;case 13:Ur(function(){var r=xn(t,1);if(r!==null){var o=Qe();jt(r,t,1,o)}}),ef(t,1)}};kh=function(t){if(t.tag===13){var e=xn(t,134217728);if(e!==null){var n=Qe();jt(e,t,134217728,n)}ef(t,134217728)}};By=function(t){if(t.tag===13){var e=Zn(t),n=xn(t,e);if(n!==null){var r=Qe();jt(n,t,e,r)}ef(t,e)}};Ly=function(){return oe};Oy=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};Du=function(t,e,n){switch(e){case"input":if(Nu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Ol(r);if(!o)throw Error(U(90));dy(r),Nu(r,o)}}}break;case"textarea":fy(t,n);break;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}};wy=Yh;xy=Ur;var jE={usingClientEntryPoint:!1,Events:[gs,ho,Ol,yy,by,Yh]},ci={findFiberByHostInstance:Tr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},DE={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ey(t),t===null?null:t.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||RE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{Pl=Xs.inject(DE),Wt=Xs}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jE;vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nf(e))throw Error(U(200));return OE(t,e,null,n)};vt.createRoot=function(t,e){if(!nf(t))throw Error(U(299));var n=!1,r="",o=rb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Zh(t,1,!1,null,null,n,!1,r,o),t[wn]=e.current,Gi(t.nodeType===8?t.parentNode:t),new tf(e)};vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Ey(e),t=t===null?null:t.stateNode,t};vt.flushSync=function(t){return Ur(t)};vt.hydrate=function(t,e,n){if(!zl(e))throw Error(U(200));return Hl(null,t,e,!0,n)};vt.hydrateRoot=function(t,e,n){if(!nf(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=rb;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=nb(e,null,t,1,n??null,o,!1,i,s),t[wn]=e.current,Gi(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Vl(e)};vt.render=function(t,e,n){if(!zl(e))throw Error(U(200));return Hl(null,t,e,!1,n)};vt.unmountComponentAtNode=function(t){if(!zl(t))throw Error(U(40));return t._reactRootContainer?(Ur(function(){Hl(null,null,t,!1,function(){t._reactRootContainer=null,t[wn]=null})}),!0):!1};vt.unstable_batchedUpdates=Yh;vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zl(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Hl(t,e,n,!1,r)};vt.version="18.2.0-next-9e3b772b8-20220608";function ob(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ob)}catch(t){console.error(t)}}ob(),ny.exports=vt;var FE=ny.exports,Em=FE;Eu.createRoot=Em.createRoot,Eu.hydrateRoot=Em.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ns.apply(this,arguments)}var Kn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kn||(Kn={}));const Cm="popstate";function UE(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return vd("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:tl(o)}return VE(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $E(){return Math.random().toString(36).substr(2,8)}function Tm(t,e){return{usr:t.state,key:t.key,idx:e}}function vd(t,e,n,r){return n===void 0&&(n=null),ns({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qo(e):e,{state:n,key:e&&e.key||r||$E()})}function tl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function VE(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=Kn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(ns({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Kn.Pop;let E=u(),k=E==null?null:E-c;c=E,l&&l({action:a,location:b.location,delta:k})}function h(E,k){a=Kn.Push;let g=vd(b.location,E,k);n&&n(g,E),c=u()+1;let f=Tm(g,c),w=b.createHref(g);try{s.pushState(f,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(w)}i&&l&&l({action:a,location:b.location,delta:1})}function m(E,k){a=Kn.Replace;let g=vd(b.location,E,k);n&&n(g,E),c=u();let f=Tm(g,c),w=b.createHref(g);s.replaceState(f,"",w),i&&l&&l({action:a,location:b.location,delta:0})}function p(E){let k=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof E=="string"?E:tl(E);return we(k,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,k)}let b={get action(){return a},get location(){return t(o,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Cm,d),l=E,()=>{o.removeEventListener(Cm,d),l=null}},createHref(E){return e(o,E)},createURL:p,encodeLocation(E){let k=p(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:h,replace:m,go(E){return s.go(E)}};return b}var _m;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_m||(_m={}));function zE(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?qo(e):e,o=of(r.pathname||"/",n);if(o==null)return null;let i=ib(t);HE(i);let s=null;for(let a=0;s==null&&a<i.length;++a)s=ZE(i[a],nC(o));return s}function ib(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(we(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=tr([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(we(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ib(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:JE(c,i.index),routesMeta:u})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of sb(i.path))o(i,s,l)}),e}function sb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=sb(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function HE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const WE=/^:\w+$/,KE=3,GE=2,qE=1,YE=10,XE=-2,Im=t=>t==="*";function JE(t,e){let n=t.split("/"),r=n.length;return n.some(Im)&&(r+=XE),e&&(r+=GE),n.filter(o=>!Im(o)).reduce((o,i)=>o+(WE.test(i)?KE:i===""?qE:YE),r)}function QE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function ZE(t,e){let{routesMeta:n}=t,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",u=eC({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;i.push({params:r,pathname:tr([o,u.pathname]),pathnameBase:sC(tr([o,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(o=tr([o,u.pathnameBase]))}return i}function eC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let h=a[d]||"";s=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}return c[u]=rC(a[d]||"",u),c},{}),pathname:i,pathnameBase:s,pattern:t}}function tC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function nC(t){try{return decodeURI(t)}catch(e){return rf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rC(t,e){try{return decodeURIComponent(t)}catch(n){return rf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function of(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?qo(t):t;return{pathname:n?n.startsWith("/")?n:iC(n,e):e,search:aC(r),hash:lC(o)}}function iC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sf(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function af(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=qo(t):(o=ns({},t),we(!o.pathname||!o.pathname.includes("?"),Hc("?","pathname","search",o)),we(!o.pathname||!o.pathname.includes("#"),Hc("#","pathname","hash",o)),we(!o.search||!o.search.includes("#"),Hc("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;o.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=oC(o,a),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const tr=t=>t.join("/").replace(/\/\/+/g,"/"),sC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ab=["post","put","patch","delete"];new Set(ab);const uC=["get",...ab];new Set(uC);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}const lf=B.createContext(null),lb=B.createContext(null),Yr=B.createContext(null),Wl=B.createContext(null),en=B.createContext({outlet:null,matches:[],isDataRoute:!1}),cb=B.createContext(null);function dC(t,e){let{relative:n}=e===void 0?{}:e;Yo()||we(!1);let{basename:r,navigator:o}=B.useContext(Yr),{hash:i,pathname:s,search:a}=cf(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:tr([r,s])),o.createHref({pathname:l,search:a,hash:i})}function Yo(){return B.useContext(Wl)!=null}function Xr(){return Yo()||we(!1),B.useContext(Wl).location}function ub(t){B.useContext(Yr).static||B.useLayoutEffect(t)}function Xo(){let{isDataRoute:t}=B.useContext(en);return t?TC():hC()}function hC(){Yo()||we(!1);let t=B.useContext(lf),{basename:e,navigator:n}=B.useContext(Yr),{matches:r}=B.useContext(en),{pathname:o}=Xr(),i=JSON.stringify(sf(r).map(l=>l.pathnameBase)),s=B.useRef(!1);return ub(()=>{s.current=!0}),B.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=af(l,JSON.parse(i),o,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:tr([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,o,t])}const fC=B.createContext(null);function pC(t){let e=B.useContext(en).outlet;return e&&B.createElement(fC.Provider,{value:t},e)}function Jo(){let{matches:t}=B.useContext(en),e=t[t.length-1];return e?e.params:{}}function cf(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=B.useContext(en),{pathname:o}=Xr(),i=JSON.stringify(sf(r).map(s=>s.pathnameBase));return B.useMemo(()=>af(t,JSON.parse(i),o,n==="path"),[t,i,o,n])}function mC(t,e){return gC(t,e)}function gC(t,e,n){Yo()||we(!1);let{navigator:r}=B.useContext(Yr),{matches:o}=B.useContext(en),i=o[o.length-1],s=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Xr(),c;if(e){var u;let b=typeof e=="string"?qo(e):e;a==="/"||(u=b.pathname)!=null&&u.startsWith(a)||we(!1),c=b}else c=l;let d=c.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",m=zE(t,{pathname:h}),p=xC(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:tr([a,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:tr([a,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n);return e&&p?B.createElement(Wl.Provider,{value:{location:nl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Kn.Pop}},p):p}function vC(){let t=CC(),e=cC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,i)}const yC=B.createElement(vC,null);class bC extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?B.createElement(en.Provider,{value:this.props.routeContext},B.createElement(cb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wC(t){let{routeContext:e,match:n,children:r}=t,o=B.useContext(lf);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(en.Provider,{value:e},r)}function xC(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let i=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=i.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||we(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let u=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||yC);let h=e.concat(i.slice(0,c+1)),m=()=>{let p;return u?p=d:l.route.Component?p=B.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=a,B.createElement(wC,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?B.createElement(bC,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):m()},null)}var yd;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(yd||(yd={}));var rs;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(rs||(rs={}));function kC(t){let e=B.useContext(lf);return e||we(!1),e}function SC(t){let e=B.useContext(lb);return e||we(!1),e}function EC(t){let e=B.useContext(en);return e||we(!1),e}function db(t){let e=EC(),n=e.matches[e.matches.length-1];return n.route.id||we(!1),n.route.id}function CC(){var t;let e=B.useContext(cb),n=SC(rs.UseRouteError),r=db(rs.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function TC(){let{router:t}=kC(yd.UseNavigateStable),e=db(rs.UseNavigateStable),n=B.useRef(!1);return ub(()=>{n.current=!0}),B.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,nl({fromRouteId:e},i)))},[t,e])}function uf(t){let{to:e,replace:n,state:r,relative:o}=t;Yo()||we(!1);let{matches:i}=B.useContext(en),{pathname:s}=Xr(),a=Xo(),l=af(e,sf(i).map(u=>u.pathnameBase),s,o==="path"),c=JSON.stringify(l);return B.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:o}),[a,c,o,n,r]),null}function hb(t){return pC(t.context)}function Be(t){we(!1)}function _C(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Kn.Pop,navigator:i,static:s=!1}=t;Yo()&&we(!1);let a=e.replace(/^\/*/,"/"),l=B.useMemo(()=>({basename:a,navigator:i,static:s}),[a,i,s]);typeof r=="string"&&(r=qo(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:m="default"}=r,p=B.useMemo(()=>{let b=of(c,a);return b==null?null:{location:{pathname:b,search:u,hash:d,state:h,key:m},navigationType:o}},[a,c,u,d,h,m,o]);return p==null?null:B.createElement(Yr.Provider,{value:l},B.createElement(Wl.Provider,{children:n,value:p}))}function IC(t){let{children:e,location:n}=t;return mC(bd(e),n)}var Am;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Am||(Am={}));new Promise(()=>{});function bd(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,o)=>{if(!B.isValidElement(r))return;let i=[...e,o];if(r.type===B.Fragment){n.push.apply(n,bd(r.props.children,i));return}r.type!==Be&&we(!1),!r.props.index||!r.props.children||we(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=bd(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(this,arguments)}function fb(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function AC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PC(t,e){return t.button===0&&(!e||e==="_self")&&!AC(t)}function wd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function NC(t,e){let n=wd(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(o=>{n.append(r,o)});return n}const BC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],LC=["aria-current","caseSensitive","className","end","style","to","children"],OC="startTransition",Pm=Ak[OC];function RC(t){let{basename:e,children:n,future:r,window:o}=t,i=B.useRef();i.current==null&&(i.current=UE({window:o,v5Compat:!0}));let s=i.current,[a,l]=B.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=B.useCallback(d=>{c&&Pm?Pm(()=>l(d)):l(d)},[l,c]);return B.useLayoutEffect(()=>s.listen(u),[s,u]),B.createElement(_C,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}const MC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,re=B.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:u}=e,d=fb(e,BC),{basename:h}=B.useContext(Yr),m,p=!1;if(typeof c=="string"&&jC.test(c)&&(m=c,MC))try{let g=new URL(window.location.href),f=c.startsWith("//")?new URL(g.protocol+c):new URL(c),w=of(f.pathname,h);f.origin===g.origin&&w!=null?c=w+f.search+f.hash:p=!0}catch{}let b=dC(c,{relative:o}),E=DC(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:o});function k(g){r&&r(g),g.defaultPrevented||E(g)}return B.createElement("a",rl({},d,{href:m||b,onClick:p||i?r:k,ref:n,target:l}))}),ui=B.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:s=!1,style:a,to:l,children:c}=e,u=fb(e,LC),d=cf(l,{relative:u.relative}),h=Xr(),m=B.useContext(lb),{navigator:p}=B.useContext(Yr),b=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,E=h.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(E=E.toLowerCase(),k=k?k.toLowerCase():null,b=b.toLowerCase());let g=E===b||!s&&E.startsWith(b)&&E.charAt(b.length)==="/",f=k!=null&&(k===b||!s&&k.startsWith(b)&&k.charAt(b.length)==="/"),w=g?r:void 0,S;typeof i=="function"?S=i({isActive:g,isPending:f}):S=[i,g?"active":null,f?"pending":null].filter(Boolean).join(" ");let _=typeof a=="function"?a({isActive:g,isPending:f}):a;return B.createElement(re,rl({},u,{"aria-current":w,className:S,ref:n,style:_,to:l}),typeof c=="function"?c({isActive:g,isPending:f}):c)});var Nm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Nm||(Nm={}));var Bm;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Bm||(Bm={}));function DC(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s}=e===void 0?{}:e,a=Xo(),l=Xr(),c=cf(t,{relative:s});return B.useCallback(u=>{if(PC(u,n)){u.preventDefault();let d=r!==void 0?r:tl(l)===tl(c);a(t,{replace:d,state:o,preventScrollReset:i,relative:s})}},[l,a,c,r,o,n,t,i,s])}function FC(t){let e=B.useRef(wd(t)),n=B.useRef(!1),r=Xr(),o=B.useMemo(()=>NC(r.search,n.current?null:e.current),[r.search]),i=Xo(),s=B.useCallback((a,l)=>{const c=wd(typeof a=="function"?a(o):a);n.current=!0,i("?"+c,l)},[i,o]);return[o,s]}const df="/assets/logo-52fd4790.png",pb="/assets/logo-dark-fd9bc0ce.png",mb=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Kl=B.createContext({}),Gl=B.createContext(null),ql=typeof document<"u",ol=ql?B.useLayoutEffect:B.useEffect,gb=B.createContext({strict:!1});function UC(t,e,n,r){const{visualElement:o}=B.useContext(Kl),i=B.useContext(gb),s=B.useContext(Gl),a=B.useContext(mb).reducedMotion,l=B.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return B.useInsertionEffect(()=>{c&&c.update(n,s)}),ol(()=>{c&&c.render()}),B.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?ol:B.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function bo(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $C(t,e,n){return B.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):bo(n)&&(n.current=r))},[e])}function os(t){return typeof t=="string"||Array.isArray(t)}function Yl(t){return typeof t=="object"&&typeof t.start=="function"}const hf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ff=["initial",...hf];function Xl(t){return Yl(t.animate)||ff.some(e=>os(t[e]))}function vb(t){return!!(Xl(t)||t.variants)}function VC(t,e){if(Xl(t)){const{initial:n,animate:r}=t;return{initial:n===!1||os(n)?n:void 0,animate:os(r)?r:void 0}}return t.inherit!==!1?e:{}}function zC(t){const{initial:e,animate:n}=VC(t,B.useContext(Kl));return B.useMemo(()=>({initial:e,animate:n}),[Lm(e),Lm(n)])}function Lm(t){return Array.isArray(t)?t.join(" "):t}const Om={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},is={};for(const t in Om)is[t]={isEnabled:e=>Om[t].some(n=>!!e[n])};function HC(t){for(const e in t)is[e]={...is[e],...t[e]}}const pf=B.createContext({}),yb=B.createContext({}),WC=Symbol.for("motionComponentSymbol");function KC({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&HC(t);function i(a,l){let c;const u={...B.useContext(mb),...a,layoutId:GC(a)},{isStatic:d}=u,h=zC(a),m=r(a,d);if(!d&&ql){h.visualElement=UC(o,m,u,e);const p=B.useContext(yb),b=B.useContext(gb).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,b,t,p))}return B.createElement(Kl.Provider,{value:h},c&&h.visualElement?B.createElement(c,{visualElement:h.visualElement,...u}):null,n(o,a,$C(m,h.visualElement,l),m,d,h.visualElement))}const s=B.forwardRef(i);return s[WC]=o,s}function GC({layoutId:t}){const e=B.useContext(pf).id;return e&&t!==void 0?e+"-"+t:t}function qC(t){function e(r,o={}){return KC(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const YC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mf(t){return typeof t!="string"||t.includes("-")?!1:!!(YC.indexOf(t)>-1||/[A-Z]/.test(t))}const il={};function XC(t){Object.assign(il,t)}const ys=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jr=new Set(ys);function bb(t,{layout:e,layoutId:n}){return Jr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!il[t]||t==="opacity")}const lt=t=>!!(t&&t.getVelocity),JC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QC=ys.length;function ZC(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<QC;s++){const a=ys[s];if(t[a]!==void 0){const l=JC[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(t,r?"":i):n&&r&&(i="none"),i}const wb=t=>e=>typeof e=="string"&&e.startsWith(t),xb=wb("--"),xd=wb("var(--"),eT=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,tT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,cr=(t,e,n)=>Math.min(Math.max(n,t),e),Qr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pi={...Qr,transform:t=>cr(0,1,t)},Js={...Qr,default:1},Ni=t=>Math.round(t*1e5)/1e5,Jl=/(-)?([\d]*\.?[\d])+/g,kb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nT=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bs(t){return typeof t=="string"}const ws=t=>({test:e=>bs(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ln=ws("deg"),Gt=ws("%"),W=ws("px"),rT=ws("vh"),oT=ws("vw"),Rm={...Gt,parse:t=>Gt.parse(t)/100,transform:t=>Gt.transform(t*100)},Mm={...Qr,transform:Math.round},Sb={borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,radius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,size:W,top:W,right:W,bottom:W,left:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,rotate:Ln,rotateX:Ln,rotateY:Ln,rotateZ:Ln,scale:Js,scaleX:Js,scaleY:Js,scaleZ:Js,skew:Ln,skewX:Ln,skewY:Ln,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:Pi,originX:Rm,originY:Rm,originZ:W,zIndex:Mm,fillOpacity:Pi,strokeOpacity:Pi,numOctaves:Mm};function gf(t,e,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const h=e[d];if(xb(d)){i[d]=h;continue}const m=Sb[d],p=tT(h,m);if(Jr.has(d)){if(l=!0,s[d]=p,!u)continue;h!==(m.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=p):o[d]=p}if(e.transform||(l||r?o.transform=ZC(t.transform,n,u,r):o.transform&&(o.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=a;o.transformOrigin=`${d} ${h} ${m}`}}const vf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Eb(t,e,n){for(const r in e)!lt(e[r])&&!bb(r,n)&&(t[r]=e[r])}function iT({transformTemplate:t},e,n){return B.useMemo(()=>{const r=vf();return gf(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function sT(t,e,n){const r=t.style||{},o={};return Eb(o,r,t),Object.assign(o,iT(t,e,n)),t.transformValues?t.transformValues(o):o}function aT(t,e,n){const r={},o=sT(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const lT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function sl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||lT.has(t)}let Cb=t=>!sl(t);function cT(t){t&&(Cb=e=>e.startsWith("on")?!sl(e):t(e))}try{cT(require("@emotion/is-prop-valid").default)}catch{}function uT(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Cb(o)||n===!0&&sl(o)||!e&&!sl(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function jm(t,e,n){return typeof t=="string"?t:W.transform(e+n*t)}function dT(t,e,n){const r=jm(e,t.x,t.width),o=jm(n,t.y,t.height);return`${r} ${o}`}const hT={offset:"stroke-dashoffset",array:"stroke-dasharray"},fT={offset:"strokeDashoffset",array:"strokeDasharray"};function pT(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?hT:fT;t[i.offset]=W.transform(-r);const s=W.transform(e),a=W.transform(n);t[i.array]=`${s} ${a}`}function yf(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d,h){if(gf(t,c,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:b}=t;m.transform&&(b&&(p.transform=m.transform),delete m.transform),b&&(o!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=dT(b,o!==void 0?o:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&pT(m,s,a,l,!1)}const Tb=()=>({...vf(),attrs:{}}),bf=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mT(t,e,n,r){const o=B.useMemo(()=>{const i=Tb();return yf(i,e,{enableHardwareAcceleration:!1},bf(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Eb(i,t.style,t),o.style={...i,...o.style}}return o}function gT(t=!1){return(n,r,o,{latestValues:i},s)=>{const l=(mf(n)?mT:aT)(r,i,s,n),u={...uT(r,typeof n=="string",t),...l,ref:o},{children:d}=r,h=B.useMemo(()=>lt(d)?d.get():d,[d]);return B.createElement(n,{...u,children:h})}}const wf=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function _b(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const Ib=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ab(t,e,n,r){_b(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(Ib.has(o)?o:wf(o),e.attrs[o])}function xf(t,e){const{style:n}=t,r={};for(const o in n)(lt(n[o])||e.style&&lt(e.style[o])||bb(o,t))&&(r[o]=n[o]);return r}function Pb(t,e){const n=xf(t,e);for(const r in t)if(lt(t[r])||lt(e[r])){const o=ys.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function kf(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function Nb(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const al=t=>Array.isArray(t),vT=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),yT=t=>al(t)?t[t.length-1]||0:t;function ga(t){const e=lt(t)?t.get():t;return vT(e)?e.toValue():e}function bT({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,i){const s={latestValues:wT(r,o,i,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const Bb=t=>(e,n)=>{const r=B.useContext(Kl),o=B.useContext(Gl),i=()=>bT(t,e,r,o);return n?i():Nb(i)};function wT(t,e,n,r){const o={},i=r(t,{});for(const h in i)o[h]=ga(i[h]);let{initial:s,animate:a}=t;const l=Xl(t),c=vb(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;return d&&typeof d!="boolean"&&!Yl(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const p=kf(t,m);if(!p)return;const{transitionEnd:b,transition:E,...k}=p;for(const g in k){let f=k[g];if(Array.isArray(f)){const w=u?f.length-1:0;f=f[w]}f!==null&&(o[g]=f)}for(const g in b)o[g]=b[g]}),o}const xT={useVisualState:Bb({scrapeMotionValuesFromProps:Pb,createRenderState:Tb,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}yf(n,r,{enableHardwareAcceleration:!1},bf(e.tagName),t.transformTemplate),Ab(e,n)}})},kT={useVisualState:Bb({scrapeMotionValuesFromProps:xf,createRenderState:vf})};function ST(t,{forwardMotionProps:e=!1},n,r){return{...mf(t)?xT:kT,preloadedFeatures:n,useRender:gT(e),createVisualElement:r,Component:t}}function un(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Lb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ql(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const ET=t=>e=>Lb(e)&&t(e,Ql(e));function gn(t,e,n,r){return un(t,e,ET(n),r)}const CT=(t,e)=>n=>e(t(n)),nr=(...t)=>t.reduce(CT);function Ob(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Dm=Ob("dragHorizontal"),Fm=Ob("dragVertical");function Rb(t){let e=!1;if(t==="y")e=Fm();else if(t==="x")e=Dm();else{const n=Dm(),r=Fm();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Mb(){const t=Rb(!0);return t?(t(),!1):!0}class gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}const Se=t=>t;function TT(t){let e=[],n=[],r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&o,h=d?e:n;return c&&s.add(l),h.indexOf(l)===-1&&(h.push(l),d&&o&&(r=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),s.has(u)&&(a.schedule(u),t())}o=!1,i&&(i=!1,a.process(l))}};return a}const Qs=["prepare","read","update","preRender","render","postRender"],_T=40;function IT(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=Qs.reduce((d,h)=>(d[h]=TT(()=>n=!0),d),{}),s=d=>i[d].process(o),a=d=>{n=!1,o.delta=r?1e3/60:Math.max(Math.min(d-o.timestamp,_T),1),o.timestamp=d,o.isProcessing=!0,Qs.forEach(s),o.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:Qs.reduce((d,h)=>{const m=i[h];return d[h]=(p,b=!1,E=!1)=>(n||l(),m.schedule(p,b,E)),d},{}),cancel:d=>Qs.forEach(h=>i[h].cancel(d)),state:o,steps:i}}const{schedule:de,cancel:Sn,state:Ve,steps:Wc}=IT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Se,!0);function Um(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||Mb())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&de.update(()=>a[r](i,s))};return gn(t.current,n,o,{passive:!t.getProps()[r]})}class AT extends gr{mount(){this.unmount=nr(Um(this.node,!0),Um(this.node,!1))}unmount(){}}class PT extends gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nr(un(this.node.current,"focus",()=>this.onFocus()),un(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const jb=(t,e)=>e?t===e?!0:jb(t,e.parentElement):!1;function Kc(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ql(n))}class NT extends gr{constructor(){super(...arguments),this.removeStartListeners=Se,this.removeEndListeners=Se,this.removeAccessibleListeners=Se,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=gn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();de.update(()=>{jb(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=gn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=nr(i,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||Kc("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&de.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=un(this.node.current,"keyup",s),Kc("down",(a,l)=>{this.startPress(a,l)})},n=un(this.node.current,"keydown",e),r=()=>{this.isPressing&&Kc("cancel",(i,s)=>this.cancelPress(i,s))},o=un(this.node.current,"blur",r);this.removeAccessibleListeners=nr(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&de.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Mb()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&de.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=gn(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=un(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=nr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kd=new WeakMap,Gc=new WeakMap,BT=t=>{const e=kd.get(t.target);e&&e(t)},LT=t=>{t.forEach(BT)};function OT({root:t,...e}){const n=t||document;Gc.has(n)||Gc.set(n,{});const r=Gc.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(LT,{root:t,...e})),r[o]}function RT(t,e,n){const r=OT(e);return kd.set(t,n),r.observe(t),()=>{kd.delete(t),r.unobserve(t)}}const MT={some:0,all:1};class jT extends gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:MT[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return RT(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(DT(e,n))&&this.startObserver()}unmount(){}}function DT({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const FT={inView:{Feature:jT},tap:{Feature:NT},focus:{Feature:PT},hover:{Feature:AT}};function Db(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function UT(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function $T(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Zl(t,e,n){const r=t.getProps();return kf(r,e,n!==void 0?n:r.custom,UT(t),$T(t))}const VT="framerAppearId",zT="data-"+wf(VT);let HT=Se,Sf=Se;const rr=t=>t*1e3,vn=t=>t/1e3,WT={current:!1},Fb=t=>Array.isArray(t)&&typeof t[0]=="number";function Ub(t){return!!(!t||typeof t=="string"&&$b[t]||Fb(t)||Array.isArray(t)&&t.every(Ub))}const yi=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$b={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yi([0,.65,.55,1]),circOut:yi([.55,0,1,.45]),backIn:yi([.31,.01,.66,-.59]),backOut:yi([.33,1.53,.69,.99])};function Vb(t){if(t)return Fb(t)?yi(t):Array.isArray(t)?t.map(Vb):$b[t]}function KT(t,e,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Vb(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function GT(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const zb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qT=1e-7,YT=12;function XT(t,e,n,r,o){let i,s,a=0;do s=e+(n-e)/2,i=zb(s,r,o)-t,i>0?n=s:e=s;while(Math.abs(i)>qT&&++a<YT);return s}function xs(t,e,n,r){if(t===e&&n===r)return Se;const o=i=>XT(i,0,1,t,n);return i=>i===0||i===1?i:zb(o(i),e,r)}const JT=xs(.42,0,1,1),QT=xs(0,0,.58,1),Hb=xs(.42,0,.58,1),ZT=t=>Array.isArray(t)&&typeof t[0]!="number",Wb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Kb=t=>e=>1-t(1-e),Gb=t=>1-Math.sin(Math.acos(t)),Ef=Kb(Gb),e_=Wb(Ef),qb=xs(.33,1.53,.69,.99),Cf=Kb(qb),t_=Wb(Cf),n_=t=>(t*=2)<1?.5*Cf(t):.5*(2-Math.pow(2,-10*(t-1))),r_={linear:Se,easeIn:JT,easeInOut:Hb,easeOut:QT,circIn:Gb,circInOut:e_,circOut:Ef,backIn:Cf,backInOut:t_,backOut:qb,anticipate:n_},$m=t=>{if(Array.isArray(t)){Sf(t.length===4);const[e,n,r,o]=t;return xs(e,n,r,o)}else if(typeof t=="string")return r_[t];return t},Tf=(t,e)=>n=>!!(bs(n)&&nT.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Yb=(t,e,n)=>r=>{if(!bs(r))return r;const[o,i,s,a]=r.match(Jl);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},o_=t=>cr(0,255,t),qc={...Qr,transform:t=>Math.round(o_(t))},Ar={test:Tf("rgb","red"),parse:Yb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qc.transform(t)+", "+qc.transform(e)+", "+qc.transform(n)+", "+Ni(Pi.transform(r))+")"};function i_(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Sd={test:Tf("#"),parse:i_,transform:Ar.transform},wo={test:Tf("hsl","hue"),parse:Yb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Gt.transform(Ni(e))+", "+Gt.transform(Ni(n))+", "+Ni(Pi.transform(r))+")"},Xe={test:t=>Ar.test(t)||Sd.test(t)||wo.test(t),parse:t=>Ar.test(t)?Ar.parse(t):wo.test(t)?wo.parse(t):Sd.parse(t),transform:t=>bs(t)?t:t.hasOwnProperty("red")?Ar.transform(t):wo.transform(t)},fe=(t,e,n)=>-n*t+n*e+t;function Yc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function s_({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,i=0,s=0;if(!e)o=i=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=Yc(l,a,t+1/3),i=Yc(l,a,t),s=Yc(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const Xc=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},a_=[Sd,Ar,wo],l_=t=>a_.find(e=>e.test(t));function Vm(t){const e=l_(t);let n=e.parse(t);return e===wo&&(n=s_(n)),n}const Xb=(t,e)=>{const n=Vm(t),r=Vm(e),o={...n};return i=>(o.red=Xc(n.red,r.red,i),o.green=Xc(n.green,r.green,i),o.blue=Xc(n.blue,r.blue,i),o.alpha=fe(n.alpha,r.alpha,i),Ar.transform(o))};function c_(t){var e,n;return isNaN(t)&&bs(t)&&(((e=t.match(Jl))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(kb))===null||n===void 0?void 0:n.length)||0)>0}const Jb={regex:eT,countKey:"Vars",token:"${v}",parse:Se},Qb={regex:kb,countKey:"Colors",token:"${c}",parse:Xe.parse},Zb={regex:Jl,countKey:"Numbers",token:"${n}",parse:Qr.parse};function Jc(t,{regex:e,countKey:n,token:r,parse:o}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(o)))}function ll(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Jc(n,Jb),Jc(n,Qb),Jc(n,Zb),n}function e1(t){return ll(t).values}function t1(t){const{values:e,numColors:n,numVars:r,tokenised:o}=ll(t),i=e.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(Jb.token,s[l]):l<r+n?a=a.replace(Qb.token,Xe.transform(s[l])):a=a.replace(Zb.token,Ni(s[l]));return a}}const u_=t=>typeof t=="number"?0:t;function d_(t){const e=e1(t);return t1(t)(e.map(u_))}const ur={test:c_,parse:e1,createTransformer:t1,getAnimatableNone:d_},n1=(t,e)=>n=>`${n>0?e:t}`;function r1(t,e){return typeof t=="number"?n=>fe(t,e,n):Xe.test(t)?Xb(t,e):t.startsWith("var(")?n1(t,e):i1(t,e)}const o1=(t,e)=>{const n=[...t],r=n.length,o=t.map((i,s)=>r1(i,e[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},h_=(t,e)=>{const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=r1(t[o],e[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},i1=(t,e)=>{const n=ur.createTransformer(e),r=ll(t),o=ll(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?nr(o1(r.values,o.values),n):n1(t,e)},ss=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},zm=(t,e)=>n=>fe(t,e,n);function f_(t){return typeof t=="number"?zm:typeof t=="string"?Xe.test(t)?Xb:i1:Array.isArray(t)?o1:typeof t=="object"?h_:zm}function p_(t,e,n){const r=[],o=n||f_(t[0]),i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Se:e;a=nr(l,a)}r.push(a)}return r}function s1(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(Sf(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=p_(e,r,o),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=ss(t[u],t[u+1],c);return s[u](d)};return n?c=>l(cr(t[0],t[i-1],c)):l}function m_(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=ss(0,e,r);t.push(fe(n,1,o))}}function g_(t){const e=[0];return m_(e,t.length-1),e}function v_(t,e){return t.map(n=>n*e)}function y_(t,e){return t.map(()=>e||Hb).splice(0,t.length-1)}function cl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=ZT(r)?r.map($m):$m(r),i={done:!1,value:e[0]},s=v_(n&&n.length===e.length?n:g_(e),t),a=s1(s,e,{ease:Array.isArray(o)?o:y_(e,o)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function a1(t,e){return e?t*(1e3/e):0}const b_=5;function l1(t,e,n){const r=Math.max(e-b_,0);return a1(n-t(r),e-r)}const Qc=.001,w_=.01,Hm=10,x_=.05,k_=1;function S_({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i;HT(t<=rr(Hm));let s=1-e;s=cr(x_,k_,s),t=cr(w_,Hm,vn(t)),s<1?(o=c=>{const u=c*s,d=u*t,h=u-n,m=Ed(c,s),p=Math.exp(-d);return Qc-h/m*p},i=c=>{const d=c*s*t,h=d*n+n,m=Math.pow(s,2)*Math.pow(c,2)*t,p=Math.exp(-d),b=Ed(Math.pow(c,2),s);return(-o(c)+Qc>0?-1:1)*((h-m)*p)/b}):(o=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Qc+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=C_(o,i,a);if(t=rr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const E_=12;function C_(t,e,n){let r=n;for(let o=1;o<E_;o++)r=r-t(r)/e(r);return r}function Ed(t,e){return t*Math.sqrt(1-e*e)}const T_=["duration","bounce"],__=["stiffness","damping","mass"];function Wm(t,e){return e.some(n=>t[n]!==void 0)}function I_(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Wm(t,__)&&Wm(t,T_)){const n=S_(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function c1({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],i=t[t.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:h}=I_(r),m=u?-vn(u):0,p=l/(2*Math.sqrt(a*c)),b=i-o,E=vn(Math.sqrt(a/c)),k=Math.abs(b)<5;n||(n=k?.01:2),e||(e=k?.005:.5);let g;if(p<1){const f=Ed(E,p);g=w=>{const S=Math.exp(-p*E*w);return i-S*((m+p*E*b)/f*Math.sin(f*w)+b*Math.cos(f*w))}}else if(p===1)g=f=>i-Math.exp(-E*f)*(b+(m+E*b)*f);else{const f=E*Math.sqrt(p*p-1);g=w=>{const S=Math.exp(-p*E*w),_=Math.min(f*w,300);return i-S*((m+p*E*b)*Math.sinh(_)+f*b*Math.cosh(_))/f}}return{calculatedDuration:h&&d||null,next:f=>{const w=g(f);if(h)s.done=f>=d;else{let S=m;f!==0&&(p<1?S=l1(g,f,w):S=0);const _=Math.abs(S)<=n,A=Math.abs(i-w)<=e;s.done=_&&A}return s.value=s.done?i:w,s}}}function Km({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},m=y=>a!==void 0&&y<a||l!==void 0&&y>l,p=y=>a===void 0?l:l===void 0||Math.abs(a-y)<Math.abs(l-y)?a:l;let b=n*e;const E=d+b,k=s===void 0?E:s(E);k!==E&&(b=k-d);const g=y=>-b*Math.exp(-y/r),f=y=>k+g(y),w=y=>{const x=g(y),T=f(y);h.done=Math.abs(x)<=c,h.value=h.done?k:T};let S,_;const A=y=>{m(h.value)&&(S=y,_=c1({keyframes:[h.value,p(h.value)],velocity:l1(f,y,h.value),damping:o,stiffness:i,restDelta:c,restSpeed:u}))};return A(0),{calculatedDuration:null,next:y=>{let x=!1;return!_&&S===void 0&&(x=!0,w(y),A(y)),S!==void 0&&y>S?_.next(y-S):(!x&&w(y),h)}}}const A_=t=>{const e=({timestamp:n})=>t(n);return{start:()=>de.update(e,!0),stop:()=>Sn(e),now:()=>Ve.isProcessing?Ve.timestamp:performance.now()}},Gm=2e4;function qm(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Gm;)e+=n,r=t.next(e);return e>=Gm?1/0:e}const P_={decay:Km,inertia:Km,tween:cl,keyframes:cl,spring:c1};function ul({autoplay:t=!0,delay:e=0,driver:n=A_,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...h}){let m=1,p=!1,b,E;const k=()=>{E=new Promise(V=>{b=V})};k();let g;const f=P_[o]||cl;let w;f!==cl&&typeof r[0]!="number"&&(w=s1([0,100],r,{clamp:!1}),r=[0,100]);const S=f({...h,keyframes:r});let _;a==="mirror"&&(_=f({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let A="idle",y=null,x=null,T=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=qm(S));const{calculatedDuration:C}=S;let I=1/0,N=1/0;C!==null&&(I=C+s,N=I*(i+1)-s);let O=0;const P=V=>{if(x===null)return;m>0&&(x=Math.min(x,V)),m<0&&(x=Math.min(V-N/m,x)),y!==null?O=y:O=Math.round(V-x)*m;const Y=O-e*(m>=0?1:-1),Ge=m>=0?Y<0:Y>N;O=Math.max(Y,0),A==="finished"&&y===null&&(O=N);let J=O,De=S;if(i){const It=O/I;let Fe=Math.floor(It),Ye=It%1;!Ye&&It>=1&&(Ye=1),Ye===1&&Fe--,Fe=Math.min(Fe,i+1);const pp=!!(Fe%2);pp&&(a==="reverse"?(Ye=1-Ye,s&&(Ye-=s/I)):a==="mirror"&&(De=_));let mp=cr(0,1,Ye);O>N&&(mp=a==="reverse"&&pp?1:0),J=mp*I}const ve=Ge?{done:!1,value:r[0]}:De.next(J);w&&(ve.value=w(ve.value));let{done:qe}=ve;!Ge&&C!==null&&(qe=m>=0?O>=N:O<=0);const An=y===null&&(A==="finished"||A==="running"&&qe);return d&&d(ve.value),An&&R(),ve},L=()=>{g&&g.stop(),g=void 0},D=()=>{A="idle",L(),b(),k(),x=T=null},R=()=>{A="finished",u&&u(),L(),b()},j=()=>{if(p)return;g||(g=n(P));const V=g.now();l&&l(),y!==null?x=V-y:(!x||A==="finished")&&(x=V),A==="finished"&&k(),T=x,y=null,A="running",g.start()};t&&j();const $={then(V,Y){return E.then(V,Y)},get time(){return vn(O)},set time(V){V=rr(V),O=V,y!==null||!g||m===0?y=V:x=g.now()-V/m},get duration(){const V=S.calculatedDuration===null?qm(S):S.calculatedDuration;return vn(V)},get speed(){return m},set speed(V){V===m||!g||(m=V,$.time=vn(O))},get state(){return A},play:j,pause:()=>{A="paused",y=O},stop:()=>{p=!0,A!=="idle"&&(A="idle",c&&c(),D())},cancel:()=>{T!==null&&P(T),D()},complete:()=>{A="finished"},sample:V=>(x=0,P(V))};return $}function N_(t){let e;return()=>(e===void 0&&(e=t()),e)}const B_=N_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),L_=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Zs=10,O_=2e4,R_=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Ub(e.ease);function M_(t,e,{onUpdate:n,onComplete:r,...o}){if(!(B_()&&L_.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l;const c=()=>{l=new Promise(k=>{a=k})};c();let{keyframes:u,duration:d=300,ease:h,times:m}=o;if(R_(e,o)){const k=ul({...o,repeat:0,delay:0});let g={done:!1,value:u[0]};const f=[];let w=0;for(;!g.done&&w<O_;)g=k.sample(w),f.push(g.value),w+=Zs;m=void 0,u=f,d=w-Zs,h="linear"}const p=KT(t.owner.current,e,u,{...o,duration:d,ease:h,times:m}),b=()=>p.cancel(),E=()=>{de.update(b),a(),c()};return p.onfinish=()=>{t.set(GT(u,o)),r&&r(),E()},{then(k,g){return l.then(k,g)},get timeline(){return p.timeline},set timeline(k){p.timeline=k,p.onfinish=null},get time(){return vn(p.currentTime||0)},set time(k){p.currentTime=rr(k)},get speed(){return p.playbackRate},set speed(k){p.playbackRate=k},get duration(){return vn(d)},play:()=>{s||(p.play(),Sn(b))},pause:()=>p.pause(),stop:()=>{if(s=!0,p.playState==="idle")return;const{currentTime:k}=p;if(k){const g=ul({...o,autoplay:!1});t.setWithVelocity(g.sample(k-Zs).value,g.sample(k).value,Zs)}E()},complete:()=>p.finish(),cancel:E}}function j_({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const o=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Se,pause:Se,stop:Se,then:i=>(i(),Promise.resolve()),cancel:Se,complete:Se});return e?ul({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const D_={type:"spring",stiffness:500,damping:25,restSpeed:10},F_=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),U_={type:"keyframes",duration:.8},$_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},V_=(t,{keyframes:e})=>e.length>2?U_:Jr.has(t)?t.startsWith("scale")?F_(e[1]):D_:$_,Cd=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ur.test(e)||e==="0")&&!e.startsWith("url(")),z_=new Set(["brightness","contrast","saturate","opacity"]);function H_(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Jl)||[];if(!r)return t;const o=n.replace(r,"");let i=z_.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+o+")"}const W_=/([a-z-]*)\(.*?\)/g,Td={...ur,getAnimatableNone:t=>{const e=t.match(W_);return e?e.map(H_).join(" "):t}},K_={...Sb,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:Td,WebkitFilter:Td},_f=t=>K_[t];function u1(t,e){let n=_f(t);return n!==Td&&(n=ur),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const d1=t=>/^0[^.\s]+$/.test(t);function G_(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||d1(t)}function q_(t,e,n,r){const o=Cd(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?s:i[c-1]),G_(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];i[u]=u1(e,a)}return i}function Y_({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function h1(t,e){return t[e]||t.default||t}const If=(t,e,n,r={})=>o=>{const i=h1(r,t)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-rr(s);const l=q_(e,t,n,i),c=l[0],u=l[l.length-1],d=Cd(t,c),h=Cd(t,u);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:p=>{e.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(Y_(i)||(m={...m,...V_(t,m)}),m.duration&&(m.duration=rr(m.duration)),m.repeatDelay&&(m.repeatDelay=rr(m.repeatDelay)),!d||!h||WT.current||i.type===!1)return j_(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=M_(e,t,m);if(p)return p}return ul(m)};function dl(t){return!!(lt(t)&&t.add)}const X_=t=>/^\-?\d*\.?\d+$/.test(t);function Af(t,e){t.indexOf(e)===-1&&t.push(e)}function Pf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Nf{constructor(){this.subscriptions=[]}add(e){return Af(this.subscriptions,e),()=>Pf(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const J_=t=>!isNaN(parseFloat(t));class Q_{constructor(e,n={}){this.version="10.13.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Ve;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,de.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>de.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=J_(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Nf);const r=this.events[e].add(n);return e==="change"?()=>{r(),de.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?a1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Do(t,e){return new Q_(t,e)}const f1=t=>e=>e.test(t),Z_={test:t=>t==="auto",parse:t=>t},p1=[Qr,W,Gt,Ln,oT,rT,Z_],di=t=>p1.find(f1(t)),e2=[...p1,Xe,ur],t2=t=>e2.find(f1(t));function n2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Do(n))}function r2(t,e){const n=Zl(t,e);let{transitionEnd:r={},transition:o={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=yT(i[s]);n2(t,s,a)}}function o2(t,e,n){var r,o;const i=Object.keys(e).filter(a=>!t.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(o=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&o!==void 0?o:e[l]),u!=null&&(typeof u=="string"&&(X_(u)||d1(u))?u=parseFloat(u):!t2(u)&&ur.test(c)&&(u=u1(l,c)),t.addValue(l,Do(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function i2(t,e){return e?(e[t]||e.default||e).from:void 0}function s2(t,e,n){const r={};for(const o in t){const i=i2(o,e);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function a2({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function m1(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],u=o&&t.animationState&&t.animationState.getState()[o];for(const d in a){const h=t.getValue(d),m=a[d];if(!h||m===void 0||u&&a2(u,d))continue;const p={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!h.hasAnimated){const E=t.getProps()[zT];E&&(p.elapsed=window.HandoffAppearAnimations(E,d,h,de))}h.start(If(d,h,m,t.shouldReduceMotion&&Jr.has(d)?{type:!1}:p));const b=h.animation;dl(l)&&(l.add(d),b.then(()=>l.remove(d))),c.push(b)}return s&&Promise.all(c).then(()=>{s&&r2(t,s)}),c}function _d(t,e,n={}){const r=Zl(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(m1(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=o;return l2(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>c())}else return Promise.all([i(),s(n.delay)])}function l2(t,e,n=0,r=0,o=1,i){const s=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(c2).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(_d(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function c2(t,e){return t.sortNodePosition(e)}function u2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(i=>_d(t,i,n));r=Promise.all(o)}else if(typeof e=="string")r=_d(t,e,n);else{const o=typeof e=="function"?Zl(t,e,n.custom):e;r=Promise.all(m1(t,o,n))}return r.then(()=>t.notify("AnimationComplete",e))}const d2=[...hf].reverse(),h2=hf.length;function f2(t){return e=>Promise.all(e.map(({animation:n,options:r})=>u2(t,n,r)))}function p2(t){let e=f2(t);const n=g2();let r=!0;const o=(l,c)=>{const u=Zl(t,c);if(u){const{transition:d,transitionEnd:h,...m}=u;l={...l,...m,...h}}return l};function i(l){e=l(t)}function s(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],m=new Set;let p={},b=1/0;for(let k=0;k<h2;k++){const g=d2[k],f=n[g],w=u[g]!==void 0?u[g]:d[g],S=os(w),_=g===c?f.isActive:null;_===!1&&(b=k);let A=w===d[g]&&w!==u[g]&&S;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),f.protectedKeys={...p},!f.isActive&&_===null||!w&&!f.prevProp||Yl(w)||typeof w=="boolean")continue;const y=m2(f.prevProp,w);let x=y||g===c&&f.isActive&&!A&&S||k>b&&S;const T=Array.isArray(w)?w:[w];let C=T.reduce(o,{});_===!1&&(C={});const{prevResolvedValues:I={}}=f,N={...I,...C},O=P=>{x=!0,m.delete(P),f.needsAnimating[P]=!0};for(const P in N){const L=C[P],D=I[P];p.hasOwnProperty(P)||(L!==D?al(L)&&al(D)?!Db(L,D)||y?O(P):f.protectedKeys[P]=!0:L!==void 0?O(P):m.add(P):L!==void 0&&m.has(P)?O(P):f.protectedKeys[P]=!0)}f.prevProp=w,f.prevResolvedValues=C,f.isActive&&(p={...p,...C}),r&&t.blockInitialAnimation&&(x=!1),x&&!A&&h.push(...T.map(P=>({animation:P,options:{type:g,...l}})))}if(m.size){const k={};m.forEach(g=>{const f=t.getBaseTarget(g);f!==void 0&&(k[g]=f)}),h.push({animation:k})}let E=!!h.length;return r&&u.initial===!1&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(h):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function m2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Db(e,t):!1}function wr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g2(){return{animate:wr(!0),whileInView:wr(),whileHover:wr(),whileTap:wr(),whileDrag:wr(),whileFocus:wr(),exit:wr()}}class v2 extends gr{constructor(e){super(e),e.animationState||(e.animationState=p2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Yl(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let y2=0;class b2 extends gr{constructor(){super(...arguments),this.id=y2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const w2={animation:{Feature:v2},exit:{Feature:b2}},Ym=(t,e)=>Math.abs(t-e);function x2(t,e){const n=Ym(t.x,e.x),r=Ym(t.y,e.y);return Math.sqrt(n**2+r**2)}class g1{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=eu(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=x2(c.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:h}=c,{timestamp:m}=Ve;this.history.push({...h,timestamp:m});const{onStart:p,onMove:b}=this.handlers;u||(p&&p(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Zc(u,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:h}=this.handlers,m=eu(c.type==="pointercancel"?this.lastMoveEventInfo:Zc(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,m),h&&h(c,m)},!Lb(e))return;this.handlers=n,this.transformPagePoint=r;const o=Ql(e),i=Zc(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Ve;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,eu(i,this.history)),this.removeListeners=nr(gn(window,"pointermove",this.handlePointerMove),gn(window,"pointerup",this.handlePointerUp),gn(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sn(this.updatePoint)}}function Zc(t,e){return e?{point:e(t.point)}:t}function Xm(t,e){return{x:t.x-e.x,y:t.y-e.y}}function eu({point:t},e){return{point:t,delta:Xm(t,v1(e)),offset:Xm(t,k2(e)),velocity:S2(e,.1)}}function k2(t){return t[0]}function v1(t){return t[t.length-1]}function S2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=v1(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>rr(e)));)n--;if(!r)return{x:0,y:0};const i=vn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function gt(t){return t.max-t.min}function Id(t,e=0,n=.01){return Math.abs(t-e)<=n}function Jm(t,e,n,r=.5){t.origin=r,t.originPoint=fe(e.min,e.max,t.origin),t.scale=gt(n)/gt(e),(Id(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=fe(n.min,n.max,t.origin)-t.originPoint,(Id(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Bi(t,e,n,r){Jm(t.x,e.x,n.x,r?r.originX:void 0),Jm(t.y,e.y,n.y,r?r.originY:void 0)}function Qm(t,e,n){t.min=n.min+e.min,t.max=t.min+gt(e)}function E2(t,e,n){Qm(t.x,e.x,n.x),Qm(t.y,e.y,n.y)}function Zm(t,e,n){t.min=e.min-n.min,t.max=t.min+gt(e)}function Li(t,e,n){Zm(t.x,e.x,n.x),Zm(t.y,e.y,n.y)}function C2(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?fe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?fe(n,t,r.max):Math.min(t,n)),t}function eg(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function T2(t,{top:e,left:n,bottom:r,right:o}){return{x:eg(t.x,n,o),y:eg(t.y,e,r)}}function tg(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _2(t,e){return{x:tg(t.x,e.x),y:tg(t.y,e.y)}}function I2(t,e){let n=.5;const r=gt(t),o=gt(e);return o>r?n=ss(e.min,e.max-r,t.min):r>o&&(n=ss(t.min,t.max-o,e.min)),cr(0,1,n)}function A2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ad=.35;function P2(t=Ad){return t===!1?t=0:t===!0&&(t=Ad),{x:ng(t,"left","right"),y:ng(t,"top","bottom")}}function ng(t,e,n){return{min:rg(t,e),max:rg(t,n)}}function rg(t,e){return typeof t=="number"?t:t[e]||0}const og=()=>({translate:0,scale:1,origin:0,originPoint:0}),xo=()=>({x:og(),y:og()}),ig=()=>({min:0,max:0}),xe=()=>({x:ig(),y:ig()});function Vt(t){return[t("x"),t("y")]}function y1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function N2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function B2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function tu(t){return t===void 0||t===1}function Pd({scale:t,scaleX:e,scaleY:n}){return!tu(t)||!tu(e)||!tu(n)}function Sr(t){return Pd(t)||b1(t)||t.z||t.rotate||t.rotateX||t.rotateY}function b1(t){return sg(t.x)||sg(t.y)}function sg(t){return t&&t!=="0%"}function hl(t,e,n){const r=t-n,o=e*r;return n+o}function ag(t,e,n,r,o){return o!==void 0&&(t=hl(t,o,r)),hl(t,n,r)+e}function Nd(t,e=0,n=1,r,o){t.min=ag(t.min,e,n,r,o),t.max=ag(t.max,e,n,r,o)}function w1(t,{x:e,y:n}){Nd(t.x,e.translate,e.scale,e.originPoint),Nd(t.y,n.translate,n.scale,n.originPoint)}function L2(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ko(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,w1(t,s)),r&&Sr(i.latestValues)&&ko(t,i.latestValues))}e.x=lg(e.x),e.y=lg(e.y)}function lg(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Mn(t,e){t.min=t.min+e,t.max=t.max+e}function cg(t,e,[n,r,o]){const i=e[o]!==void 0?e[o]:.5,s=fe(t.min,t.max,i);Nd(t,e[n],e[r],s,e.scale)}const O2=["x","scaleX","originX"],R2=["y","scaleY","originY"];function ko(t,e){cg(t.x,e,O2),cg(t.y,e,R2)}function x1(t,e){return y1(B2(t.getBoundingClientRect(),e))}function M2(t,e,n){const r=x1(t,n),{scroll:o}=e;return o&&(Mn(r.x,o.offset.x),Mn(r.y,o.offset.y)),r}const j2=new WeakMap;class D2{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=l=>{this.stopAnimation(),n&&this.snapToCursor(Ql(l,"page").point)},i=(l,c)=>{const{drag:u,dragPropagation:d,onDragStart:h}=this.getProps();if(u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Rb(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vt(p=>{let b=this.getAxisMotionValue(p).get()||0;if(Gt.test(b)){const{projection:E}=this.visualElement;if(E&&E.layout){const k=E.layout.layoutBox[p];k&&(b=gt(k)*(parseFloat(b)/100))}}this.originPoint[p]=b}),h&&de.update(()=>h(l,c),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(l,c)=>{const{dragPropagation:u,dragDirectionLock:d,onDirectionLock:h,onDrag:m}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:p}=c;if(d&&this.currentDirection===null){this.currentDirection=F2(p),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",c.point,p),this.updateAxis("y",c.point,p),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new g1(e,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&de.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!ea(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=C2(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;e&&bo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=T2(r.layoutBox,e):this.constraints=!1,this.elastic=P2(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vt(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=A2(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!bo(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=M2(r,o.root,this.visualElement.getTransformPagePoint());let s=_2(o.layout.layoutBox,i);if(n){const a=n(N2(s));this.hasMutatedConstraints=!!a,a&&(s=y1(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Vt(u=>{if(!ea(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const h=o?200:1e6,m=o?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(If(e,r,0,n))}stopAnimation(){Vt(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vt(n=>{const{drag:r}=this.getProps();if(!ea(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(e[n]-fe(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!bo(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Vt(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=I2({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vt(s=>{if(!ea(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(fe(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;j2.set(this.visualElement,this);const e=this.visualElement.current,n=gn(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();bo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=un(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Vt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=Ad,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function ea(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function F2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class U2 extends gr{constructor(e){super(e),this.removeGroupControls=Se,this.removeListeners=Se,this.controls=new D2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Se}unmount(){this.removeGroupControls(),this.removeListeners()}}const ug=t=>(e,n)=>{t&&de.update(()=>t(e,n))};class $2 extends gr{constructor(){super(...arguments),this.removePointerDownListener=Se}onPointerDown(e){this.session=new g1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:ug(e),onStart:ug(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&de.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=gn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function V2(){const t=B.useContext(Gl);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=B.useId();return B.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const va={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(W.test(t))t=parseFloat(t);else return t;const n=dg(t,e.target.x),r=dg(t,e.target.y);return`${n}% ${r}%`}},z2={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=ur.parse(t);if(o.length>5)return r;const i=ur.createTransformer(t),s=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+s]/=a,o[1+s]/=l;const c=fe(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};class H2 extends Rt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=e;XC(W2),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),va.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||de.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function k1(t){const[e,n]=V2(),r=B.useContext(pf);return Rt.createElement(H2,{...t,layoutGroup:r,switchLayoutGroup:B.useContext(yb),isPresent:e,safeToRemove:n})}const W2={borderRadius:{...hi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hi,borderTopRightRadius:hi,borderBottomLeftRadius:hi,borderBottomRightRadius:hi,boxShadow:z2},S1=["TopLeft","TopRight","BottomLeft","BottomRight"],K2=S1.length,hg=t=>typeof t=="string"?parseFloat(t):t,fg=t=>typeof t=="number"||W.test(t);function G2(t,e,n,r,o,i){o?(t.opacity=fe(0,n.opacity!==void 0?n.opacity:1,q2(r)),t.opacityExit=fe(e.opacity!==void 0?e.opacity:1,0,Y2(r))):i&&(t.opacity=fe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<K2;s++){const a=`border${S1[s]}Radius`;let l=pg(e,a),c=pg(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||fg(l)===fg(c)?(t[a]=Math.max(fe(hg(l),hg(c),r),0),(Gt.test(c)||Gt.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=fe(e.rotate||0,n.rotate||0,r))}function pg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const q2=E1(0,.5,Ef),Y2=E1(.5,.95,Se);function E1(t,e,n){return r=>r<t?0:r>e?1:n(ss(t,e,r))}function mg(t,e){t.min=e.min,t.max=e.max}function bt(t,e){mg(t.x,e.x),mg(t.y,e.y)}function gg(t,e,n,r,o){return t-=e,t=hl(t,1/n,r),o!==void 0&&(t=hl(t,1/o,r)),t}function X2(t,e=0,n=1,r=.5,o,i=t,s=t){if(Gt.test(e)&&(e=parseFloat(e),e=fe(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=fe(i.min,i.max,r);t===i&&(a-=e),t.min=gg(t.min,e,n,a,o),t.max=gg(t.max,e,n,a,o)}function vg(t,e,[n,r,o],i,s){X2(t,e[n],e[r],e[o],e.scale,i,s)}const J2=["x","scaleX","originX"],Q2=["y","scaleY","originY"];function yg(t,e,n,r){vg(t.x,e,J2,n?n.x:void 0,r?r.x:void 0),vg(t.y,e,Q2,n?n.y:void 0,r?r.y:void 0)}function bg(t){return t.translate===0&&t.scale===1}function C1(t){return bg(t.x)&&bg(t.y)}function Bd(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function wg(t){return gt(t.x)/gt(t.y)}class Z2{constructor(){this.members=[]}add(e){Af(this.members,e),e.scheduleRender()}remove(e){if(Pf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xg(t,e,n){let r="";const o=t.x.translate/e.x,i=t.y.translate/e.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const eI=(t,e)=>t.depth-e.depth;class tI{constructor(){this.children=[],this.isDirty=!1}add(e){Af(this.children,e),this.isDirty=!0}remove(e){Pf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eI),this.isDirty=!1,this.children.forEach(e)}}function nI(t,e){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=e&&(Sn(r),t(i-e))};return de.read(r,!0),()=>Sn(r)}function rI(t){window.MotionDebug&&window.MotionDebug.record(t)}function oI(t){return t instanceof SVGElement&&t.tagName!=="svg"}function iI(t,e,n){const r=lt(t)?t:Do(t);return r.start(If("",r,e,n)),r.animation}const kg=["","X","Y","Z"],Sg=1e3;let sI=0;const Er={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function T1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=e==null?void 0:e()){this.id=sI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Er.totalNodes=Er.resolvedTargetDeltas=Er.recalculatedProjection=0,this.nodes.forEach(cI),this.nodes.forEach(pI),this.nodes.forEach(mI),this.nodes.forEach(uI),rI(Er)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new tI)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Nf),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oI(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=nI(h,250),va.hasAnimatedSinceResize&&(va.hasAnimatedSinceResize=!1,this.nodes.forEach(Cg))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||wI,{onLayoutAnimationStart:E,onLayoutAnimationComplete:k}=u.getProps(),g=!this.targetLayout||!Bd(this.targetLayout,p)||m,f=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||f||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,f);const w={...h1(b,"layout"),onPlay:E,onComplete:k};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||Cg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gI),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Eg);return}this.isUpdating||this.nodes.forEach(hI),this.isUpdating=!1,this.nodes.forEach(fI),this.nodes.forEach(aI),this.nodes.forEach(lI),this.clearAllSnapshots();const a=performance.now();Ve.delta=cr(0,1e3/60,a-Ve.timestamp),Ve.timestamp=a,Ve.isProcessing=!0,Wc.update.process(Ve),Wc.preRender.process(Ve),Wc.render.process(Ve),Ve.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(dI),this.sharedNodes.forEach(vI)}scheduleUpdateProjection(){de.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!C1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||Sr(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),kI(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return xe();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Mn(a.x,l.offset.x),Mn(a.y,l.offset.y)),a}removeElementScroll(s){const a=xe();bt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){bt(a,s);const{scroll:h}=this.root;h&&(Mn(a.x,-h.offset.x),Mn(a.y,-h.offset.y))}Mn(a.x,u.offset.x),Mn(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=xe();bt(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ko(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Sr(u.latestValues)&&ko(l,u.latestValues)}return Sr(this.latestValues)&&ko(l,this.latestValues),l}removeTransform(s){const a=xe();bt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Sr(c.latestValues))continue;Pd(c.latestValues)&&c.updateSnapshot();const u=xe(),d=c.measurePageBox();bt(u,d),yg(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Sr(this.latestValues)&&yg(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ve.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ve.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),Li(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xe(),this.targetWithTransforms=xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bt(this.target,this.layout.layoutBox),w1(this.target,this.targetDelta)):bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),Li(this.relativeTargetOrigin,this.target,m.target),bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Er.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Pd(this.parent.latestValues)||b1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ve.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;bt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;L2(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=xo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=xo(),this.projectionDeltaWithTransform=xo());const b=this.projectionTransform;Bi(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=xg(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Er.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=xe(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,b=m!==p,E=this.getStack(),k=!E||E.members.length<=1,g=!!(b&&!k&&this.options.crossfade===!0&&!this.path.some(bI));this.animationProgress=0;let f;this.mixTargetDelta=w=>{const S=w/1e3;Tg(d.x,s.x,S),Tg(d.y,s.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Li(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yI(this.relativeTarget,this.relativeTargetOrigin,h,S),f&&Bd(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=xe()),bt(f,this.relativeTarget)),b&&(this.animationValues=u,G2(u,c,this.latestValues,S,g,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{va.hasAnimatedSinceResize=!0,this.currentAnimation=iI(0,Sg,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&_1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||xe();const d=gt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=gt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}bt(a,l),ko(a,u),Bi(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Z2),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<kg.length;u++){const d="rotate"+kg[u];l[d]&&(c[d]=l[d],s.setStaticValue(d,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ga(s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=ga(s.pointerEvents)||""),this.hasProjected&&!Sr(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=xg(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in il){if(h[b]===void 0)continue;const{correct:E,applyTo:k}=il[b],g=c.transform==="none"?h[b]:E(h[b],d);if(k){const f=k.length;for(let w=0;w<f;w++)c[k[w]]=g}else c[b]=g}return this.options.layoutId&&(c.pointerEvents=d===this?ga(s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Eg),this.root.sharedNodes.clear()}}}function aI(t){t.updateLayout()}function lI(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;i==="size"?Vt(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],m=gt(h);h.min=r[d].min,h.max=h.min+m}):_1(i,n.layoutBox,r)&&Vt(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],m=gt(r[d]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=xo();Bi(a,r,n.layoutBox);const l=xo();s?Bi(l,t.applyTransform(o,!0),n.measuredBox):Bi(l,r,n.layoutBox);const c=!C1(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:m}=d;if(h&&m){const p=xe();Li(p,n.layoutBox,h.layoutBox);const b=xe();Li(b,r,m.layoutBox),Bd(p,b)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function cI(t){Er.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dI(t){t.clearSnapshot()}function Eg(t){t.clearMeasurements()}function hI(t){t.isLayoutDirty=!1}function fI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Cg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pI(t){t.resolveTargetDelta()}function mI(t){t.calcProjection()}function gI(t){t.resetRotation()}function vI(t){t.removeLeadSnapshot()}function Tg(t,e,n){t.translate=fe(e.translate,0,n),t.scale=fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _g(t,e,n,r){t.min=fe(e.min,n.min,r),t.max=fe(e.max,n.max,r)}function yI(t,e,n,r){_g(t.x,e.x,n.x,r),_g(t.y,e.y,n.y,r)}function bI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wI={duration:.45,ease:[.4,0,.1,1]};let fl;const xI=()=>navigator.userAgent.toLowerCase().includes("applewebkit/");function Ig(t){t.min=fl(t.min),t.max=fl(t.max)}function kI(t){fl||(fl=xI()?Math.round:e=>Math.round(e*2)/2),Ig(t.x),Ig(t.y)}function _1(t,e,n){return t==="position"||t==="preserve-aspect"&&!Id(wg(e),wg(n),.2)}const SI=T1({attachResizeListener:(t,e)=>un(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nu={current:void 0},I1=T1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!nu.current){const t=new SI({});t.mount(window),t.setOptions({layoutScroll:!0}),nu.current=t}return nu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),EI={pan:{Feature:$2},drag:{Feature:U2,ProjectionNode:I1,MeasureLayout:k1}},CI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function TI(t){const e=CI.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Ld(t,e,n=1){const[r,o]=TI(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);return i?i.trim():xd(o)?Ld(o,e,n+1):o}function _I(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const i=o.get();if(!xd(i))return;const s=Ld(i,r);s&&o.set(s)});for(const o in e){const i=e[o];if(!xd(i))continue;const s=Ld(i,r);s&&(e[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:e,transitionEnd:n}}const II=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),A1=t=>II.has(t),AI=t=>Object.keys(t).some(A1),Ag=t=>t===Qr||t===W,Pg=(t,e)=>parseFloat(t.split(", ")[e]),Ng=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Pg(o[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Pg(i[1],t):0}},PI=new Set(["x","y","z"]),NI=ys.filter(t=>!PI.has(t));function BI(t){const e=[];return NI.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Fo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ng(4,13),y:Ng(5,14)};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const LI=(t,e,n)=>{const r=e.measureViewportBox(),o=e.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Fo[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Fo[c](l,i)}),t},OI=(t,e,n={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter(A1);let i=[],s=!1;const a=[];if(o.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=di(u);const h=e[l];let m;if(al(h)){const p=h.length,b=h[0]===null?1:0;u=h[b],d=di(u);for(let E=b;E<p&&h[E]!==null;E++)m?Sf(di(h[E])===m):m=di(h[E])}else m=di(h);if(d!==m)if(Ag(d)&&Ag(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&m===W&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(u===0||h===0)?u===0?c.set(m.transform(u)):e[l]=d.transform(h):(s||(i=BI(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=LI(e,t,a);return i.length&&i.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),ql&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function RI(t,e,n,r){return AI(e)?OI(t,e,n,r):{target:e,transitionEnd:r}}const MI=(t,e,n,r)=>{const o=_I(t,e,r);return e=o.target,r=o.transitionEnd,RI(t,e,n,r)},Od={current:null},P1={current:!1};function jI(){if(P1.current=!0,!!ql)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Od.current=t.matches;t.addListener(e),e()}else Od.current=!1}function DI(t,e,n){const{willChange:r}=e;for(const o in e){const i=e[o],s=n[o];if(lt(i))t.addValue(o,i),dl(r)&&r.add(o);else if(lt(s))t.addValue(o,Do(i,{owner:t})),dl(r)&&r.remove(o);else if(s!==i)if(t.hasValue(o)){const a=t.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(o);t.addValue(o,Do(a!==void 0?a:i,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const Bg=new WeakMap,N1=Object.keys(is),FI=N1.length,Lg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],UI=ff.length;class $I{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>de.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=Xl(n),this.isVariantNode=vb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const h=u[d];a[d]!==void 0&&lt(h)&&(h.set(a[d],!1),dl(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Bg.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),P1.current||jI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Od.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Bg.delete(this.current),this.projection&&this.projection.unmount(),Sn(this.notifyUpdate),Sn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Jr.has(e),o=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&de.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,i){let s,a;for(let l=0;l<FI;l++){const c=N1[l],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:m}=is[c];h&&(s=h),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&bo(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Lg.length;r++){const o=Lg[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=e["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=DI(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<UI;r++){const o=ff[r],i=this.props[o];(os(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Do(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=kf(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!lt(i)?i:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Nf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class B1 extends $I{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:o},i){let s=s2(r,e||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){o2(this,r,s);const a=MI(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function VI(t){return window.getComputedStyle(t)}class zI extends B1{readValueFromInstance(e,n){if(Jr.has(n)){const r=_f(n);return r&&r.default||0}else{const r=VI(e),o=(xb(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return x1(e,n)}build(e,n,r,o){gf(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return xf(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){_b(e,n,r,o)}}class HI extends B1{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Jr.has(n)){const r=_f(n);return r&&r.default||0}return n=Ib.has(n)?n:wf(n),e.getAttribute(n)}measureInstanceViewportBox(){return xe()}scrapeMotionValuesFromProps(e,n){return Pb(e,n)}build(e,n,r,o){yf(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){Ab(e,n,r,o)}mount(e){this.isSVGTag=bf(e.tagName),super.mount(e)}}const WI=(t,e)=>mf(t)?new HI(e,{enableHardwareAcceleration:!1}):new zI(e,{enableHardwareAcceleration:!0}),KI={layout:{ProjectionNode:I1,MeasureLayout:k1}},GI={...w2,...FT,...EI,...KI},qI=qC((t,e)=>ST(t,e,GI,WI));function L1(){const t=B.useRef(!1);return ol(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function YI(){const t=L1(),[e,n]=B.useState(0),r=B.useCallback(()=>{t.current&&n(e+1)},[e]);return[B.useCallback(()=>de.postRender(r),[r]),e]}class XI extends B.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function JI({children:t,isPresent:e}){const n=B.useId(),r=B.useRef(null),o=B.useRef({width:0,height:0,top:0,left:0});return B.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(e||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),B.createElement(XI,{isPresent:e,childRef:r,sizeRef:o},B.cloneElement(t,{ref:r}))}const ru=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=Nb(QI),l=B.useId(),c=B.useMemo(()=>({id:l,initial:e,isPresent:n,custom:o,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?void 0:[n]);return B.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),B.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=B.createElement(JI,{isPresent:n},t)),B.createElement(Gl.Provider,{value:c},t)};function QI(){return new Map}function ZI(t){return B.useEffect(()=>()=>t(),[])}const no=t=>t.key||"";function eA(t,e){t.forEach(n=>{const r=no(n);e.set(r,n)})}function tA(t){const e=[];return B.Children.forEach(t,n=>{B.isValidElement(n)&&e.push(n)}),e}const nA=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=B.useContext(pf).forceRender||YI()[0],l=L1(),c=tA(t);let u=c;const d=B.useRef(new Map).current,h=B.useRef(u),m=B.useRef(new Map).current,p=B.useRef(!0);if(ol(()=>{p.current=!1,eA(c,m),h.current=u}),ZI(()=>{p.current=!0,m.clear(),d.clear()}),p.current)return B.createElement(B.Fragment,null,u.map(g=>B.createElement(ru,{key:no(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},g)));u=[...u];const b=h.current.map(no),E=c.map(no),k=b.length;for(let g=0;g<k;g++){const f=b[g];E.indexOf(f)===-1&&!d.has(f)&&d.set(f,void 0)}return s==="wait"&&d.size&&(u=[]),d.forEach((g,f)=>{if(E.indexOf(f)!==-1)return;const w=m.get(f);if(!w)return;const S=b.indexOf(f);let _=g;if(!_){const A=()=>{m.delete(f),d.delete(f);const y=h.current.findIndex(x=>x.key===f);if(h.current.splice(y,1),!d.size){if(h.current=c,l.current===!1)return;a(),r&&r()}};_=B.createElement(ru,{key:no(w),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:i,mode:s},w),d.set(f,_)}u.splice(S,0,_)}),u=u.map(g=>{const f=g.key;return d.has(f)?g:B.createElement(ru,{key:no(g),isPresent:!0,presenceAffectsLayout:i,mode:s},g)}),B.createElement(B.Fragment,null,d.size?u:u.map(g=>B.cloneElement(g)))},Ee=({children:t,keyValue:e,initial:n={opacity:0},animate:r={opacity:1},transition:o={duration:1},className:i})=>v.jsx(nA,{children:v.jsx(qI.div,{initial:n,animate:r,transition:o,className:i,children:t},e)}),pl=(t,e)=>sessionStorage.setItem(t,e),Og=t=>sessionStorage.getItem(t),rA=t=>sessionStorage.removeItem(t),oA=()=>{const{userAuth:t,setUserAuth:e}=B.useContext(Te),n=()=>{rA("user"),e({access_token:null})};return v.jsx(Ee,{className:"absolute right-0 z-50 ",transition:{duration:.2},children:v.jsxs("div",{className:"bg-white absolute right-0 border border-grey w-60  duration-200",children:[v.jsxs(re,{to:"/editor",className:"flex gap-2 link md:hidden pl-8 py-4 ",children:[v.jsx("i",{className:"fi fi-rr-file-edit"}),v.jsx("p",{children:"Write"})]}),v.jsx(re,{className:" link pl-8 py-4",to:`/user/${t.username}/`,children:"Profile"}),v.jsx(re,{to:"/settings/edit-profile",className:"link pl-8 py-4",children:"Settings"}),v.jsx(re,{to:"/dashboard/blogs",className:"link pl-8 py-4",children:"Dashboard"}),v.jsx("span",{className:"absolute border-t border-grey  w-[200%]"}),v.jsxs("button",{onClick:n,className:"text-left p-4 hover:bg-grey w-full pl-8 py-4 ",children:[v.jsx("h1",{className:"font-bold text-xl mb-1 ",children:"sign out"}),v.jsxs("p",{className:"text-dark-grey",children:["@",t.username]})]})]})})};function O1(t,e){return function(){return t.apply(e,arguments)}}const{toString:iA}=Object.prototype,{getPrototypeOf:Bf}=Object,ec=(t=>e=>{const n=iA.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),tn=t=>(t=t.toLowerCase(),e=>ec(e)===t),tc=t=>e=>typeof e===t,{isArray:Qo}=Array,as=tc("undefined");function sA(t){return t!==null&&!as(t)&&t.constructor!==null&&!as(t.constructor)&&Ct(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const R1=tn("ArrayBuffer");function aA(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&R1(t.buffer),e}const lA=tc("string"),Ct=tc("function"),M1=tc("number"),nc=t=>t!==null&&typeof t=="object",cA=t=>t===!0||t===!1,ya=t=>{if(ec(t)!=="object")return!1;const e=Bf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uA=tn("Date"),dA=tn("File"),hA=tn("Blob"),fA=tn("FileList"),pA=t=>nc(t)&&Ct(t.pipe),mA=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ct(t.append)&&((e=ec(t))==="formdata"||e==="object"&&Ct(t.toString)&&t.toString()==="[object FormData]"))},gA=tn("URLSearchParams"),vA=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ks(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),Qo(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,t[a],a,t)}}function j1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const D1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),F1=t=>!as(t)&&t!==D1;function Rd(){const{caseless:t}=F1(this)&&this||{},e={},n=(r,o)=>{const i=t&&j1(e,o)||o;ya(e[i])&&ya(r)?e[i]=Rd(e[i],r):ya(r)?e[i]=Rd({},r):Qo(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&ks(arguments[r],n);return e}const yA=(t,e,n,{allOwnKeys:r}={})=>(ks(e,(o,i)=>{n&&Ct(o)?t[i]=O1(o,n):t[i]=o},{allOwnKeys:r}),t),bA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wA=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},xA=(t,e,n,r)=>{let o,i,s;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Bf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kA=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},SA=t=>{if(!t)return null;if(Qo(t))return t;let e=t.length;if(!M1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},EA=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Bf(Uint8Array)),CA=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},TA=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},_A=tn("HTMLFormElement"),IA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Rg=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),AA=tn("RegExp"),U1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ks(n,(o,i)=>{let s;(s=e(o,i,t))!==!1&&(r[i]=s||o)}),Object.defineProperties(t,r)},PA=t=>{U1(t,(e,n)=>{if(Ct(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ct(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},NA=(t,e)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Qo(t)?r(t):r(String(t).split(e)),n},BA=()=>{},LA=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ou="abcdefghijklmnopqrstuvwxyz",Mg="0123456789",$1={DIGIT:Mg,ALPHA:ou,ALPHA_DIGIT:ou+ou.toUpperCase()+Mg},OA=(t=16,e=$1.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function RA(t){return!!(t&&Ct(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const MA=t=>{const e=new Array(10),n=(r,o)=>{if(nc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const i=Qo(r)?[]:{};return ks(r,(s,a)=>{const l=n(s,o+1);!as(l)&&(i[a]=l)}),e[o]=void 0,i}}return r};return n(t,0)},jA=tn("AsyncFunction"),DA=t=>t&&(nc(t)||Ct(t))&&Ct(t.then)&&Ct(t.catch),F={isArray:Qo,isArrayBuffer:R1,isBuffer:sA,isFormData:mA,isArrayBufferView:aA,isString:lA,isNumber:M1,isBoolean:cA,isObject:nc,isPlainObject:ya,isUndefined:as,isDate:uA,isFile:dA,isBlob:hA,isRegExp:AA,isFunction:Ct,isStream:pA,isURLSearchParams:gA,isTypedArray:EA,isFileList:fA,forEach:ks,merge:Rd,extend:yA,trim:vA,stripBOM:bA,inherits:wA,toFlatObject:xA,kindOf:ec,kindOfTest:tn,endsWith:kA,toArray:SA,forEachEntry:CA,matchAll:TA,isHTMLForm:_A,hasOwnProperty:Rg,hasOwnProp:Rg,reduceDescriptors:U1,freezeMethods:PA,toObjectSet:NA,toCamelCase:IA,noop:BA,toFiniteNumber:LA,findKey:j1,global:D1,isContextDefined:F1,ALPHABET:$1,generateString:OA,isSpecCompliantForm:RA,toJSONObject:MA,isAsyncFn:jA,isThenable:DA};function ee(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}F.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const V1=ee.prototype,z1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{z1[t]={value:t}});Object.defineProperties(ee,z1);Object.defineProperty(V1,"isAxiosError",{value:!0});ee.from=(t,e,n,r,o,i)=>{const s=Object.create(V1);return F.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ee.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const FA=null;function Md(t){return F.isPlainObject(t)||F.isArray(t)}function H1(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function jg(t,e,n){return t?t.concat(e).map(function(o,i){return o=H1(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function UA(t){return F.isArray(t)&&!t.some(Md)}const $A=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function rc(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,E){return!F.isUndefined(E[b])});const r=n.metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(o))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(F.isDate(p))return p.toISOString();if(!l&&F.isBlob(p))throw new ee("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(p)||F.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,b,E){let k=p;if(p&&!E&&typeof p=="object"){if(F.endsWith(b,"{}"))b=r?b:b.slice(0,-2),p=JSON.stringify(p);else if(F.isArray(p)&&UA(p)||(F.isFileList(p)||F.endsWith(b,"[]"))&&(k=F.toArray(p)))return b=H1(b),k.forEach(function(f,w){!(F.isUndefined(f)||f===null)&&e.append(s===!0?jg([b],w,i):s===null?b:b+"[]",c(f))}),!1}return Md(p)?!0:(e.append(jg(E,b,i),c(p)),!1)}const d=[],h=Object.assign($A,{defaultVisitor:u,convertValue:c,isVisitable:Md});function m(p,b){if(!F.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));d.push(p),F.forEach(p,function(k,g){(!(F.isUndefined(k)||k===null)&&o.call(e,k,F.isString(g)?g.trim():g,b,h))===!0&&m(k,b?b.concat(g):[g])}),d.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Dg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Lf(t,e){this._pairs=[],t&&rc(t,this,e)}const W1=Lf.prototype;W1.append=function(e,n){this._pairs.push([e,n])};W1.toString=function(e){const n=e?function(r){return e.call(this,r,Dg)}:Dg;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function VA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function K1(t,e,n){if(!e)return t;const r=n&&n.encode||VA,o=n&&n.serialize;let i;if(o?i=o(e,n):i=F.isURLSearchParams(e)?e.toString():new Lf(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class zA{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Fg=zA,G1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HA=typeof URLSearchParams<"u"?URLSearchParams:Lf,WA=typeof FormData<"u"?FormData:null,KA=typeof Blob<"u"?Blob:null,GA={isBrowser:!0,classes:{URLSearchParams:HA,FormData:WA,Blob:KA},protocols:["http","https","file","blob","url","data"]},q1=typeof window<"u"&&typeof document<"u",qA=(t=>q1&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),YA=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),XA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:q1,hasStandardBrowserEnv:qA,hasStandardBrowserWebWorkerEnv:YA},Symbol.toStringTag,{value:"Module"})),Ht={...XA,...GA};function JA(t,e){return rc(t,new Ht.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Ht.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function QA(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ZA(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function Y1(t){function e(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=i>=n.length;return s=!s&&F.isArray(o)?o.length:s,l?(F.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!F.isObject(o[s]))&&(o[s]=[]),e(n,r,o[s],i)&&F.isArray(o[s])&&(o[s]=ZA(o[s])),!a)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(r,o)=>{e(QA(r),o,n,0)}),n}return null}function eP(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Of={transitional:G1,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=F.isObject(e);if(i&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return o?JSON.stringify(Y1(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return JA(e,this.formSerializer).toString();if((a=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return rc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),eP(e)):e}],transformResponse:[function(e){const n=this.transitional||Of.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(e&&F.isString(e)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?ee.from(a,ee.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ht.classes.FormData,Blob:Ht.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{Of.headers[t]={}});const Rf=Of,tP=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nP=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||e[n]&&tP[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Ug=Symbol("internals");function fi(t){return t&&String(t).trim().toLowerCase()}function ba(t){return t===!1||t==null?t:F.isArray(t)?t.map(ba):String(t)}function rP(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const oP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function iu(t,e,n,r,o){if(F.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!F.isString(e)){if(F.isString(r))return e.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(e)}}function iP(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function sP(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}class oc{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function i(a,l,c){const u=fi(l);if(!u)throw new Error("header name must be a non-empty string");const d=F.findKey(o,u);(!d||o[d]===void 0||c===!0||c===void 0&&o[d]!==!1)&&(o[d||l]=ba(a))}const s=(a,l)=>F.forEach(a,(c,u)=>i(c,u,l));return F.isPlainObject(e)||e instanceof this.constructor?s(e,n):F.isString(e)&&(e=e.trim())&&!oP(e)?s(nP(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=fi(e),e){const r=F.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return rP(o);if(F.isFunction(n))return n.call(this,o,r);if(F.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=fi(e),e){const r=F.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||iu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function i(s){if(s=fi(s),s){const a=F.findKey(r,s);a&&(!n||iu(r,r[a],a,n))&&(delete r[a],o=!0)}}return F.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!e||iu(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const n=this,r={};return F.forEach(this,(o,i)=>{const s=F.findKey(r,i);if(s){n[s]=ba(o),delete n[i];return}const a=e?iP(i):String(i).trim();a!==i&&delete n[i],n[a]=ba(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Ug]=this[Ug]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=fi(s);r[a]||(sP(o,s),r[a]=!0)}return F.isArray(e)?e.forEach(i):i(e),this}}oc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(oc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});F.freezeMethods(oc);const yn=oc;function su(t,e){const n=this||Rf,r=e||n,o=yn.from(r.headers);let i=r.data;return F.forEach(t,function(a){i=a.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function X1(t){return!!(t&&t.__CANCEL__)}function Ss(t,e,n){ee.call(this,t??"canceled",ee.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(Ss,ee,{__CANCEL__:!0});function aP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ee("Request failed with status code "+n.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const lP=Ht.hasStandardBrowserEnv?{write(t,e,n,r,o,i){const s=[t+"="+encodeURIComponent(e)];F.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),F.isString(r)&&s.push("path="+r),F.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function uP(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function J1(t,e){return t&&!cP(e)?uP(t,e):e}const dP=Ht.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(i){let s=i;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(s){const a=F.isString(s)?o(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function hP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function fP(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];s||(s=c),n[o]=l,r[o]=c;let d=i,h=0;for(;d!==o;)h+=n[d++],d=d%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-s<e)return;const m=u&&c-u;return m?Math.round(h*1e3/m):void 0}}function $g(t,e){let n=0;const r=fP(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,l=r(a),c=i<=s;n=i;const u={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-i)/l:void 0,event:o};u[e?"download":"upload"]=!0,t(u)}}const pP=typeof XMLHttpRequest<"u",mP=pP&&function(t){return new Promise(function(n,r){let o=t.data;const i=yn.from(t.headers).normalize();let{responseType:s,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let u;if(F.isFormData(o)){if(Ht.hasStandardBrowserEnv||Ht.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((u=i.getContentType())!==!1){const[b,...E]=u?u.split(";").map(k=>k.trim()).filter(Boolean):[];i.setContentType([b||"multipart/form-data",...E].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const b=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(b+":"+E))}const h=J1(t.baseURL,t.url);d.open(t.method.toUpperCase(),K1(h,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function m(){if(!d)return;const b=yn.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),k={data:!s||s==="text"||s==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:b,config:t,request:d};aP(function(f){n(f),c()},function(f){r(f),c()},k),d=null}if("onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(m)},d.onabort=function(){d&&(r(new ee("Request aborted",ee.ECONNABORTED,t,d)),d=null)},d.onerror=function(){r(new ee("Network Error",ee.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const k=t.transitional||G1;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),r(new ee(E,k.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,t,d)),d=null},Ht.hasStandardBrowserEnv&&(a&&F.isFunction(a)&&(a=a(t)),a||a!==!1&&dP(h))){const b=t.xsrfHeaderName&&t.xsrfCookieName&&lP.read(t.xsrfCookieName);b&&i.set(t.xsrfHeaderName,b)}o===void 0&&i.setContentType(null),"setRequestHeader"in d&&F.forEach(i.toJSON(),function(E,k){d.setRequestHeader(k,E)}),F.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),s&&s!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",$g(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",$g(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=b=>{d&&(r(!b||b.type?new Ss(null,t,d):b),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const p=hP(h);if(p&&Ht.protocols.indexOf(p)===-1){r(new ee("Unsupported protocol "+p+":",ee.ERR_BAD_REQUEST,t));return}d.send(o||null)})},jd={http:FA,xhr:mP};F.forEach(jd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Vg=t=>`- ${t}`,gP=t=>F.isFunction(t)||t===null||t===!1,Q1={getAdapter:t=>{t=F.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){n=t[i];let s;if(r=n,!gP(n)&&(r=jd[(s=String(n)).toLowerCase()],r===void 0))throw new ee(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(Vg).join(`
`):" "+Vg(i[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:jd};function au(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ss(null,t)}function zg(t){return au(t),t.headers=yn.from(t.headers),t.data=su.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Q1.getAdapter(t.adapter||Rf.adapter)(t).then(function(r){return au(t),r.data=su.call(t,t.transformResponse,r),r.headers=yn.from(r.headers),r},function(r){return X1(r)||(au(t),r&&r.response&&(r.response.data=su.call(t,t.transformResponse,r.response),r.response.headers=yn.from(r.response.headers))),Promise.reject(r)})}const Hg=t=>t instanceof yn?{...t}:t;function Uo(t,e){e=e||{};const n={};function r(c,u,d){return F.isPlainObject(c)&&F.isPlainObject(u)?F.merge.call({caseless:d},c,u):F.isPlainObject(u)?F.merge({},u):F.isArray(u)?u.slice():u}function o(c,u,d){if(F.isUndefined(u)){if(!F.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function i(c,u){if(!F.isUndefined(u))return r(void 0,u)}function s(c,u){if(F.isUndefined(u)){if(!F.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u)=>o(Hg(c),Hg(u),!0)};return F.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||o,h=d(t[u],e[u],u);F.isUndefined(h)&&d!==a||(n[u]=h)}),n}const Z1="1.6.8",Mf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Mf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Wg={};Mf.transitional=function(e,n,r){function o(i,s){return"[Axios v"+Z1+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new ee(o(s," has been removed"+(n?" in "+n:"")),ee.ERR_DEPRECATED);return n&&!Wg[s]&&(Wg[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};function vP(t,e,n){if(typeof t!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=t[i],l=a===void 0||s(a,i,t);if(l!==!0)throw new ee("option "+i+" must be "+l,ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ee("Unknown option "+i,ee.ERR_BAD_OPTION)}}const Dd={assertOptions:vP,validators:Mf},Nn=Dd.validators;class ml{constructor(e){this.defaults=e,this.interceptors={request:new Fg,response:new Fg}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Uo(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Dd.assertOptions(r,{silentJSONParsing:Nn.transitional(Nn.boolean),forcedJSONParsing:Nn.transitional(Nn.boolean),clarifyTimeoutError:Nn.transitional(Nn.boolean)},!1),o!=null&&(F.isFunction(o)?n.paramsSerializer={serialize:o}:Dd.assertOptions(o,{encode:Nn.function,serialize:Nn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&F.merge(i.common,i[n.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=yn.concat(s,i);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,d=0,h;if(!l){const p=[zg.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),h=p.length,u=Promise.resolve(n);d<h;)u=u.then(p[d++],p[d++]);return u}h=a.length;let m=n;for(d=0;d<h;){const p=a[d++],b=a[d++];try{m=p(m)}catch(E){b.call(this,E);break}}try{u=zg.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Uo(this.defaults,e);const n=J1(e.baseURL,e.url);return K1(n,e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(e){ml.prototype[e]=function(n,r){return this.request(Uo(r||{},{method:e,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,a){return this.request(Uo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}ml.prototype[e]=n(),ml.prototype[e+"Form"]=n(!0)});const wa=ml;class jf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new Ss(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new jf(function(o){e=o}),cancel:e}}}const yP=jf;function bP(t){return function(n){return t.apply(null,n)}}function wP(t){return F.isObject(t)&&t.isAxiosError===!0}const Fd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fd).forEach(([t,e])=>{Fd[e]=t});const xP=Fd;function ew(t){const e=new wa(t),n=O1(wa.prototype.request,e);return F.extend(n,wa.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return ew(Uo(t,o))},n}const Ce=ew(Rf);Ce.Axios=wa;Ce.CanceledError=Ss;Ce.CancelToken=yP;Ce.isCancel=X1;Ce.VERSION=Z1;Ce.toFormData=rc;Ce.AxiosError=ee;Ce.Cancel=Ce.CanceledError;Ce.all=function(e){return Promise.all(e)};Ce.spread=bP;Ce.isAxiosError=wP;Ce.mergeConfig=Uo;Ce.AxiosHeaders=yn;Ce.formToJSON=t=>Y1(F.isHTMLForm(t)?new FormData(t):t);Ce.getAdapter=Q1.getAdapter;Ce.HttpStatusCode=xP;Ce.default=Ce;const te=Ce,kP=()=>{const[t,e]=B.useState(!1),[n,r]=B.useState(!1);let{theme:o,setTheme:i}=B.useContext(vc),s=Xo();const{userAuth:a,userAuth:{access_token:l,profile_img:c,new_notifications_available:u},setUserAuth:d}=B.useContext(Te);B.useEffect(()=>{l&&te.get("https://astro-blog-mj7v.onrender.com/new-notification",{headers:{Authorization:`Bearer ${l}`}}).then(({data:E})=>{d({...a,...E})}).catch(E=>{console.log(E)})},[l]);const h=()=>{r(E=>!E)},m=()=>{setTimeout(()=>{r(!1)},300)},p=E=>{let k=E.target.value;E.keyCode==13&&k.length&&s(`/search/${k}`)},b=()=>{let E=o=="light"?"dark":"light";i(E),document.body.setAttribute("data-theme",E),pl("theme",E)};return console.log(u),v.jsxs(v.Fragment,{children:[v.jsxs("nav",{className:"navbar z-50 bg-white ",children:[v.jsx(re,{to:"/",className:"flex-none w-10",children:v.jsx("img",{src:o=="light"?pb:df,alt:""})}),u,v.jsxs("div",{className:"absolute bg-white w-full left-0 top-full mt-0 border-b border-grey py-4 px-[5vw] md:border-0 md:block md:relative md:inset-0 md:p-0 md:w-auto md:show rounded-full "+(t?"show":"hide"),children:[v.jsx("input",{type:"text",placeholder:"Search ",className:"w-full md:w-auto bg-grey p-4 pl-6 pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey md:pl-12 ",onKeyDown:p}),v.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),v.jsx("div",{className:"flex items-center gap-3 md:gap-6 ml-auto",children:v.jsx("button",{type:"button",onClick:()=>e(E=>!E),className:"md:hidden bg-grey w-12 h-12 rounded-full flex items-center justify-center",children:v.jsx("i",{className:"fi fi-rr-search md:hidden text-2xl bg-grey w-12 h-12 rounded-full flex items-center justify-center"})})}),v.jsxs(re,{to:"/editor",className:"hidden md:flex gap-2 link rounded-md",children:[v.jsx("i",{className:"fi fi-rr-file-edit"}),v.jsx("span",{children:"Write"})]}),v.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 ",onClick:b,children:v.jsx("i",{className:"text-2xl block mt-1  fi fi-rr-"+(o=="light"?"moon-stars":"sun")})}),l?v.jsxs(v.Fragment,{children:[v.jsx(re,{to:"/dashboard/notifications",children:v.jsxs("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 ",children:[v.jsx("i",{className:"fi fi-rr-bell text-2xl block mt-1"}),a&&u?v.jsx("span",{className:"bg-red w-3 h-3 rounded-full absolute z-10 top-2 right-2"}):"",v.jsx("span",{className:"bg-red w-3 h-3 rounded-full absolute z-10 top-2 right-2"})]})}),v.jsxs("div",{className:"relative",tabIndex:0,children:[v.jsxs("button",{onClick:h,onBlur:m,className:"w-12 h-12 mt-1",children:[v.jsx("img",{src:c,alt:"Profile image",className:"w-full h-full object-cover rounded-full"}),console.log(c)]}),n?v.jsx(oA,{}):""]})]}):v.jsxs(v.Fragment,{children:[v.jsx(re,{to:"/signin",className:"btn-dark py-2",children:"Sign In"}),v.jsx(re,{to:"/signup",className:"btn-light py-2 hidden md:block",children:"Sign Up"})]})]}),v.jsx(hb,{})]})},dn=({name:t,type:e,id:n,placeholder:r,icon:o,disabled:i=!1,value:s=""})=>{const[a,l]=B.useState(!1);return v.jsxs("div",{className:"relative w-[100%] mb-4",children:[v.jsx("input",{type:e==="password"?a?"text":"password":e,id:n,name:t,defaultValue:s,placeholder:r,disabled:i,className:"input-box"}),v.jsx("i",{className:"fi "+o+" input-icon"}),e==="password"&&v.jsx("i",{onClick:()=>l(c=>!c),className:`input-icon left-[auto] right-4 cursor-pointer fi fi-sr-eye ${a?"":"-crossed"}`})]})},SP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=";let EP={data:""},CP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||EP,TP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_P=/\/\*[^]*?\*\/|  +/g,Kg=/\n+/g,Fn=(t,e)=>{let n="",r="",o="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?Fn(s,i):i+"{"+Fn(s,i[1]=="k"?"":e)+"}":typeof s=="object"?r+=Fn(s,e?e.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Fn.p?Fn.p(i,s):i+":"+s+";")}return n+(e&&o?e+"{"+o+"}":o)+r},rn={},tw=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+tw(t[n]);return e}return t},IP=(t,e,n,r,o)=>{let i=tw(t),s=rn[i]||(rn[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!rn[s]){let l=i!==t?t:(c=>{let u,d,h=[{}];for(;u=TP.exec(c.replace(_P,""));)u[4]?h.shift():u[3]?(d=u[3].replace(Kg," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(Kg," ").trim();return h[0]})(t);rn[s]=Fn(o?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&rn.g?rn.g:null;return n&&(rn.g=rn[s]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(rn[s],e,r,a),s},AP=(t,e,n)=>t.reduce((r,o,i)=>{let s=e[i];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Fn(a,""):a===!1?"":a}return r+o+(s??"")},"");function ic(t){let e=this||{},n=t.call?t(e.p):t;return IP(n.unshift?n.raw?AP(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,CP(e.target),e.g,e.o,e.k)}let nw,Ud,$d;ic.bind({g:1});let En=ic.bind({k:1});function PP(t,e,n,r){Fn.p=e,nw=t,Ud=n,$d=r}function vr(t,e){let n=this||{};return function(){let r=arguments;function o(i,s){let a=Object.assign({},i),l=a.className||o.className;n.p=Object.assign({theme:Ud&&Ud()},a),n.o=/ *go\d+/.test(l),a.className=ic.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let c=t;return t[0]&&(c=a.as||t,delete a.as),$d&&c[0]&&$d(a),nw(c,a)}return e?e(o):o}}var NP=t=>typeof t=="function",gl=(t,e)=>NP(t)?t(e):t,BP=(()=>{let t=0;return()=>(++t).toString()})(),rw=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),LP=20,xa=new Map,OP=1e3,Gg=t=>{if(xa.has(t))return;let e=setTimeout(()=>{xa.delete(t),Zr({type:4,toastId:t})},OP);xa.set(t,e)},RP=t=>{let e=xa.get(t);e&&clearTimeout(e)},Vd=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,LP)};case 1:return e.toast.id&&RP(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return t.toasts.find(i=>i.id===n.id)?Vd(t,{type:1,toast:n}):Vd(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?Gg(r):t.toasts.forEach(i=>{Gg(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},ka=[],Sa={toasts:[],pausedAt:void 0},Zr=t=>{Sa=Vd(Sa,t),ka.forEach(e=>{e(Sa)})},MP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jP=(t={})=>{let[e,n]=B.useState(Sa);B.useEffect(()=>(ka.push(n),()=>{let o=ka.indexOf(n);o>-1&&ka.splice(o,1)}),[e]);let r=e.toasts.map(o=>{var i,s;return{...t,...t[o.type],...o,duration:o.duration||((i=t[o.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||MP[o.type],style:{...t.style,...(s=t[o.type])==null?void 0:s.style,...o.style}}});return{...e,toasts:r}},DP=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||BP()}),Es=t=>(e,n)=>{let r=DP(e,t,n);return Zr({type:2,toast:r}),r.id},G=(t,e)=>Es("blank")(t,e);G.error=Es("error");G.success=Es("success");G.loading=Es("loading");G.custom=Es("custom");G.dismiss=t=>{Zr({type:3,toastId:t})};G.remove=t=>Zr({type:4,toastId:t});G.promise=(t,e,n)=>{let r=G.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(o=>(G.success(gl(e.success,o),{id:r,...n,...n==null?void 0:n.success}),o)).catch(o=>{G.error(gl(e.error,o),{id:r,...n,...n==null?void 0:n.error})}),t};var FP=(t,e)=>{Zr({type:1,toast:{id:t,height:e}})},UP=()=>{Zr({type:5,time:Date.now()})},$P=t=>{let{toasts:e,pausedAt:n}=jP(t);B.useEffect(()=>{if(n)return;let i=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&G.dismiss(a.id);return}return setTimeout(()=>G.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=B.useCallback(()=>{n&&Zr({type:6,time:Date.now()})},[n]),o=B.useCallback((i,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},u=e.filter(m=>(m.position||c)===(i.position||c)&&m.height),d=u.findIndex(m=>m.id===i.id),h=u.filter((m,p)=>p<d&&m.visible).length;return u.filter(m=>m.visible).slice(...a?[h+1]:[0,h]).reduce((m,p)=>m+(p.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:FP,startPause:UP,endPause:r,calculateOffset:o}}},VP=En`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zP=En`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,HP=En`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,WP=vr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${VP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${HP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,KP=En`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,GP=vr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${KP} 1s linear infinite;
`,qP=En`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,YP=En`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,XP=vr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${YP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,JP=vr("div")`
  position: absolute;
`,QP=vr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ZP=En`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eN=vr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ZP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tN=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?B.createElement(eN,null,e):e:n==="blank"?null:B.createElement(QP,null,B.createElement(GP,{...r}),n!=="loading"&&B.createElement(JP,null,n==="error"?B.createElement(WP,{...r}):B.createElement(XP,{...r})))},nN=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,rN=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,oN="0%{opacity:0;} 100%{opacity:1;}",iN="0%{opacity:1;} 100%{opacity:0;}",sN=vr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,aN=vr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,lN=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=rw()?[oN,iN]:[nN(n),rN(n)];return{animation:e?`${En(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${En(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},cN=B.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?lN(t.position||e||"top-center",t.visible):{opacity:0},i=B.createElement(tN,{toast:t}),s=B.createElement(aN,{...t.ariaProps},gl(t.message,t));return B.createElement(sN,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:i,message:s}):B.createElement(B.Fragment,null,i,s))});PP(B.createElement);var uN=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let i=B.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return B.createElement("div",{ref:i,className:e,style:n},o)},dN=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:rw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},hN=ic`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ta=16,yr=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:i,containerClassName:s})=>{let{toasts:a,handlers:l}=$P(n);return B.createElement("div",{style:{position:"fixed",zIndex:9999,top:ta,left:ta,right:ta,bottom:ta,pointerEvents:"none",...i},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=dN(u,d);return B.createElement(uN,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?hN:"",style:h},c.type==="custom"?gl(c.message,c):o?o(c):B.createElement(cN,{toast:c,position:u}))}))},ct=G;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},fN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,s||(h=64)),r.push(n[u],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ow(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||c==null||d==null)throw new pN;const h=i<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mN=function(t){const e=ow(t);return iw.encodeByteArray(e,!0)},sw=function(t){return mN(t).replace(/\./g,"")},aw=function(t){try{return iw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=()=>gN().__FIREBASE_DEFAULTS__,yN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aw(t[1]);return e&&JSON.parse(e)},Df=()=>{try{return vN()||yN()||bN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wN=t=>{var e,n;return(n=(e=Df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lw=()=>{var t;return(t=Df())===null||t===void 0?void 0:t.config},cw=t=>{var e;return(e=Df())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function uw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EN(){const t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dw(){try{return typeof indexedDB=="object"}catch{return!1}}function hw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function CN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="FirebaseError";class nn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TN,Object.setPrototypeOf(this,nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?_N(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new nn(o,a,r)}}function _N(t,e){return t.replace(IN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const IN=/\{\$([^}]+)}/g;function AN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ls(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(qg(i)&&qg(s)){if(!ls(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function qg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function PN(t,e){const n=new NN(t,e);return n.subscribe.bind(n)}class NN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=lu),o.error===void 0&&(o.error=lu),o.complete===void 0&&(o.complete=lu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lu(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1e3,ON=2,RN=4*60*60*1e3,MN=.5;function Yg(t,e=LN,n=ON){const r=e*Math.pow(n,t),o=Math.round(MN*r*(Math.random()-.5)*2);return Math.min(RN,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){return t&&t._delegate?t._delegate:t}class Qt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FN(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cr){return this.instances.has(e)}getOptions(e=Cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cr){return this.component?this.component.multipleInstances?e:Cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DN(t){return t===Cr?void 0:t}function FN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const $N={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},VN=ie.INFO,zN={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},HN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=zN[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ff{constructor(e){this.name=e,this._logLevel=VN,this._logHandler=HN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$N[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const WN=(t,e)=>e.some(n=>t instanceof n);let Xg,Jg;function KN(){return Xg||(Xg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GN(){return Jg||(Jg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fw=new WeakMap,zd=new WeakMap,pw=new WeakMap,cu=new WeakMap,Uf=new WeakMap;function qN(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(or(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&fw.set(n,t)}).catch(()=>{}),Uf.set(e,t),e}function YN(t){if(zd.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});zd.set(t,e)}let Hd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XN(t){Hd=t(Hd)}function JN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uu(this),e,...n);return pw.set(r,e.sort?e.sort():[e]),or(r)}:GN().includes(t)?function(...e){return t.apply(uu(this),e),or(fw.get(this))}:function(...e){return or(t.apply(uu(this),e))}}function QN(t){return typeof t=="function"?JN(t):(t instanceof IDBTransaction&&YN(t),WN(t,KN())?new Proxy(t,Hd):t)}function or(t){if(t instanceof IDBRequest)return qN(t);if(cu.has(t))return cu.get(t);const e=QN(t);return e!==t&&(cu.set(t,e),Uf.set(e,t)),e}const uu=t=>Uf.get(t);function ZN(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=or(s);return r&&s.addEventListener("upgradeneeded",l=>{r(or(s.result),l.oldVersion,l.newVersion,or(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eB=["get","getKey","getAll","getAllKeys","count"],tB=["put","add","delete","clear"],du=new Map;function Qg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(du.get(e))return du.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=tB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||eB.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return du.set(e,i),i}XN(t=>({...t,get:(e,n,r)=>Qg(e,n)||t.get(e,n,r),has:(e,n)=>!!Qg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wd="@firebase/app",Zg="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Ff("@firebase/app"),oB="@firebase/app-compat",iB="@firebase/analytics-compat",sB="@firebase/analytics",aB="@firebase/app-check-compat",lB="@firebase/app-check",cB="@firebase/auth",uB="@firebase/auth-compat",dB="@firebase/database",hB="@firebase/database-compat",fB="@firebase/functions",pB="@firebase/functions-compat",mB="@firebase/installations",gB="@firebase/installations-compat",vB="@firebase/messaging",yB="@firebase/messaging-compat",bB="@firebase/performance",wB="@firebase/performance-compat",xB="@firebase/remote-config",kB="@firebase/remote-config-compat",SB="@firebase/storage",EB="@firebase/storage-compat",CB="@firebase/firestore",TB="@firebase/firestore-compat",_B="firebase",IB="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="[DEFAULT]",AB={[Wd]:"fire-core",[oB]:"fire-core-compat",[sB]:"fire-analytics",[iB]:"fire-analytics-compat",[lB]:"fire-app-check",[aB]:"fire-app-check-compat",[cB]:"fire-auth",[uB]:"fire-auth-compat",[dB]:"fire-rtdb",[hB]:"fire-rtdb-compat",[fB]:"fire-fn",[pB]:"fire-fn-compat",[mB]:"fire-iid",[gB]:"fire-iid-compat",[vB]:"fire-fcm",[yB]:"fire-fcm-compat",[bB]:"fire-perf",[wB]:"fire-perf-compat",[xB]:"fire-rc",[kB]:"fire-rc-compat",[SB]:"fire-gcs",[EB]:"fire-gcs-compat",[CB]:"fire-fst",[TB]:"fire-fst-compat","fire-js":"fire-js",[_B]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Map,Gd=new Map;function PB(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cn(t){const e=t.name;if(Gd.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Gd.set(e,t);for(const n of vl.values())PB(n,t);return!0}function Zo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ir=new eo("app","Firebase",NB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=IB;function mw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kd,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(n||(n=lw()),!n)throw ir.create("no-options");const i=vl.get(o);if(i){if(ls(n,i.options)&&ls(r,i.config))return i;throw ir.create("duplicate-app",{appName:o})}const s=new UN(o);for(const l of Gd.values())s.addComponent(l);const a=new BB(n,r,s);return vl.set(o,a),a}function gw(t=Kd){const e=vl.get(t);if(!e&&t===Kd&&lw())return mw();if(!e)throw ir.create("no-app",{appName:t});return e}function qt(t,e,n){var r;let o=(r=AB[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(a.join(" "));return}Cn(new Qt(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB="firebase-heartbeat-database",OB=1,cs="firebase-heartbeat-store";let hu=null;function vw(){return hu||(hu=ZN(LB,OB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cs)}}}).catch(t=>{throw ir.create("idb-open",{originalErrorMessage:t.message})})),hu}async function RB(t){try{return await(await vw()).transaction(cs).objectStore(cs).get(yw(t))}catch(e){if(e instanceof nn)$r.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function ev(t,e){try{const r=(await vw()).transaction(cs,"readwrite");await r.objectStore(cs).put(e,yw(t)),await r.done}catch(n){if(n instanceof nn)$r.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(r.message)}}}function yw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=1024,jB=30*24*60*60*1e3;class DB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const i=new Date(o.date).valueOf();return Date.now()-i<=jB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tv(),{heartbeatsToSend:n,unsentEntries:r}=FB(this._heartbeatsCache.heartbeats),o=sw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function tv(){return new Date().toISOString().substring(0,10)}function FB(t,e=MB){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),nv(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),nv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dw()?hw().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await RB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function nv(t){return sw(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){Cn(new Qt("platform-logger",e=>new nB(e),"PRIVATE")),Cn(new Qt("heartbeat",e=>new DB(e),"PRIVATE")),qt(Wd,Zg,t),qt(Wd,Zg,"esm2017"),qt("fire-js","")}$B("");var VB="firebase",zB="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt(VB,zB,"app");const HB=(t,e)=>e.some(n=>t instanceof n);let rv,ov;function WB(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KB(){return ov||(ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bw=new WeakMap,qd=new WeakMap,ww=new WeakMap,fu=new WeakMap,$f=new WeakMap;function GB(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(sr(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&bw.set(n,t)}).catch(()=>{}),$f.set(e,t),e}function qB(t){if(qd.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});qd.set(t,e)}let Yd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ww.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YB(t){Yd=t(Yd)}function XB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pu(this),e,...n);return ww.set(r,e.sort?e.sort():[e]),sr(r)}:KB().includes(t)?function(...e){return t.apply(pu(this),e),sr(bw.get(this))}:function(...e){return sr(t.apply(pu(this),e))}}function JB(t){return typeof t=="function"?XB(t):(t instanceof IDBTransaction&&qB(t),HB(t,WB())?new Proxy(t,Yd):t)}function sr(t){if(t instanceof IDBRequest)return GB(t);if(fu.has(t))return fu.get(t);const e=JB(t);return e!==t&&(fu.set(t,e),$f.set(e,t)),e}const pu=t=>$f.get(t);function QB(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=sr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(sr(s.result),l.oldVersion,l.newVersion,sr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",()=>o())}).catch(()=>{}),a}const ZB=["get","getKey","getAll","getAllKeys","count"],eL=["put","add","delete","clear"],mu=new Map;function iv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mu.get(e))return mu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=eL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ZB.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return mu.set(e,i),i}YB(t=>({...t,get:(e,n,r)=>iv(e,n)||t.get(e,n,r),has:(e,n)=>!!iv(e,n)||t.has(e,n)}));const xw="@firebase/installations",Vf="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=1e4,Sw=`w:${Vf}`,Ew="FIS_v2",tL="https://firebaseinstallations.googleapis.com/v1",nL=60*60*1e3,rL="installations",oL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vr=new eo(rL,oL,iL);function Cw(t){return t instanceof nn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw({projectId:t}){return`${tL}/projects/${t}/installations`}function _w(t){return{token:t.token,requestStatus:2,expiresIn:aL(t.expiresIn),creationTime:Date.now()}}async function Iw(t,e){const r=(await e.json()).error;return Vr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Aw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sL(t,{refreshToken:e}){const n=Aw(t);return n.append("Authorization",lL(e)),n}async function Pw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function aL(t){return Number(t.replace("s","000"))}function lL(t){return`${Ew} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Tw(t),o=Aw(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&o.append("x-firebase-client",c)}const s={fid:n,authVersion:Ew,appId:t.appId,sdkVersion:Sw},a={method:"POST",headers:o,body:JSON.stringify(s)},l=await Pw(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:_w(c.authToken)}}else throw await Iw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=/^[cdef][\w-]{21}$/,Xd="";function hL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=fL(t);return dL.test(n)?n:Xd}catch{return Xd}}function fL(t){return uL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;function Lw(t,e){const n=sc(t);Ow(n,e),pL(n,e)}function Ow(t,e){const n=Bw.get(t);if(n)for(const r of n)r(e)}function pL(t,e){const n=mL();n&&n.postMessage({key:t,fid:e}),gL()}let Pr=null;function mL(){return!Pr&&"BroadcastChannel"in self&&(Pr=new BroadcastChannel("[Firebase] FID Change"),Pr.onmessage=t=>{Ow(t.data.key,t.data.fid)}),Pr}function gL(){Bw.size===0&&Pr&&(Pr.close(),Pr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="firebase-installations-database",yL=1,zr="firebase-installations-store";let gu=null;function zf(){return gu||(gu=QB(vL,yL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zr)}}})),gu}async function yl(t,e){const n=sc(t),o=(await zf()).transaction(zr,"readwrite"),i=o.objectStore(zr),s=await i.get(n);return await i.put(e,n),await o.done,(!s||s.fid!==e.fid)&&Lw(t,e.fid),e}async function Rw(t){const e=sc(t),r=(await zf()).transaction(zr,"readwrite");await r.objectStore(zr).delete(e),await r.done}async function ac(t,e){const n=sc(t),o=(await zf()).transaction(zr,"readwrite"),i=o.objectStore(zr),s=await i.get(n),a=e(s);return a===void 0?await i.delete(n):await i.put(a,n),await o.done,a&&(!s||s.fid!==a.fid)&&Lw(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(t){let e;const n=await ac(t.appConfig,r=>{const o=bL(r),i=wL(t,o);return e=i.registrationPromise,i.installationEntry});return n.fid===Xd?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function bL(t){const e=t||{fid:hL(),registrationStatus:0};return Mw(e)}function wL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Vr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=xL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kL(t)}:{installationEntry:e}}async function xL(t,e){try{const n=await cL(t,e);return yl(t.appConfig,n)}catch(n){throw Cw(n)&&n.customData.serverCode===409?await Rw(t.appConfig):await yl(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kL(t){let e=await sv(t.appConfig);for(;e.registrationStatus===1;)await Nw(100),e=await sv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Hf(t);return r||n}return e}function sv(t){return ac(t,e=>{if(!e)throw Vr.create("installation-not-found");return Mw(e)})}function Mw(t){return SL(t)?{fid:t.fid,registrationStatus:0}:t}function SL(t){return t.registrationStatus===1&&t.registrationTime+kw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL({appConfig:t,heartbeatServiceProvider:e},n){const r=CL(t,n),o=sL(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&o.append("x-firebase-client",c)}const s={installation:{sdkVersion:Sw,appId:t.appId}},a={method:"POST",headers:o,body:JSON.stringify(s)},l=await Pw(()=>fetch(r,a));if(l.ok){const c=await l.json();return _w(c)}else throw await Iw("Generate Auth Token",l)}function CL(t,{fid:e}){return`${Tw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t,e=!1){let n;const r=await ac(t.appConfig,i=>{if(!jw(i))throw Vr.create("not-registered");const s=i.authToken;if(!e&&IL(s))return i;if(s.requestStatus===1)return n=TL(t,e),i;{if(!navigator.onLine)throw Vr.create("app-offline");const a=PL(i);return n=_L(t,a),a}});return n?await n:r.authToken}async function TL(t,e){let n=await av(t.appConfig);for(;n.authToken.requestStatus===1;)await Nw(100),n=await av(t.appConfig);const r=n.authToken;return r.requestStatus===0?Wf(t,e):r}function av(t){return ac(t,e=>{if(!jw(e))throw Vr.create("not-registered");const n=e.authToken;return NL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function _L(t,e){try{const n=await EL(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await yl(t.appConfig,r),n}catch(n){if(Cw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Rw(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await yl(t.appConfig,r)}throw n}}function jw(t){return t!==void 0&&t.registrationStatus===2}function IL(t){return t.requestStatus===2&&!AL(t)}function AL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+nL}function PL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function NL(t){return t.requestStatus===1&&t.requestTime+kw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t){const e=t,{installationEntry:n,registrationPromise:r}=await Hf(e);return r?r.catch(console.error):Wf(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e=!1){const n=t;return await OL(n),(await Wf(n,e)).token}async function OL(t){const{registrationPromise:e}=await Hf(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){if(!t||!t.options)throw vu("App Configuration");if(!t.name)throw vu("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vu(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function vu(t){return Vr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="installations",ML="installations-internal",jL=t=>{const e=t.getProvider("app").getImmediate(),n=RL(e),r=Zo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},DL=t=>{const e=t.getProvider("app").getImmediate(),n=Zo(e,Dw).getImmediate();return{getId:()=>BL(n),getToken:o=>LL(n,o)}};function FL(){Cn(new Qt(Dw,jL,"PUBLIC")),Cn(new Qt(ML,DL,"PRIVATE"))}FL();qt(xw,Vf);qt(xw,Vf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="analytics",UL="firebase_id",$L="origin",VL=60*1e3,zL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at=new Ff("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ft=new eo("analytics","Analytics",HL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){if(!t.startsWith(Kf)){const e=ft.create("invalid-gtag-resource",{gtagURL:t});return at.warn(e.message),""}return t}function Fw(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function KL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function GL(t,e){const n=KL("firebase-js-sdk-policy",{createScriptURL:WL}),r=document.createElement("script"),o=`${Kf}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function qL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function YL(t,e,n,r,o,i){const s=r[o];try{if(s)await e[s];else{const l=(await Fw(n)).find(c=>c.measurementId===o);l&&await e[l.appId]}}catch(a){at.error(a)}t("config",o,i)}async function XL(t,e,n,r,o){try{let i=[];if(o&&o.send_to){let s=o.send_to;Array.isArray(s)||(s=[s]);const a=await Fw(n);for(const l of s){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,o||{})}catch(i){at.error(i)}}function JL(t,e,n,r){async function o(i,...s){try{if(i==="event"){const[a,l]=s;await XL(t,e,n,a,l)}else if(i==="config"){const[a,l]=s;await YL(t,e,n,r,a,l)}else if(i==="consent"){const[a]=s;t("consent","update",a)}else if(i==="get"){const[a,l,c]=s;t("get",a,l,c)}else if(i==="set"){const[a]=s;t("set",a)}else t(i,...s)}catch(a){at.error(a)}}return o}function QL(t,e,n,r,o){let i=function(...s){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(i=window[o]),window[o]=JL(i,t,e,n),{gtagCore:i,wrappedGtag:window[o]}}function ZL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Kf)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=30,tO=1e3;class nO{constructor(e={},n=tO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Uw=new nO;function rO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function oO(t){var e;const{appId:n,apiKey:r}=t,o={method:"GET",headers:rO(r)},i=zL.replace("{app-id}",n),s=await fetch(i,o);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw ft.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function iO(t,e=Uw,n){const{appId:r,apiKey:o,measurementId:i}=t.options;if(!r)throw ft.create("no-app-id");if(!o){if(i)return{measurementId:i,appId:r};throw ft.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new lO;return setTimeout(async()=>{a.abort()},n!==void 0?n:VL),$w({appId:r,apiKey:o,measurementId:i},s,a,e)}async function $w(t,{throttleEndTimeMillis:e,backoffCount:n},r,o=Uw){var i;const{appId:s,measurementId:a}=t;try{await sO(r,e)}catch(l){if(a)return at.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await oO(t);return o.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!aO(c)){if(o.deleteThrottleMetadata(s),a)return at.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?Yg(n,o.intervalMillis,eO):Yg(n,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return o.setThrottleMetadata(s,d),at.debug(`Calling attemptFetch again in ${u} millis`),$w(t,d,r,o)}}function sO(t,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),i=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(i),r(ft.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aO(t){if(!(t instanceof nn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class lO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function cO(t,e,n,r,o){if(o&&o.global){t("event",n,r);return}else{const i=await e,s=Object.assign(Object.assign({},r),{send_to:i});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(){if(dw())try{await hw()}catch(t){return at.warn(ft.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return at.warn(ft.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dO(t,e,n,r,o,i,s){var a;const l=iO(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&at.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>at.error(m)),e.push(l);const c=uO().then(m=>{if(m)return r.getId()}),[u,d]=await Promise.all([l,c]);ZL(i)||GL(i,u.measurementId),o("js",new Date);const h=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return h[$L]="firebase",h.update=!0,d!=null&&(h[UL]=d),o("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.app=e}_delete(){return delete Oi[this.app.options.appId],Promise.resolve()}}let Oi={},lv=[];const cv={};let yu="dataLayer",fO="gtag",uv,Vw,dv=!1;function pO(){const t=[];if(uw()&&t.push("This is a browser extension environment."),CN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=ft.create("invalid-analytics-context",{errorInfo:e});at.warn(n.message)}}function mO(t,e,n){pO();const r=t.options.appId;if(!r)throw ft.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)at.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ft.create("no-api-key");if(Oi[r]!=null)throw ft.create("already-exists",{id:r});if(!dv){qL(yu);const{wrappedGtag:i,gtagCore:s}=QL(Oi,lv,cv,yu,fO);Vw=i,uv=s,dv=!0}return Oi[r]=dO(t,lv,cv,e,uv,yu,n),new hO(t)}function gO(t=gw()){t=br(t);const e=Zo(t,bl);return e.isInitialized()?e.getImmediate():vO(t)}function vO(t,e={}){const n=Zo(t,bl);if(n.isInitialized()){const o=n.getImmediate();if(ls(e,n.getOptions()))return o;throw ft.create("already-initialized")}return n.initialize({options:e})}function yO(t,e,n,r){t=br(t),cO(Vw,Oi[t.app.options.appId],e,n,r).catch(o=>at.error(o))}const hv="@firebase/analytics",fv="0.10.0";function bO(){Cn(new Qt(bl,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return mO(r,o,n)},"PUBLIC")),Cn(new Qt("analytics-internal",t,"PRIVATE")),qt(hv,fv),qt(hv,fv,"esm2017");function t(e){try{const n=e.getProvider(bl).getImmediate();return{logEvent:(r,o,i)=>yO(n,r,o,i)}}catch(n){throw ft.create("interop-component-reg-failed",{reason:n})}}}bO();function Gf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function zw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wO=zw,Hw=new eo("auth","Firebase",zw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new Ff("@firebase/auth");function xO(t,...e){wl.logLevel<=ie.WARN&&wl.warn(`Auth (${Ts}): ${t}`,...e)}function Ea(t,...e){wl.logLevel<=ie.ERROR&&wl.error(`Auth (${Ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,...e){throw qf(t,...e)}function Yt(t,...e){return qf(t,...e)}function Ww(t,e,n){const r=Object.assign(Object.assign({},wO()),{[e]:n});return new eo("auth","Firebase",r).create(e,{appName:t.name})}function kO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zt(t,"argument-error"),Ww(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Hw.create(t,...e)}function q(t,e,...n){if(!t)throw qf(e,...n)}function hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ea(e),new Error(e)}function Tn(t,e){t||hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SO(){return pv()==="http:"||pv()==="https:"}function pv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SO()||uw()||"connection"in navigator)?navigator.onLine:!0}function CO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tn(n>e,"Short delay should be less than long delay!"),this.isMobile=kN()||SN()}get(){return EO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t,e){Tn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new _s(3e4,6e4);function Gw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Is(t,e,n,r,o={}){return qw(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=Cs(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Kw.fetch()(Yw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function qw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},TO),e);try{const o=new AO(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw na(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw na(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw na(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw na(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ww(t,u,c);Zt(t,u)}}catch(o){if(o instanceof nn)throw o;Zt(t,"network-request-failed",{message:String(o)})}}async function IO(t,e,n,r,o={}){const i=await Is(t,e,n,r,o);return"mfaPendingCredential"in i&&Zt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Yw(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?Yf(t.config,o):`${t.config.apiScheme}://${o}`}class AO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yt(this.auth,"network-request-failed")),_O.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function na(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Yt(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e){return Is(t,"POST","/v1/accounts:delete",e)}async function NO(t,e){return Is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BO(t,e=!1){const n=br(t),r=await n.getIdToken(e),o=Xf(r);q(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Ri(bu(o.auth_time)),issuedAtTime:Ri(bu(o.iat)),expirationTime:Ri(bu(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function bu(t){return Number(t)*1e3}function Xf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ea("JWT malformed, contained fewer than 3 sections"),null;try{const o=aw(n);return o?JSON.parse(o):(Ea("Failed to decode base64 JWT payload"),null)}catch(o){return Ea("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function LO(t){const e=Xf(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function us(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof nn&&OO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ri(this.lastLoginAt),this.creationTime=Ri(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){var e;const n=t.auth,r=await t.getIdToken(),o=await us(t,NO(n,{idToken:r}));q(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?DO(i.providerUserInfo):[],a=jO(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Xw(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function MO(t){const e=br(t);await xl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jO(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function DO(t){return t.map(e=>{var{providerId:n}=e,r=Gf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){const n=await qw(t,{},async()=>{const r=Cs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=Yw(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Kw.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await FO(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new ds;return r&&(q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(q(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(q(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ds,this.toJSON())}_performRefresh(){return hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=Gf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await us(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BO(this,e)}reload(){return MO(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await us(this,PO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(o=n.email)!==null&&o!==void 0?o:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,k=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:f,emailVerified:w,isAnonymous:S,providerData:_,stsTokenManager:A}=n;q(f&&A,e,"internal-error");const y=ds.fromJSON(this.name,A);q(typeof f=="string",e,"internal-error"),Bn(d,e.name),Bn(h,e.name),q(typeof w=="boolean",e,"internal-error"),q(typeof S=="boolean",e,"internal-error"),Bn(m,e.name),Bn(p,e.name),Bn(b,e.name),Bn(E,e.name),Bn(k,e.name),Bn(g,e.name);const x=new Or({uid:f,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:S,photoURL:p,phoneNumber:m,tenantId:b,stsTokenManager:y,createdAt:k,lastLoginAt:g});return _&&Array.isArray(_)&&(x.providerData=_.map(T=>Object.assign({},T))),E&&(x._redirectEventId=E),x}static async _fromIdTokenResponse(e,n,r=!1){const o=new ds;o.updateFromServerResponse(n);const i=new Or({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await xl(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;function fn(t){Tn(t instanceof Function,"Expected a class definition");let e=mv.get(t);return e?(Tn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Jw.type="NONE";const gv=Jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t,e,n){return`firebase:${t}:${e}:${n}`}class Ao{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=Ca(this.userKey,o.apiKey,i),this.fullPersistenceKey=Ca("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ao(fn(gv),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=o[0]||fn(gv);const s=Ca(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=Or._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ao(i,e,r):(i=l[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new Ao(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ex(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nx(e))return"Blackberry";if(rx(e))return"Webos";if(Jf(e))return"Safari";if((e.includes("chrome/")||Zw(e))&&!e.includes("edge/"))return"Chrome";if(tx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Qw(t=Ke()){return/firefox\//i.test(t)}function Jf(t=Ke()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zw(t=Ke()){return/crios\//i.test(t)}function ex(t=Ke()){return/iemobile/i.test(t)}function tx(t=Ke()){return/android/i.test(t)}function nx(t=Ke()){return/blackberry/i.test(t)}function rx(t=Ke()){return/webos/i.test(t)}function lc(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UO(t=Ke()){var e;return lc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $O(){return EN()&&document.documentMode===10}function ox(t=Ke()){return lc(t)||tx(t)||rx(t)||nx(t)||/windows phone/i.test(t)||ex(t)}function VO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e=[]){let n;switch(t){case"Browser":n=vv(Ke());break;case"Worker":n=`${vv(Ke())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}async function sx(t,e){return Is(t,"GET","/v2/recaptchaConfig",Gw(t,e))}function yv(t){return t!==void 0&&t.enterprise!==void 0}class ax{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function lx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Yt("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",zO().appendChild(r)})}function HO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const WO="https://www.google.com/recaptcha/enterprise.js?render=",KO="recaptcha-enterprise",GO="NO_RECAPTCHA";class qO{constructor(e){this.type=KO,this.auth=As(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,a)=>{sx(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new ax(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function o(i,s,a){const l=window.grecaptcha;yv(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{s(c)}).catch(()=>{s(GO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{r(this.auth).then(a=>{if(!n&&yv(window.grecaptcha))o(a,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}lx(WO+a).then(()=>{o(a,i,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const l=e(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bv(this),this.idTokenSubscription=new bv(this),this.beforeStateQueue=new YO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fn(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?br(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(fn(e))})}async initializeRecaptchaConfig(){const e=await sx(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new ax(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new qO(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return q(s,this,"internal-error"),s.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,o):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ix(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function As(t){return br(t)}class bv{constructor(e){this.auth=e,this.observer=null,this.addObserver=PN(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t,e){const n=Zo(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(ls(i,e??{}))return o;Zt(o,"already-initialized")}return n.initialize({options:e})}function QO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZO(t,e,n){const r=As(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),i=cx(e),{host:s,port:a}=eR(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||tR()}function cx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eR(t){const e=cx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:wv(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:wv(s)}}}function wv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hn("not implemented")}_getIdTokenResponse(e){return hn("not implemented")}_linkToIdToken(e,n){return hn("not implemented")}_getReauthenticationResolver(e){return hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e){return IO(t,"POST","/v1/accounts:signInWithIdp",Gw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="http://localhost";class Hr extends ux{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=Gf(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new Hr(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:nR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Qf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends Ps{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Un.credential(e.oauthAccessToken)}catch{return null}}}Un.FACEBOOK_SIGN_IN_METHOD="facebook.com";Un.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends Ps{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hr._fromParams({providerId:an.PROVIDER_ID,signInMethod:an.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return an.credentialFromTaggedObject(e)}static credentialFromError(e){return an.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return an.credential(n,r)}catch{return null}}}an.GOOGLE_SIGN_IN_METHOD="google.com";an.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends Ps{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $n.credential(e.oauthAccessToken)}catch{return null}}}$n.GITHUB_SIGN_IN_METHOD="github.com";$n.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends Ps{constructor(){super("twitter.com")}static credential(e,n){return Hr._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vn.credentialFromTaggedObject(e)}static credentialFromError(e){return Vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vn.credential(n,r)}catch{return null}}}Vn.TWITTER_SIGN_IN_METHOD="twitter.com";Vn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await Or._fromIdTokenResponse(e,r,o),s=xv(r);return new $o({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=xv(r);return new $o({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function xv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends nn{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,kl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new kl(e,n,r,o)}}function dx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?kl._fromErrorAndOperation(t,i,e,r):i})}async function rR(t,e,n=!1){const r=await us(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e,n=!1){const{auth:r}=t,o="reauthenticate";try{const i=await us(t,dx(r,o,e,t),n);q(i.idToken,r,"internal-error");const s=Xf(i.idToken);q(s,r,"internal-error");const{sub:a}=s;return q(t.uid===a,r,"user-mismatch"),$o._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Zt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e,n=!1){const r="signIn",o=await dx(t,r,e),i=await $o._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}function sR(t,e,n,r){return br(t).onIdTokenChanged(e,n,r)}function aR(t,e,n){return br(t).beforeAuthStateChanged(e,n)}const Sl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sl,"1"),this.storage.removeItem(Sl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){const t=Ke();return Jf(t)||lc(t)}const cR=1e3,uR=10;class fx extends hx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=lR()&&VO(),this.fallbackToPolling=ox(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);$O()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fx.type="LOCAL";const dR=fx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px extends hx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}px.type="SESSION";const mx=px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new cc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async c=>c(n.origin,i)),l=await hR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{const c=Zf("",20);o.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return window}function pR(t){Xt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}async function mR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vR(){return gx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="firebaseLocalStorageDb",yR=1,El="firebaseLocalStorage",yx="fbase_key";class Ns{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uc(t,e){return t.transaction([El],e?"readwrite":"readonly").objectStore(El)}function bR(){const t=indexedDB.deleteDatabase(vx);return new Ns(t).toPromise()}function Qd(){const t=indexedDB.open(vx,yR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(El,{keyPath:yx})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(El)?e(r):(r.close(),await bR(),e(await Qd()))})})}async function kv(t,e,n){const r=uc(t,!0).put({[yx]:e,value:n});return new Ns(r).toPromise()}async function wR(t,e){const n=uc(t,!1).get(e),r=await new Ns(n).toPromise();return r===void 0?null:r.value}function Sv(t,e){const n=uc(t,!0).delete(e);return new Ns(n).toPromise()}const xR=800,kR=3;class bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cc._getInstance(vR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mR(),!this.activeServiceWorker)return;this.sender=new fR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await kv(e,Sl,"1"),await Sv(e,Sl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=uc(o,!1).getAll();return new Ns(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bx.type="LOCAL";const SR=bx;new _s(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e){return e?fn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends ux{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ER(t){return iR(t.auth,new ep(t),t.bypassAuthState)}function CR(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),oR(n,new ep(t),t.bypassAuthState)}async function TR(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),rR(n,new ep(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ER;case"linkViaPopup":case"linkViaRedirect":return TR;case"reauthViaPopup":case"reauthViaRedirect":return CR;default:Zt(this.auth,"internal-error")}}resolve(e){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new _s(2e3,1e4);async function IR(t,e,n){const r=As(t);kO(t,e,Qf);const o=wx(r,n);return new Nr(r,"signInViaPopup",e,o).executeNotNull()}class Nr extends xx{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,Nr.currentPopupAction&&Nr.currentPopupAction.cancel(),Nr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Tn(this.filter.length===1,"Popup operations only handle one event");const e=Zf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_R.get())};e()}}Nr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="pendingRedirect",Ta=new Map;class PR extends xx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ta.get(this.auth._key());if(!e){try{const r=await NR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ta.set(this.auth._key(),e)}return this.bypassAuthState||Ta.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NR(t,e){const n=OR(e),r=LR(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function BR(t,e){Ta.set(t._key(),e)}function LR(t){return fn(t._redirectPersistence)}function OR(t){return Ca(AR,t.config.apiKey,t.name)}async function RR(t,e,n=!1){const r=As(t),o=wx(r,e),s=await new PR(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=10*60*1e3;class jR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kx(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yt(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ev(e))}saveEventToCache(e){this.cachedEventUids.add(Ev(e)),this.lastProcessedEventTime=Date.now()}}function Ev(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t,e={}){return Is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$R=/^https?/;async function VR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FR(t);for(const n of e)try{if(zR(n))return}catch{}Zt(t,"unauthorized-domain")}function zR(t){const e=Jd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$R.test(n))return!1;if(UR.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new _s(3e4,6e4);function Cv(){const t=Xt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WR(t){return new Promise((e,n)=>{var r,o,i;function s(){Cv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cv(),n(Yt(t,"network-request-failed"))},timeout:HR.get()})}if(!((o=(r=Xt().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=Xt().gapi)===null||i===void 0)&&i.load)s();else{const a=HO("iframefcb");return Xt()[a]=()=>{gapi.load?s():n(Yt(t,"network-request-failed"))},lx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _a=null,e})}let _a=null;function KR(t){return _a=_a||WR(t),_a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new _s(5e3,15e3),qR="__/auth/iframe",YR="emulator/auth/iframe",XR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QR(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yf(e,YR):`https://${t.config.authDomain}/${qR}`,r={apiKey:e.apiKey,appName:t.name,v:Ts},o=JR.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Cs(r).slice(1)}`}async function ZR(t){const e=await KR(t),n=Xt().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:QR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XR,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=Yt(t,"network-request-failed"),a=Xt().setTimeout(()=>{i(s)},GR.get());function l(){Xt().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tM=500,nM=600,rM="_blank",oM="http://localhost";class Tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iM(t,e,n,r=tM,o=nM){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},eM),{width:r.toString(),height:o.toString(),top:i,left:s}),c=Ke().toLowerCase();n&&(a=Zw(c)?rM:n),Qw(c)&&(e=e||oM,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,p])=>`${h}${m}=${p},`,"");if(UO(c)&&a!=="_self")return sM(e||"",a),new Tv(null);const d=window.open(e||"",a,u);q(d,t,"popup-blocked");try{d.focus()}catch{}return new Tv(d)}function sM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="__/auth/handler",lM="emulator/auth/handler",cM=encodeURIComponent("fac");async function _v(t,e,n,r,o,i){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:o};if(e instanceof Qf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",AN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(i||{}))s[u]=d}if(e instanceof Ps){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${cM}=${encodeURIComponent(l)}`:"";return`${uM(t)}?${Cs(a).slice(1)}${c}`}function uM({config:t}){return t.emulator?Yf(t,lM):`https://${t.authDomain}/${aM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="webStorageSupport";class dM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mx,this._completeRedirectFn=RR,this._overrideRedirectResult=BR}async _openPopup(e,n,r,o){var i;Tn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await _v(e,n,r,Jd(),o);return iM(e,s,Zf())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await _v(e,n,r,Jd(),o);return pR(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(Tn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZR(e),r=new jR(e);return n.register("authEvent",o=>(q(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wu,{type:wu},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[wu];s!==void 0&&n(!!s),Zt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ox()||Jf()||lc()}}const hM=dM;var Iv="@firebase/auth",Av="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function mM(t){Cn(new Qt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ix(t)},c=new XO(r,o,i,l);return QO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cn(new Qt("auth-internal",e=>{const n=As(e.getProvider("auth").getImmediate());return(r=>new fM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qt(Iv,Av,pM(t)),qt(Iv,Av,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=5*60,vM=cw("authIdTokenMaxAge")||gM;let Pv=null;const yM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vM)return;const o=n==null?void 0:n.token;Pv!==o&&(Pv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bM(t=gw()){const e=Zo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JO(t,{popupRedirectResolver:hM,persistence:[SR,dR,mx]}),r=cw("authTokenSyncURL");if(r){const i=yM(r);aR(n,i,()=>i(n.currentUser)),sR(n,s=>i(s))}const o=wN("auth");return o&&ZO(n,`http://${o}`),n}mM("Browser");const wM={apiKey:"AIzaSyAx0lMMO3zWmkqpNjFOFBtPXffFHHHZGxI",authDomain:"react-blog-site-f66c6.firebaseapp.com",projectId:"react-blog-site-f66c6",storageBucket:"react-blog-site-f66c6.appspot.com",messagingSenderId:"181710969507",appId:"1:181710969507:web:f459cf22d91e8cb2ec3d16",measurementId:"G-CLH22WVYRQ"},Sx=mw(wM);gO(Sx);const xM=new an,kM=bM(Sx),SM=async()=>{let t=null;return await IR(kM,xM).then(e=>{t=e.user}).catch(e=>{console.log(e)}),t},Nv=({type:t})=>{let{userAuth:{access_token:e},setUserAuth:n}=B.useContext(Te);console.log(e);const r=(s,a)=>{console.log("https://astro-blog-mj7v.onrender.com"+s,a),te.post("https://astro-blog-mj7v.onrender.com"+s,a).then(({data:l})=>{pl("user",JSON.stringify(l)),n(l),console.log(sessionStorage)}).catch(({response:l})=>{G.error(l.data.error)})},o=s=>{s.preventDefault();let a=t=="sign_in"?"/signin":"/signup",l=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,c=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/,u=new FormData(formElement),d={};for(let[b,E]of u.entries())d[b]=E;console.log(d);let{fullname:h,email:m,password:p}=d;if(h&&h.length<3)return G.error("Fullname must be at least 3 characters long");if(!m.length)return G.error("Please enter a valid email address");if(!l.test(m))return G.error("Email is invalid");if(!c.test(p))return G.error("Password must be at least 6 characters long and less than 20 characters long and must contain at least 1 numeric, 1 lowercase, and 1 uppercase character");r(a,d)},i=s=>{s.preventDefault(),SM().then(a=>{console.log("User signed in:",a);let l="/google-auth",c={access_token:a.accessToken};r(l,c)}).catch(a=>{G.error("trouble login through google"),console.error("Error signing in with Google:",a)})};return e?v.jsx(uf,{to:"/"}):v.jsx(v.Fragment,{children:v.jsx(Ee,{keyValue:t,children:v.jsxs("section",{className:"h-cover flex items-center justify-center",children:[v.jsx(yr,{}),v.jsxs("form",{id:"formElement",className:"w-[80%] max-w-[400px]",children:[v.jsx("h1",{className:"text-4xl font-gelasio text-center mb-16",children:t==="sign_in"?"Welcome back":"Sign up today"}),t!=="sign_in"?v.jsx(dn,{name:"fullname",type:"text",placeholder:"Full name",icon:"fi-rr-user"}):"",v.jsx(dn,{type:"email",id:"email",name:"email",placeholder:"Email",icon:"fi-rr-envelope"}),v.jsx(dn,{type:"password",id:"password",name:"password",placeholder:"Password",icon:"fi-rr-key"}),v.jsx("button",{type:"submit",className:"btn-dark center mt-14",onClick:o,children:t.replace("_"," ")}),v.jsxs("div",{className:"relative w-full flex items-center gap-2 my-8 opacity-10 uppercase text-black font-bold ",children:[v.jsx("hr",{className:"w-1/2 "}),v.jsx("p",{children:"or"}),v.jsx("hr",{className:"w-1/2 "})]}),v.jsxs("button",{onClick:i,className:"btn-dark flex gap-4 w-[90%] m-auto items-center justify-center ",children:[v.jsx("img",{className:"w-5 ",src:SP,alt:""}),"Continue With Google"]}),t=="sign_in"?v.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Don't Have a Account ?",v.jsx(re,{className:"underline text-black text-xl ml-1",to:"/signup",children:"Sign Up Here"})]}):v.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Already a member ?",v.jsx(re,{className:"underline text-black text-xl ml-1",to:"/signin",children:"Sign In Here"})]})]})]})})})},EM="/assets/blog banner light-4c269e06.png",CM="/assets/blog banner dark-5dfd346c.png";var TM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xu(){}Object.assign(xu,{default:xu,register:xu,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=i&&!s;(i||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(i||s||a||l)&&!t&&this.scrollIntoView(c)});let _M=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var Ex=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(Ex||{});const K={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},IM={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Bs(t,e,n="log",r,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),s=[];switch(Bs.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||t)return;break}r&&s.push(r);const a="Editor.js 2.27.2",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(i?(s.unshift(l,o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{i?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}Bs.logLevel="VERBOSE";function AM(t){Bs.logLevel=t}const X=Bs.bind(window,!1),Lt=Bs.bind(window,!0);function Wr(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function le(t){return Wr(t)==="function"||Wr(t)==="asyncfunction"}function Me(t){return Wr(t)==="object"}function dr(t){return Wr(t)==="string"}function PM(t){return Wr(t)==="boolean"}function Bv(t){return Wr(t)==="number"}function Lv(t){return Wr(t)==="undefined"}function Ft(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function Cx(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function Tx(t,e=()=>{},n=()=>{}){async function r(o,i,s){try{await o.function(o.data),await i(Lv(o.data)?{}:o.data)}catch{s(Lv(o.data)?{}:o.data)}}return t.reduce(async(o,i)=>(await o,r(i,e,n)),Promise.resolve())}function _x(t){return Array.prototype.slice.call(t)}function Kr(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function NM(t){return t.name.split(".").pop()}function BM(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function LM(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=null,n||t.apply(i,o)},a=n&&!r;window.clearTimeout(r),r=window.setTimeout(s,e),a&&t.apply(i,o)}}function Zd(t,e,n=void 0){let r,o,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s||(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const u=e-(c-a);return r=this,o=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,i=t.apply(r,o),s||(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,u)),i}}function OM(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function Cl(t){return t[0].toUpperCase()+t.slice(1)}function eh(t,...e){if(!e.length)return t;const n=e.shift();if(Me(t)&&Me(n))for(const r in n)Me(n[r])?(t[r]||Object.assign(t,{[r]:{}}),eh(t[r],n[r])):Object.assign(t,{[r]:n[r]});return eh(t,...e)}function Ix(t){const e=OM();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function RM(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function MM(){return _M(10)}function jM(t){window.open(t,"_blank")}function DM(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function th(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&Lt(r,"warn")}function ei(t,e,n){const r=n.value?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,...s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}const Ax=650;function Rr(){return window.matchMedia(`(max-width: ${Ax}px)`).matches}const Ov=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function FM(t,e){const n=Array.isArray(t)||Me(t),r=Array.isArray(e)||Me(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}class M{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,n),o.insertBefore(n,r),o.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return _x(e.querySelectorAll(M.allInputsSelector)).reduce((n,r)=>M.isNativeInput(r)||M.containsOnlyInlineElements(r)?[...n,r]:[...n,...M.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let i=e[r];if(M.isSingleTag(i)&&!M.isNativeInput(i)&&!M.isLineBreakTag(i))if(i[o])i=i[o];else if(i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return this.getDeepestNode(i,n)}return e}static isElement(e){return Bv(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return Bv(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(M.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=M.isContentEditable(e);return n}static isNodeEmpty(e){let n;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?n=e.value:n=e.textContent.replace("",""),n.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const n=[e];for(;n.length>0;)if(e=n.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&n.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=M.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return M.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;dr(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=o=>!M.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return M.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...M.getDeepestBlockElements(r)],[])}static getHolder(e){return dr(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=n.top+o,s=n.left+r;return{top:i,left:s,bottom:i+n.height,right:s+n.width}}}const UM={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},$M={Text:"",Link:"",Bold:"",Italic:""},VM={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},zM={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},Px={ui:UM,toolNames:$M,tools:VM,blockTunes:zM},ro=class{static ui(t,e){return ro._t(t,e)}static t(t,e){return ro._t(t,e)}static setDictionary(t){ro.currentDictionary=t}static _t(t,e){const n=ro.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],ro.currentDictionary)}};let rt=ro;rt.currentDictionary=Px;class Nx extends Error{}class hc{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const i=n(o),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(r)}emit(e,n){Ft(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const i=o(r);return i!==void 0?i:r},n)}off(e,n){for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers=null}}function Mi(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class tp{constructor(){this.allListeners=[]}on(e,n,r,o=!1){const i=DM("l"),s={id:i,element:e,eventType:n,handler:r,options:o};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,o),i}off(e,n,r,o){const i=this.findAll(e,n,r);i.forEach((s,a)=>{const l=this.allListeners.indexOf(i[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const o=this.findAll(e,n,r);return o.length>0?o[0]:null}findAll(e,n,r){let o;const i=e?this.findByEventTarget(e):[];return e&&n&&r?o=i.filter(s=>s.eventType===n&&s.handler===r):e&&n?o=i.filter(s=>s.eventType===n):o=i,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class Z{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new tp,this.readOnlyMutableListeners={on:(r,o,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,i,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Z)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class H{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?M.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(H.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${H.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${H.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!H.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return X("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return X("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("")),n.insertNode(o),r=o.getBoundingClientRect();const i=o.parentNode;i.removeChild(o),i.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),o=window.getSelection();return M.isNativeInput(e)?M.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=H.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=H.range;if(e===null)return;const n=M.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return M.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=M.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=H.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const o=window.getSelection();let i=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(i=s,n&&s.classList&&!s.classList.contains(n)&&(i=null),i));)s=s.parentNode,a--}),i)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}}function HM(t,e){const{type:n,target:r,addedNodes:o,removedNodes:i}=t;if(r===e)return!0;if(["characterData","attributes"].includes(n)){const l=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return e.contains(l)}const s=Array.from(o).some(l=>e.contains(l)),a=Array.from(i).some(l=>e.contains(l));return s||a}const nh="redactor dom changed",Bx="block changed",Lx="fake cursor is about to be toggled",Ox="fake cursor have been set";var zn=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(zn||{});class _e extends hc{constructor({id:e=MM(),data:n,tool:r,api:o,readOnly:i,tunesData:s},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,u=l instanceof InputEvent;!c&&!u&&this.detectToolRootChange(l);let d;c||u?d=!0:d=!(l.length>0&&l.every(h=>{const{addedNodes:m,removedNodes:p,target:b}=h;return[...Array.from(m),...Array.from(p),b].some(E=>M.isElement(E)?E.dataset.mutationFree==="true":!1)})),d&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.api=o,this.editorEventBus=a||null,this.blockAPI=new Mi(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,i),this.tunes=r.tunes,this.composeTunes(s),this.holder=this.compose(),this.watchBlockMutations(),this.addInputEvents()}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=M.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Ft(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return le(this.toolInstance.merge)}get isEmpty(){const e=M.isEmpty(this.pluginsContent),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(_e.CSS.focused,e)}get focused(){return this.holder.classList.contains(_e.CSS.focused)}set selected(e){var n,r;this.holder.classList.toggle(_e.CSS.selected,e);const o=e===!0&&H.isRangeInsideContainer(this.holder),i=e===!1&&H.isFakeCursorInsideContainer(this.holder);(o||i)&&((n=this.editorEventBus)==null||n.emit(Lx,{state:e}),o?H.addFakeCursor():H.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(Ox,{state:e}))}get selected(){return this.holder.classList.contains(_e.CSS.selected)}set stretched(e){this.holder.classList.toggle(_e.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(_e.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(_e.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(le(this.toolInstance[e])){e==="appendCallback"&&X("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){X(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(le(s.save))try{n[i]=s.save()}catch(a){X(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let o;return Promise.resolve(e).then(i=>(o=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:n,time:o-r})).catch(i=>{X(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],o=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render());return[r,o].flat().forEach(i=>{M.isElement(i)?e.appendChild(i):Array.isArray(i)?n.push(...i):n.push(i)}),[n,e]}updateCurrentInput(){this.currentInput=M.isNativeInput(document.activeElement)||!H.anchorNode?document.activeElement:H.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),le(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(r=>Object.entries(r.data).some(([o,i])=>n[o]&&FM(n[o],i)))}compose(){const e=M.make("div",_e.CSS.wrapper),n=M.make("div",_e.CSS.content),r=this.toolInstance.render();this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let o=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(le(i.wrap))try{o=i.wrap(o)}catch(s){X(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),M.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),M.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(o=>HM(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(nh,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(nh,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}}class WM extends Z{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},o,i,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:o,needToFocus:i,replace:s});return new Mi(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new _e({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=(e,n)=>{const{BlockManager:r}=this.Editor,o=r.getBlockById(e);if(!o){X("blocks.update(): Block with passed id was not found","warn");return}const i=r.getBlockIndex(o);r.insert({id:o.id,tool:o.name,data:n,index:i,replace:!0,tunes:o.tunes})}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){Lt("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){Lt("There is no block at index `"+e+"`","warn");return}return new Mi(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(Lt("There is no block with id `"+e+"`","warn"),null):new Mi(n)}swap(e,n){X("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e){try{this.Editor.BlockManager.removeBlock(e)}catch(n){Lt(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}render(e){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(e.blocks)}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){th(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){X("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}}class KM extends Z{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,r),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class GM extends Z{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}class np extends Z{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{Lt("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>rt.t(np.getNamespace(e),n)})}}class qM extends Z{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class YM extends Z{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class XM extends Z{get methods(){return{on:(e,n,r,o)=>this.on(e,n,r,o),off:(e,n,r,o)=>this.off(e,n,r,o),offById:e=>this.offById(e)}}on(e,n,r,o){return this.listeners.on(e,n,r,o)}off(e,n,r,o){this.listeners.off(e,n,r,o)}offById(e){this.listeners.offById(e)}}var rh={},JM={get exports(){return rh},set exports(t){rh=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=0)}([function(n,r,o){o(1),n.exports=function(){var i=o(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=i.getWrapper(),document.body.appendChild(a)})();var c=null,u=l.time||8e3;switch(l.type){case"confirm":c=i.confirm(l);break;case"prompt":c=i.prompt(l);break;default:c=i.alert(l),window.setTimeout(function(){c.remove()},u)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,r,o){var i=o(2);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),m=d.sources.map(function(b){return"/*# sourceURL="+d.sourceRoot+b+" */"});return[u].concat(m).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(y){var x={};return function(T){if(typeof T=="function")return T();if(x[T]===void 0){var C=(function(I){return document.querySelector(I)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}x[T]=C}return x[T]}}(),u=null,d=0,h=[],m=o(5);function p(y,x){for(var T=0;T<y.length;T++){var C=y[T],I=a[C.id];if(I){I.refs++;for(var N=0;N<I.parts.length;N++)I.parts[N](C.parts[N]);for(;N<C.parts.length;N++)I.parts.push(w(C.parts[N],x))}else{var O=[];for(N=0;N<C.parts.length;N++)O.push(w(C.parts[N],x));a[C.id]={id:C.id,refs:1,parts:O}}}}function b(y,x){for(var T=[],C={},I=0;I<y.length;I++){var N=y[I],O=x.base?N[0]+x.base:N[0],P={css:N[1],media:N[2],sourceMap:N[3]};C[O]?C[O].parts.push(P):T.push(C[O]={id:O,parts:[P]})}return T}function E(y,x){var T=c(y.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=h[h.length-1];if(y.insertAt==="top")C?C.nextSibling?T.insertBefore(x,C.nextSibling):T.appendChild(x):T.insertBefore(x,T.firstChild),h.push(x);else if(y.insertAt==="bottom")T.appendChild(x);else{if(typeof y.insertAt!="object"||!y.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(y.insertInto+" "+y.insertAt.before);T.insertBefore(x,I)}}function k(y){if(y.parentNode===null)return!1;y.parentNode.removeChild(y);var x=h.indexOf(y);x>=0&&h.splice(x,1)}function g(y){var x=document.createElement("style");return y.attrs.type===void 0&&(y.attrs.type="text/css"),f(x,y.attrs),E(y,x),x}function f(y,x){Object.keys(x).forEach(function(T){y.setAttribute(T,x[T])})}function w(y,x){var T,C,I,N;if(x.transform&&y.css){if(!(N=x.transform(y.css)))return function(){};y.css=N}if(x.singleton){var O=d++;T=u||(u=g(x)),C=A.bind(null,T,O,!1),I=A.bind(null,T,O,!0)}else y.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(P){var L=document.createElement("link");return P.attrs.type===void 0&&(P.attrs.type="text/css"),P.attrs.rel="stylesheet",f(L,P.attrs),E(P,L),L}(x),C=(function(P,L,D){var R=D.css,j=D.sourceMap,$=L.convertToAbsoluteUrls===void 0&&j;(L.convertToAbsoluteUrls||$)&&(R=m(R)),j&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(j))))+" */");var V=new Blob([R],{type:"text/css"}),Y=P.href;P.href=URL.createObjectURL(V),Y&&URL.revokeObjectURL(Y)}).bind(null,T,x),I=function(){k(T),T.href&&URL.revokeObjectURL(T.href)}):(T=g(x),C=(function(P,L){var D=L.css,R=L.media;if(R&&P.setAttribute("media",R),P.styleSheet)P.styleSheet.cssText=D;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(D))}}).bind(null,T),I=function(){k(T)});return C(y),function(P){if(P){if(P.css===y.css&&P.media===y.media&&P.sourceMap===y.sourceMap)return;C(y=P)}else I()}}n.exports=function(y,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(x=x||{}).attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||typeof x.singleton=="boolean"||(x.singleton=l()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var T=b(y,x);return p(T,x),function(C){for(var I=[],N=0;N<T.length;N++){var O=T[N];(P=a[O.id]).refs--,I.push(P)}for(C&&p(b(C,x),x),N=0;N<I.length;N++){var P;if((P=I[N]).refs===0){for(var L=0;L<P.parts.length;L++)P.parts[L]();delete a[P.id]}}}};var S,_=(S=[],function(y,x){return S[y]=x,S.filter(Boolean).join(`
`)});function A(y,x,T,C){var I=T?"":C.css;if(y.styleSheet)y.styleSheet.cssText=_(x,I);else{var N=document.createTextNode(I),O=y.childNodes;O[x]&&y.removeChild(O[x]),O.length?y.insertBefore(N,O[x]):y.appendChild(N)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,m){return m}).replace(/^'(.*)'$/,function(h,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){var i,s,a,l,c,u,d,h,m;n.exports=(i="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",u="cdx-notify__input",d="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:m=function(p){var b=document.createElement("DIV"),E=document.createElement("DIV"),k=p.message,g=p.style;return b.classList.add(s),g&&b.classList.add(s+"--"+g),b.innerHTML=k,E.classList.add(a),E.addEventListener("click",b.remove.bind(b)),b.appendChild(E),b},confirm:function(p){var b=m(p),E=document.createElement("div"),k=document.createElement("button"),g=document.createElement("button"),f=b.querySelector("."+a),w=p.cancelHandler,S=p.okHandler;return E.classList.add(h),k.innerHTML=p.okText||"Confirm",g.innerHTML=p.cancelText||"Cancel",k.classList.add(d),g.classList.add(d),k.classList.add(l),g.classList.add(c),w&&typeof w=="function"&&(g.addEventListener("click",w),f.addEventListener("click",w)),S&&typeof S=="function"&&k.addEventListener("click",S),k.addEventListener("click",b.remove.bind(b)),g.addEventListener("click",b.remove.bind(b)),E.appendChild(k),E.appendChild(g),b.appendChild(E),b},prompt:function(p){var b=m(p),E=document.createElement("div"),k=document.createElement("button"),g=document.createElement("input"),f=b.querySelector("."+a),w=p.cancelHandler,S=p.okHandler;return E.classList.add(h),k.innerHTML=p.okText||"Ok",k.classList.add(d),k.classList.add(l),g.classList.add(u),p.placeholder&&g.setAttribute("placeholder",p.placeholder),p.default&&(g.value=p.default),p.inputType&&(g.type=p.inputType),w&&typeof w=="function"&&f.addEventListener("click",w),S&&typeof S=="function"&&k.addEventListener("click",function(){S(g.value)}),k.addEventListener("click",b.remove.bind(b)),E.appendChild(g),E.appendChild(k),b.appendChild(E),b},getWrapper:function(){var p=document.createElement("DIV");return p.classList.add(i),p}})}])})})(JM);const QM=dc(rh);class ZM{show(e){QM.show(e)}}class ej extends Z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new ZM}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class tj extends Z{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var oh={},nj={get exports(){return oh},set exports(t){oh=t}};(function(t,e){(function(n,r){t.exports=r()})(TM,function(){function n(d){var h=d.tags,m=Object.keys(h),p=m.map(function(b){return typeof h[b]}).every(function(b){return b==="object"||b==="boolean"||b==="function"});if(!p)throw new Error("The configuration was invalid");this.config=d}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(d){return r.indexOf(d.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(d){return i.indexOf(d.nodeName)!==-1}n.prototype.clean=function(d){const h=document.implementation.createHTMLDocument(),m=h.createElement("div");return m.innerHTML=d,this._sanitize(h,m),m.innerHTML},n.prototype._sanitize=function(d,h){var m=a(d,h),p=m.firstChild();if(p)do{if(p.nodeType===Node.TEXT_NODE)if(p.data.trim()===""&&(p.previousElementSibling&&o(p.previousElementSibling)||p.nextElementSibling&&o(p.nextElementSibling))){h.removeChild(p),this._sanitize(d,h);break}else continue;if(p.nodeType===Node.COMMENT_NODE){h.removeChild(p),this._sanitize(d,h);break}var b=s(p),E;b&&(E=Array.prototype.some.call(p.childNodes,o));var k=!!h.parentNode,g=o(h)&&o(p)&&k,f=p.nodeName.toLowerCase(),w=l(this.config,f,p),S=b&&E;if(S||c(p,w)||!this.config.keepNestedBlockElements&&g){if(!(p.nodeName==="SCRIPT"||p.nodeName==="STYLE"))for(;p.childNodes.length>0;)h.insertBefore(p.childNodes[0],p);h.removeChild(p),this._sanitize(d,h);break}for(var _=0;_<p.attributes.length;_+=1){var A=p.attributes[_];u(A,w,p)&&(p.removeAttribute(A.name),_=_-1)}this._sanitize(d,p)}while(p=m.nextSibling())};function a(d,h){return d.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(d,h,m){return typeof d.tags[h]=="function"?d.tags[h](m):d.tags[h]}function c(d,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function u(d,h,m){var p=d.name.toLowerCase();return h===!0?!1:typeof h[p]=="function"?!h[p](d.value,m):typeof h[p]>"u"||h[p]===!1?!0:typeof h[p]=="string"?h[p]!==d.value:!1}return n})})(nj);const rj=oh;function Rx(t,e){return t.map(n=>{const r=le(e)?e(n.tool):e;return Ft(r)||(n.data=rp(n.data,r)),n})}function pn(t,e={}){const n={tags:e};return new rj(n).clean(t)}function rp(t,e){return Array.isArray(t)?oj(t,e):Me(t)?ij(t,e):dr(t)?sj(t,e):t}function oj(t,e){return t.map(n=>rp(n,e))}function ij(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r],i=aj(e[r])?e[r]:e;n[r]=rp(o,i)}return n}function sj(t,e){return Me(e)?pn(t,e):e===!1?pn(t,{}):t}function aj(t){return Me(t)||PM(t)||le(t)}class lj extends Z{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return pn(e,n)}}class cj extends Z{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Lt(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class uj extends Z{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new H().findParentTag(e,n)}expandToTag(e){new H().expandToTag(e)}}class dj extends Z{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class hj extends Z{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Lt("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Lt("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var ih={},fj={get exports(){return ih},set exports(t){ih=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){o.r(r),o.d(r,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(a,u);break;case"left":this.placeLeft(a,u);break;case"right":this.placeRight(a,u);break;case"bottom":default:this.placeBottom(a,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=o(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",u,d)}placeTop(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,d)}placeLeft(a,l){const c=a.getBoundingClientRect(),u=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,d)}placeRight(a,l){const c=a.getBoundingClientRect(),u=c.right+this.offsetRight+l.marginRight,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,d)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const u=document.createElement(a);Array.isArray(l)?u.classList.add(...l):l&&u.classList.add(l);for(const d in c)c.hasOwnProperty(d)&&(u[d]=c[d]);return u}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(fj);const pj=dc(ih);class op{constructor(){this.lib=new pj}destroy(){this.lib.destroy()}show(e,n,r){this.lib.show(e,n,r)}hide(e=!1){this.lib.hide(e)}onHover(e,n,r){this.lib.onHover(e,n,r)}}class mj extends Z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new op}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){this.tooltip.show(e,n,r)}hide(){this.tooltip.hide()}onHover(e,n,r){this.tooltip.onHover(e,n,r)}}class gj extends Z{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function Mx(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if(Me(o)){const i=e?`${e}.${r}`:r;Object.values(o).every(s=>dr(s))?n[r]=i:n[r]=Mx(o,i);return}n[r]=o}),n}const Ot=Mx(Px);function vj(t,e){const n={};return Object.keys(t).forEach(r=>{const o=e[r];o!==void 0?n[o]=t[r]:n[r]=t[r]}),n}const yj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',jx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',bj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',wj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',xj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',kj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Rv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Sj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Ej='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Cj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Tj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';class ye{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(ye.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(ye.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(ye.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(ye.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(ye.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(ye.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=M.make("div",ye.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=M.make("div",ye.CSS.icon,{innerHTML:e.icon||xj}),n.appendChild(this.nodes.icon),n.appendChild(M.make("div",ye.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild(M.make("div",ye.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(ye.CSS.active),e.isDisabled&&n.classList.add(ye.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(ye.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(ye.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(ye.CSS.noHover),this.nodes.root.classList.add(ye.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(ye.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(ye.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const bi=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(bi.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(bi.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===bi.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===bi.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,M.canSetCaret(this.items[e])&&Kr(()=>H.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let oo=bi;oo.directions={RIGHT:"right",LEFT:"left"};class _n{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(_n.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case K.TAB:this.handleTabPress(n);break;case K.LEFT:case K.UP:this.flipLeft();break;case K.RIGHT:case K.DOWN:this.flipRight();break;case K.ENTER:this.handleEnterPress(n);break}},this.iterator=new oo(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||_n.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[K.TAB,K.LEFT,K.RIGHT,K.ENTER,K.UP,K.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?oo.directions.LEFT:oo.directions.RIGHT){case oo.directions.RIGHT:this.flipRight();break;case oo.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),le(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class ji{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:r}){this.listeners=new tp,this.items=e,this.onSearch=n,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=M.make("div",ji.CSS.wrapper);const n=M.make("div",ji.CSS.icon,{innerHTML:Cj});this.input=M.make("input",ji.CSS.input,{placeholder:e}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",o=this.searchQuery.toLowerCase();return r.includes(o)}}const wi=class{lock(){Ov?this.lockHard():document.body.classList.add(wi.CSS.scrollLocked)}unlock(){Ov?this.unlockHard():document.body.classList.remove(wi.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(wi.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(wi.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let Dx=wi;Dx.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var _j=Object.defineProperty,Ij=Object.getOwnPropertyDescriptor,Aj=(t,e,n,r)=>{for(var o=r>1?void 0:r?Ij(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&_j(e,n,o),o},hs=(t=>(t.Close="close",t))(hs||{});const Le=class extends hc{constructor(t){super(),this.scopeElement=document.body,this.listeners=new tp,this.scrollLocker=new Dx,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=t.items.map(e=>new ye(e)),t.scopeElement!==void 0&&(this.scopeElement=t.scopeElement),t.messages&&(this.messages={...this.messages,...t.messages}),t.customContentFlippableItems&&(this.customContentFlippableItems=t.customContentFlippableItems),this.make(),t.customContent&&this.addCustomContent(t.customContent),t.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Le.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Le.CSS.overlayHidden),this.nodes.popover.classList.add(Le.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),Rr()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Le.CSS.popoverOpened),this.nodes.popover.classList.remove(Le.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Le.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(t=>t.reset()),this.search!==void 0&&this.search.clear(),Rr()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),Rr()&&this.scrollLocker.unlock()}make(){this.nodes.popover=M.make("div",[Le.CSS.popover]),this.nodes.nothingFoundMessage=M.make("div",[Le.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=M.make("div",[Le.CSS.items]),this.items.forEach(t=>{this.nodes.items.appendChild(t.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",t=>{const e=this.getTargetItem(t);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=M.make("div"),this.nodes.overlay=M.make("div",[Le.CSS.overlay,Le.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new ji({items:this.items,placeholder:this.messages.search,onSearch:(e,n)=>{this.items.forEach(o=>{const i=!n.includes(o);o.toggleHidden(i)}),this.toggleNothingFoundMessage(n.length===0),this.toggleCustomContent(e!=="");const r=e===""?this.flippableElements:n.map(o=>o.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(r))}});const t=this.search.getElement();t.classList.add(Le.CSS.search),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}addCustomContent(t){this.nodes.customContent=t,this.nodes.customContent.classList.add(Le.CSS.customContent),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}getTargetItem(t){return this.items.find(e=>t.composedPath().includes(e.getElement()))}handleItemClick(t){t.isDisabled||(this.items.filter(e=>e!==t).forEach(e=>e.reset()),t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new _n({items:this.flippableElements,focusedItemClass:ye.CSS.focused,allowedKeys:[K.TAB,K.UP,K.DOWN,K.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const t=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(t)}get height(){let t=0;if(this.nodes.popover===null)return t;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(Le.CSS.popoverOpened),document.body.appendChild(e),t=e.offsetHeight,e.remove(),t}get shouldOpenBottom(){const t=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),n=this.height,r=t.top+n,o=t.top-n,i=Math.min(window.innerHeight,e.bottom);return o<e.top||r<=i}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(Le.CSS.nothingFoundMessageDisplayed,t)}toggleCustomContent(t){var e;(e=this.nodes.customContent)==null||e.classList.toggle(Le.CSS.customContentHidden,t)}toggleItemActivenessIfNeeded(t){if(t.toggle===!0&&t.toggleActive(),typeof t.toggle=="string"){const e=this.items.filter(n=>n.toggle===t.toggle);if(e.length===1){t.toggleActive();return}e.forEach(n=>{n.toggleActive(n===t)})}}};let ip=Le;Aj([ei],ip.prototype,"height",1);class Pj extends Z{constructor(){super(...arguments),this.opened=!1,this.selection=new H,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=M.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[n,r]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new ip({searchable:!0,items:n.map(o=>this.resolveTuneAliases(o)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:rt.ui(Ot.ui.popover,"Nothing found"),search:rt.ui(Ot.ui.popover,"Filter")}}),this.popover.on(hs.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,H.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(hs.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:n}=this.Editor,r=e.querySelectorAll(`.${n.classes.settingsButton}, ${M.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(e){const n=vj(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class wt extends Z{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=M.make("div",[wt.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=M.make("div",wt.CSS.conversionToolbarTools);const e=M.make("div",wt.CSS.conversionToolbarLabel,{textContent:rt.ui(Ot.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),M.append(this.nodes.wrapper,e),M.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),le(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(wt.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(wt.CSS.conversionToolHidden))),this.flipper.focusFirst(),le(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(wt.CSS.conversionToolbarShowed),le(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const r=this.Editor.BlockManager.currentBlock.tool,o=(await this.Editor.BlockManager.currentBlock.save()).data,i=this.Editor.Tools.blockTools.get(e);let s="";const a=r.conversionConfig.export;if(le(a))s=a(o);else if(dr(a))s=o[a];else{X("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");return}const l=pn(s,i.sanitizeConfig);let c={};const u=i.conversionConfig.import;if(le(u))c=u(l);else if(dr(u))c[u]=l;else{X("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");return}n&&(c=Object.assign(c,n)),this.Editor.BlockManager.replace({tool:e,data:c}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),Kr(()=>{this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)},10)()}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,r])=>{const o=r.conversionConfig;!o||!o.import||r.toolbox.forEach(i=>this.addToolIfValid(n,i))})}addToolIfValid(e,n){Ft(n)||!n.icon||this.addTool(e,n)}addTool(e,n){const r=M.make("div",[wt.CSS.conversionTool]),o=M.make("div",[wt.CSS.conversionToolIcon]);r.dataset.tool=e,o.innerHTML=n.icon,M.append(r,o),M.append(r,M.text(rt.t(Ot.toolNames,n.title||Cl(e)))),M.append(this.nodes.tools,r),this.tools.push({name:e,button:r,toolboxItem:n}),this.listeners.on(r,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function r(o,i){return o.icon===i.icon&&o.title===i.title}this.tools.forEach(o=>{let i=!1;if(n){const s=r(n,o.toolboxItem);i=o.button.dataset.tool===e.name&&s}o.button.hidden=i,o.button.classList.toggle(wt.CSS.conversionToolHidden,i)})}enableFlipper(){this.flipper=new _n({focusedItemClass:wt.CSS.conversionToolFocused})}}var sh={},Nj={get exports(){return sh},set exports(t){sh=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&i(l.prototype,c),u&&i(l,u),l}o.r(r);var a=function(){function l(c){var u=this;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(d){u.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var u=0;u<c.length;u++){c[u]=c[u].toUpperCase();var d=!1;for(var h in l.supportedCommands)if(l.supportedCommands[h].includes(c[u])){d=this.commands[h]=!0;break}d||(this.keys[c[u]]=!0)}for(var m in l.supportedCommands)this.commands[m]||(this.commands[m]=!1)}},{key:"execute",value:function(c){var u,d={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(u in this.commands)this.commands[u]!==d[u]&&(h=!1);var m,p=!0;for(m in this.keys)p=p&&c.keyCode===l.keyCodes[m];h&&p&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(Nj);const Bj=dc(sh);class Lj{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new Bj({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(i=>i!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const Vo=new Lj;var Oj=Object.defineProperty,Rj=Object.getOwnPropertyDescriptor,Fx=(t,e,n,r)=>{for(var o=r>1?void 0:r?Rj(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&Oj(e,n,o),o},Ia=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(Ia||{});const Ux=class extends hc{constructor({api:t,tools:e,i18nLabels:n}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=e,this.i18nLabels=n}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new ip({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(hs.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(Ux.CSS.toolbox),this.nodes.toolbox}hasFocus(){var t;return(t=this.popover)==null?void 0:t.hasFocus()}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(t=this.popover)==null||t.off(hs.Close,this.onPopoverClose)}toolButtonActivated(t,e){this.insertNewBlock(t,e)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(e=>{e.toolbox&&t.push(e)}),t}get toolboxItemsToBeDisplayed(){const t=(e,n)=>({icon:e.icon,title:rt.t(Ot.toolNames,e.title||Cl(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,e.data)},secondaryLabel:n.shortcut?Ix(n.shortcut):""});return this.toolsToBeDisplayed.reduce((e,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach(r=>{e.push(t(r,n))}):n.toolbox!==void 0&&e.push(t(n.toolbox,n)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&this.enableShortcutForTool(t.name,e)})}enableShortcutForTool(t,e){Vo.add({name:e,on:this.api.ui.nodes.redactor,handler:n=>{n.preventDefault(),this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&Vo.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(t,e){const n=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(n);if(!r)return;const o=r.isEmpty?n:n+1;let i;if(e){const a=await this.api.blocks.composeBlockData(t);i=Object.assign(a,e)}const s=this.api.blocks.insert(t,i,void 0,o,void 0,r.isEmpty);s.call(zn.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let sp=Ux;Fx([ei],sp.prototype,"toolsToBeDisplayed",1);Fx([ei],sp.prototype,"toolboxItemsToBeDisplayed",1);const $x="block hovered";class Mj extends Z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new op}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){return{opened:this.toolboxInstance.opened,close:()=>{this.toolboxInstance.close()},open:()=>{this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>this.toolboxInstance.toggle(),hasFocus:()=>this.toolboxInstance.hasFocus()}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI,o=e.pluginsContent,i=window.getComputedStyle(o),s=parseInt(i.paddingTop,10),a=n.offsetHeight;let l;r?l=n.offsetTop+a:l=n.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}open(e=!0){Kr(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=M.make("div",this.CSS.toolbar),["content","actions"].forEach(n=>{this.nodes[n]=M.make("div",this.CSS[n])}),M.append(this.nodes.wrapper,this.nodes.content),M.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=M.make("div",this.CSS.plusButton,{innerHTML:Ej}),M.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=M.make("div");e.appendChild(document.createTextNode(rt.ui(Ot.ui.toolbar.toolbox,"Add"))),e.appendChild(M.make("div",this.CSS.plusButtonShortcut,{textContent:" Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=M.make("span",this.CSS.settingsToggler,{innerHTML:Sj}),M.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,rt.ui(Ot.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),M.append(this.nodes.actions,this.makeToolbox()),M.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),M.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new sp({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:rt.ui(Ot.ui.popover,"Filter"),nothingFound:rt.ui(Ot.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Ia.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Ia.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Ia.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(e.id);o.inputs.length===0&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{e.stopPropagation(),this.settingsTogglerClicked(),this.toolboxInstance.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),Rr()||this.eventsDispatcher.on($x,e=>{this.Editor.BlockSettings.opened||this.toolboxInstance.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var fc=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(fc||{}),Aa=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Aa||{}),Vx=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(Vx||{}),io=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(io||{}),ap=(t=>(t.IsInline="isInline",t.Title="title",t))(ap||{}),zx=(t=>(t.IsTune="isTune",t))(zx||{});class lp{constructor({name:e,constructable:n,config:r,api:o,isDefault:i,isInternal:s=!1,defaultPlaceholder:a}){this.api=o,this.name=e,this.constructable=n,this.config=r,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(le(this.constructable.reset))return this.constructable.reset()}prepare(){if(le(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class jj extends Z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=Rr()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new op}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}tryToShow(e=!1,n=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(n),this.Editor.Toolbar.close()}move(){const e=H.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:e.x-n.left,y:e.y+e.height-n.top+this.toolbarVerticalMargin};e.width&&(r.x+=Math.floor(e.width/2));const o=r.x-this.width/2,i=r.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,o<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,i>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const r=this.getToolShortcut(e);r&&Vo.remove(this.Editor.UI.nodes.redactor,r),le(n.clear)&&n.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let n=Array.from(this.buttonsList);n.unshift(this.nodes.conversionToggler),n=n.filter(r=>!r.hidden),this.flipper.activate(n)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=M.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=M.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=M.make("div",this.CSS.buttonsWrapper),this.nodes.actions=M.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),M.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),M.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),M.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],n=H.get(),r=H.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const o=M.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const i=this.Editor.BlockManager.getBlock(n.anchorNode);return i?i.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=M.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=M.make("div",this.CSS.conversionTogglerContent);const e=M.make("div",this.CSS.conversionTogglerArrow,{innerHTML:jx});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),Rr()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,rt.ui(Ot.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,r=n.name,o=n.tool.conversionConfig,i=o&&o.export;this.nodes.conversionToggler.hidden=!i,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!i);const s=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||Cl(r)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();M.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=H.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach(r=>{this.addTool(r)}),this.recalculateWidth()}addTool(e){const n=e.create(),r=n.render();if(!r){X("Render method must return an instance of Node","warn",e.name);return}if(r.dataset.tool=e.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(e.name,n),le(n.renderActions)){const a=n.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(r,"click",a=>{this.toolClicked(n),a.preventDefault()});const o=this.getToolShortcut(e.name);if(o)try{this.enableShortcuts(n,o)}catch{}const i=M.make("div"),s=rt.t(Ot.toolNames,e.title||Cl(e.name));i.appendChild(M.text(s)),o&&i.appendChild(M.make("div",this.CSS.inlineToolbarShortcut,{textContent:Ix(o)})),Rr()===!1&&this.tooltip.onHover(r,i,{placement:"top",hidingDelay:100}),n.checkState(H.get())}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),o=n.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][Vx.Shortcut]:r.shortcut}enableShortcuts(e,n){Vo.add({name:n,handler:r=>{const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=H.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(H.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}enableFlipper(){this.flipper=new _n({focusedItemClass:this.CSS.focusedButton,allowedKeys:[K.ENTER,K.TAB]})}}class Dj extends Z{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case K.BACKSPACE:this.backspace(e);break;case K.ENTER:this.enter(e);break;case K.DOWN:case K.RIGHT:this.arrowRightAndDown(e);break;case K.UP:case K.LEFT:this.arrowLeftAndUp(e);break;case K.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&Cx(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor,i=n.currentBlock;if(!i)return;const s=i.isEmpty,a=i.tool.isDefault&&s,l=!s&&o.opened,c=!s&&!H.isCollapsed&&r.opened;a?this.activateToolbox():!l&&!c&&this.activateBlockSettings()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:o}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const i=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),n.clearSelection(e)})}enter(e){const{BlockManager:n,UI:r}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey)return;let o=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.currentBlock,s=i.tool;if(i.selected||i.isEmpty&&i.currentInput===i.firstInput){e.preventDefault();const l=n.currentBlockIndex;n.previousBlock&&n.previousBlock.inputs.length===0?n.removeBlock(l-1):n.removeBlock(),o.setToBlock(n.currentBlock,l?o.positions.END:o.positions.START),this.Editor.Toolbar.close(),r.clearSelection(e);return}if(s.isLineBreaksEnabled&&!o.isAtStart)return;const a=n.currentBlockIndex===0;o.isAtStart&&H.isCollapsed&&i.currentInput===i.firstInput&&!a&&(e.preventDefault(),this.mergeBlocks())}mergeBlocks(){const{BlockManager:e,Caret:n,Toolbar:r}=this.Editor,o=e.previousBlock,i=e.currentBlock;if(i.name!==o.name||!o.mergeable){if(o.inputs.length===0||o.isEmpty){e.removeBlock(e.currentBlockIndex-1),n.setToBlock(e.currentBlock),r.close();return}n.navigatePrevious()&&r.close();return}n.createShadow(o.pluginsContent),e.mergeBlocks(o,i).then(()=>{n.restoreCaret(o.pluginsContent),o.pluginsContent.normalize(),r.close()})}arrowRightAndDown(e){const n=_n.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===K.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===K.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===K.DOWN||e.keyCode===K.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():Kr(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(_n.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===K.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===K.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===K.UP||e.keyCode===K.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():Kr(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===K.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===K.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===K.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===K.ENTER&&this.Editor.ConversionToolbar.opened,s=e.keyCode===K.TAB;return!(e.shiftKey||s||n||r||o||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class ku{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return _x(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];M.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],o=e-1,i=Math.max(0,o),s=this.blocks[i];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(zn.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(zn.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,n),e>0){const i=this.blocks[e-1];this.insertToDOM(n,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(zn.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(zn.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(zn.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const Mv="block-removed",jv="block-added",Fj="block-moved",Uj="block-changed";class $j extends Z{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new ku(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:ku.set,get:ku.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:o={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new _e({id:r,data:n,tool:s,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||this.bindBlockEvents(a),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:o,needToFocus:i=!0,replace:s=!1,tunes:a={}}={}){let l=o;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return s&&this.blockDidMutated(Mv,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(jv,c,{index:l}),i?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}replace({tool:e=this.config.defaultBlock,data:n={}}){return this.insert({tool:e,data:n,index:this.currentBlockIndex,replace:!0})}paste(e,n,r=!1){const o=this.insert({tool:e,replace:r});try{o.call(zn.ON_PASTE,n)}catch(i){X(`${e}: onPaste callback call is failed`,"error",i)}return o}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(jv,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const r=this._blocks.indexOf(n);if(n.isEmpty)return;const o=await n.data;Ft(o)||await e.mergeWith(o),this.removeBlock(r),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e=this.currentBlockIndex){if(!this.validateIndex(e))throw new Error("Can't find a Block to remove");const n=this._blocks[e];n.destroy(),this._blocks.remove(e),this.blockDidMutated(Mv,n,{index:e}),this.currentBlockIndex>=e&&this.currentBlockIndex--,this.blocks.length?e===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(n),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=M.make("div");n.appendChild(e);const r={text:M.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){M.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${_e.CSS.wrapper}`),o=n.indexOf(r);if(o>=0)return this._blocks[o]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){M.isElement(e)||(e=e.parentNode);const n=e.closest(`.${_e.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){M.isElement(e)||(e=e.parentNode);const n=e.closest(`.${_e.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){X("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){X("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(Fj,this.currentBlock,{fromIndex:n,toIndex:e})}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}clear(e=!1){this._blocks.removeAll(),this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(Uj,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const o=new CustomEvent(e,{detail:{target:new Mi(n),...r}});return this.eventsDispatcher.emit(Bx,{event:o}),n}}class Vj extends Z{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new H,Vo.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){H.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:o,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&Cx(e.keyCode);if(this.anyBlockSelected&&s&&a&&!H.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),o.setToBlock(r.currentBlock),Kr(()=>{const c=e.key;o.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=M.make("div");this.selectedBlocks.forEach(i=>{const s=pn(i.holder.innerHTML,this.sanitizerConfig),a=M.make("p");a.innerHTML=s,n.appendChild(a)});const r=Array.from(n.childNodes).map(i=>i.textContent).join(`

`),o=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor;n.clearFocused();let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),this.selection.save(),H.get().removeAllRanges(),r.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Vo.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),M.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target).inputs;if(n.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(n.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),H.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Tl extends Z{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=H.get(),n=M.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let r=e.focusNode;if(M.isNativeInput(n))return n.selectionEnd===0;if(!e.anchorNode)return!1;let o=r.textContent.search(/\S/);o===-1&&(o=0);let i=e.focusOffset;return r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[i]?(r=r.childNodes[i],i=0):(r=r.childNodes[i-1],i=r.textContent.length)),(M.isLineBreakTag(n)||M.isEmpty(n))&&this.getHigherLevelSiblings(r,"left").every(s=>{const a=M.isLineBreakTag(s),l=s.children.length===1&&M.isLineBreakTag(s.children[0]),c=a||l;return M.isEmpty(s)&&!c})&&i===o?!0:n===null||r===n&&i<=o}get isAtEnd(){const e=H.get();let n=e.focusNode;const r=M.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(M.isNativeInput(r))return r.selectionEnd===r.value.length;if(!e.focusNode)return!1;let o=e.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[o-1]?(n=n.childNodes[o-1],o=n.textContent.length):(n=n.childNodes[0],o=0)),M.isLineBreakTag(r)||M.isEmpty(r)){const s=this.getHigherLevelSiblings(n,"right");if(s.every((a,l)=>l===s.length-1&&M.isLineBreakTag(a)||M.isEmpty(a)&&!M.isLineBreakTag(a))&&o===n.textContent.length)return!0}const i=r.textContent.replace(/\s+$/,"");return n===r&&o>=i.length}setToBlock(e,n=this.positions.DEFAULT,r=0){const{BlockManager:o}=this.Editor;let i;switch(n){case this.positions.START:i=e.firstInput;break;case this.positions.END:i=e.lastInput;break;default:i=e.currentInput}if(!i)return;const s=M.getDeepestNode(i,n===this.positions.END),a=M.getContentLength(s);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>a:r=a;break}Kr(()=>{this.set(s,r)},20)(),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=i}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,i=M.getDeepestNode(e);switch(n){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,M.getContentLength(i));break;default:r&&this.set(i,r)}o.currentInput=e}set(e,n=0){const{top:r,bottom:o}=H.setCursor(e,n),{innerHeight:i}=window;r<0&&window.scrollBy(0,r),o>i&&window.scrollBy(0,o-i)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=H.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(M.isNativeInput(r)){const o=r,i=document.createDocumentFragment(),s=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return i.textContent=a,o.value=s,i}else{const o=n.cloneRange();return o.selectNodeContents(r),o.setStart(n.endContainer,n.endOffset),o.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:n,nextContentfulBlock:r}=e,{nextInput:o}=n,i=this.isAtEnd;let s=r;if(!s&&!o){if(n.tool.isDefault||!i)return!1;s=e.insertAtEnd()}return i?(o?this.setToInput(o,this.positions.START):this.setToBlock(s,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:n}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:r}=e;return!n&&!r?!1:this.isAtStart?(r?this.setToInput(r,this.positions.END):this.setToBlock(n,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Tl.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Tl.CSS.shadowCaret}`);n&&(new H().expandToTag(n),setTimeout(()=>{const r=document.createRange();r.selectNode(n),r.extractContents()},50))}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),o=H.get(),i=H.range;r.innerHTML=e,Array.from(r.childNodes).forEach(l=>n.appendChild(l)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;i.deleteContents(),i.insertNode(n);const a=document.createRange();a.setStart(s,s.textContent.length),o.removeAllRanges(),o.addRange(a)}getHigherLevelSiblings(e,n){let r=e;const o=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const i=n==="left"?"previousSibling":"nextSibling";for(;r[i];)r=r[i],o.push(r);return o}}class zj extends Z{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=n.getBlockByChildNode(e.target);if(!(!o||!i)&&i!==o){if(o===this.firstSelectedBlock){H.get().removeAllRanges(),o.selected=!0,i.selected=!0,r.clearCache();return}if(i===this.firstSelectedBlock){o.selected=!1,i.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==IM.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),H.get().removeAllRanges());const o=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[o];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&i>-1&&s>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case K.DOWN:case K.RIGHT:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);break;case K.UP:case K.LEFT:o.setToBlock(n.blocks[Math.min(i,s)],o.positions.START);break;default:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END)}else o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;H.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:o}=this.Editor,i=r.blocks.indexOf(e),s=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(i,s);l<=Math.max(i,s);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,o.clearCache())}}}class Hj extends Z{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:r,Paste:o}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),H.isAtEditor&&!H.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=n.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,r.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,r.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){H.isAtEditor&&!H.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class Wj extends Z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(Bx,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(Lx,()=>{this.disable()}),this.eventsDispatcher.on(Ox,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!le(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(nh,{mutations:e})}}const Hx=class extends Z{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const e=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!le(e.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(e){X(`Paste handling for ${t.name} Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async t=>{const{BlockManager:e,Toolbar:n}=this.Editor;!e.currentBlock||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||e.currentBlock&&this.exceptionList.includes(e.currentBlock.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),e.clearFocused(),n.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,e=!1){const{Tools:n}=this.Editor,r=t.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!Ft(this.toolsFiles)){await this.processFiles(t.files);return}const o=t.getData(this.MIME_TYPE),i=t.getData("text/plain");let s=t.getData("text/html");if(o)try{this.insertEditorJSData(JSON.parse(o));return}catch{}e&&i.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:i)+"</p>");const a=Object.keys(this.toolsTags).reduce((u,d)=>(u[d.toLowerCase()]=this.toolsTags[d].sanitizationConfig??{},u),{}),l=Object.assign({},a,n.getAllInlineToolsSanitizeConfig(),{br:{}}),c=pn(s,l);!c.trim()||c.trim()===i||!M.isHTMLString(c)?await this.processText(i):await this.processText(c,!0)}async processText(t,e=!1){const{Caret:n,BlockManager:r}=this.Editor,o=e?this.processHTML(t):this.processPlain(t);if(!o.length)return;if(o.length===1){o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop());return}const i=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;o.map(async(s,a)=>this.insertBlock(s,a===0&&i)),r.currentBlock&&n.setToBlock(r.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return dr(t)?[t]:Me(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const e=t.pasteConfig.tags||[],n=[];e.forEach(r=>{const o=this.collectTagNames(r);n.push(...o),o.forEach(i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i)){X(`Paste handler for ${t.name} Tool on ${i} tag is skipped because it is already used by ${this.toolsTags[i].tool.name} Tool.`,"warn");return}const s=Me(r)?r[i]:null;this.toolsTags[i.toUpperCase()]={tool:t,sanitizationConfig:s}})}),this.tagsByTool[t.name]=n.map(r=>r.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:e={}}=t.pasteConfig;let{extensions:n,mimeTypes:r}=e;!n&&!r||(n&&!Array.isArray(n)&&(X(`extensions property of the onDrop config for ${t.name} Tool should be an array`),n=[]),r&&!Array.isArray(r)&&(X(`mimeTypes property of the onDrop config for ${t.name} Tool should be an array`),r=[]),r&&(r=r.filter(o=>BM(o)?!0:(X(`MIME type value ${o} for the ${t.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:n||[],mimeTypes:r||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||Ft(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([e,n])=>{n instanceof RegExp||X(`Pattern ${n} for ${t.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:n,tool:t})})}isNativeBehaviour(t){return M.isNativeInput(t)}async processFiles(t){const{BlockManager:e}=this.Editor;let n;n=await Promise.all(Array.from(t).map(o=>this.processFile(o))),n=n.filter(o=>!!o);const r=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;n.forEach((o,i)=>{e.paste(o.type,o.event,i===0&&r)})}async processFile(t){const e=NM(t),n=Object.entries(this.toolsFiles).find(([o,{mimeTypes:i,extensions:s}])=>{const[a,l]=t.type.split("/"),c=s.find(d=>d.toLowerCase()===e.toLowerCase()),u=i.find(d=>{const[h,m]=d.split("/");return h===a&&(m===l||m==="*")});return!!c||!!u});if(!n)return;const[r]=n;return{event:this.composePasteEvent("file",{file:t}),type:r}}processHTML(t){const{Tools:e}=this.Editor,n=M.make("DIV");return n.innerHTML=t,this.getNodes(n).map(r=>{let o,i=e.defaultTool,s=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=M.make("div"),o.appendChild(r);break;case Node.ELEMENT_NODE:o=r,s=!0,this.toolsTags[o.tagName]&&(i=this.toolsTags[o.tagName].tool);break}const{tags:a}=i.pasteConfig||{tags:[]},l=a.reduce((d,h)=>(this.collectTagNames(h).forEach(m=>{const p=Me(h)?h[m]:null;d[m.toLowerCase()]=p||{}}),d),{}),c=Object.assign({},l,i.baseSanitizeConfig);if(o.tagName.toLowerCase()==="table"){const d=pn(o.outerHTML,c);o=M.make("div",void 0,{innerHTML:d}).firstChild}else o.innerHTML=pn(o.innerHTML,c);const u=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:s,tool:i.name,event:u}}).filter(r=>{const o=M.isEmpty(r.content),i=M.isSingleTag(r.content);return!o||i})}processPlain(t){const{defaultBlock:e}=this.config;if(!t)return[];const n=e;return t.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const o=M.make("div");o.textContent=r;const i=this.composePasteEvent("tag",{data:o});return{content:o,tool:n,isBlock:!1,event:i}})}async processSingleBlock(t){const{Caret:e,BlockManager:n}=this.Editor,{currentBlock:r}=n;if(!r||t.tool!==r.name||!M.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}e.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:e,Caret:n}=this.Editor,{content:r}=t;if(e.currentBlock&&e.currentBlock.tool.isDefault&&r.textContent.length<Hx.PATTERN_PROCESSING_MAX_LENGTH){const o=await this.processPattern(r.textContent);if(o){const i=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,s=e.paste(o.tool,o.event,i);n.setToBlock(s,n.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const o=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,pn(r.innerHTML,o))}else this.insertBlock(t)}async processPattern(t){const e=this.toolsPatterns.find(n=>{const r=n.pattern.exec(t);return r?t===r.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:t}),tool:e.tool.name}:void 0}insertBlock(t,e=!1){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o}=n;let i;if(e&&o&&o.isEmpty){i=n.paste(t.tool,t.event,!0),r.setToBlock(i,r.positions.END);return}i=n.paste(t.tool,t.event),r.setToBlock(i,r.positions.END)}insertEditorJSData(t){const{BlockManager:e,Caret:n,Tools:r}=this.Editor;Rx(t,o=>r.blockTools.get(o).sanitizeConfig).forEach(({tool:o,data:i},s)=>{let a=!1;s===0&&(a=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const l=e.insert({tool:o,data:i,replace:a});n.setToBlock(l,n.positions.END)})}processElementNode(t,e,n){const r=Object.keys(this.toolsTags),o=t,{tool:i}=this.toolsTags[o.tagName]||{},s=this.tagsByTool[i==null?void 0:i.name]||[],a=r.includes(o.tagName),l=M.blockElements.includes(o.tagName.toLowerCase()),c=Array.from(o.children).some(({tagName:d})=>r.includes(d)&&!s.includes(d)),u=Array.from(o.children).some(({tagName:d})=>M.blockElements.includes(d.toLowerCase()));if(!l&&!a&&!c)return n.appendChild(o),[...e,n];if(a&&!c||l&&!u&&!c)return[...e,n,o]}getNodes(t){const e=Array.from(t.childNodes);let n;const r=(o,i)=>{if(M.isEmpty(i)&&!M.isSingleTag(i))return o;const s=o[o.length-1];let a=new DocumentFragment;switch(s&&M.isFragment(s)&&(a=o.pop()),i.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(i,o,a),n)return n;break;case Node.TEXT_NODE:return a.appendChild(i),[...o,a];default:return[...o,a]}return[...o,...Array.from(i.childNodes).reduce(r,[])]};return e.reduce(r,[])}composePasteEvent(t,e){return new CustomEvent(t,{detail:e})}};let Wx=Hx;Wx.PATTERN_PROCESSING_MAX_LENGTH=450;class Kj extends Z{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([o,i])=>{i.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new Nx(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class Di extends Z{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${_e.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=o.some(a=>!!r.closest(a));!i||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Zd(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Zd(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(M.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=M.make("div",Di.CSS.overlay,{}),o=M.make("div",Di.CSS.overlayContainer,{}),i=M.make("div",Di.CSS.rect,{});return o.appendChild(i),r.appendChild(o),n.appendChild(r),this.overlayRectangle=i,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:o}=this.genInfoForMouseSelection(),i=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),H.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),o=this.Editor.BlockManager.getBlockByChildNode(r);let i;o!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(u=>u.holder===o.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+_e.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:i,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,i=-1,s=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=a?o:i);const c=e>this.stackOfSelected[r-1]&&l===o,u=e<this.stackOfSelected[r-1]&&l===i,d=!(c||u||l===s);if(!d&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let p=this.stackOfSelected[r-1]+1||e;for(p;p<=e;p++)this.addBlockInSelection(p);return}if(!d&&e<this.stackOfSelected[r-1]){for(let p=this.stackOfSelected[r-1]-1;p>=e;p--)this.addBlockInSelection(p);return}if(!d)return;let h=r-1,m;for(e>this.stackOfSelected[r-1]?m=()=>e>this.stackOfSelected[h]:m=()=>e<this.stackOfSelected[h];m();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}}class Gj extends Z{async render(e){const n=e.map(o=>({function:()=>this.insertBlock(o)}));this.Editor.ModificationsObserver.disable();const r=await Tx(n);return this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),r}async insertBlock(e){var n;const{Tools:r,BlockManager:o}=this.Editor,{type:i,data:s,tunes:a,id:l}=e;if(r.available.has(i))try{o.insert({id:l,tool:i,data:s,tunes:a})}catch(c){throw X(`Block ${i} skipped because of plugins error`,"warn",{data:s,error:c}),Error(c)}else{const c={savedData:{id:l,type:i,data:s},title:i};if(r.unavailable.has(i)){const d=(n=r.unavailable.get(i).toolbox[0])==null?void 0:n.title;c.title=d||c.title}const u=o.insert({id:l,tool:r.stubTool,data:c});u.stretched=!0,X(`Tool ${i} is not found. Check 'tools' property at your initial Editor.js config.`,"warn")}}}class qj extends Z{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,o=[];try{r.forEach(a=>{o.push(this.getSavedData(a))});const i=await Promise.all(o),s=await Rx(i,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(i){Lt("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){let n=0;const r=[];return X("[Editor.js saving]:","groupCollapsed"),e.forEach(({id:o,tool:i,data:s,tunes:a,time:l,isValid:c})=>{if(n+=l,X(`${i.charAt(0).toUpperCase()+i.slice(1)}`,"group"),c)X(s),X(void 0,"groupEnd");else{X(`Block ${i} skipped because saved data is invalid`),X(void 0,"groupEnd");return}if(i===this.Editor.Tools.stubTool){r.push(s);return}const u={id:o,type:i,data:s,...!Ft(a)&&{tunes:a}};r.push(u)}),X("Total","log",n),X(void 0,"groupEnd"),{time:+new Date,blocks:r,version:"2.27.2"}}}var ah={},Yj={get exports(){return ah},set exports(t){ah=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=4)}([function(n,r,o){var i=o(1),s=o(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};i(s,a),n.exports=s.locals||{}},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var f={};return function(w){if(f[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}f[w]=S}return f[w]}}(),l=[];function c(f){for(var w=-1,S=0;S<l.length;S++)if(l[S].identifier===f){w=S;break}return w}function u(f,w){for(var S={},_=[],A=0;A<f.length;A++){var y=f[A],x=w.base?y[0]+w.base:y[0],T=S[x]||0,C="".concat(x," ").concat(T);S[x]=T+1;var I=c(C),N={css:y[1],media:y[2],sourceMap:y[3]};I!==-1?(l[I].references++,l[I].updater(N)):l.push({identifier:C,updater:g(N,w),references:1}),_.push(C)}return _}function d(f){var w=document.createElement("style"),S=f.attributes||{};if(S.nonce===void 0){var _=o.nc;_&&(S.nonce=_)}if(Object.keys(S).forEach(function(y){w.setAttribute(y,S[y])}),typeof f.insert=="function")f.insert(w);else{var A=a(f.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(w)}return w}var h,m=(h=[],function(f,w){return h[f]=w,h.filter(Boolean).join(`
`)});function p(f,w,S,_){var A=S?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(f.styleSheet)f.styleSheet.cssText=m(w,A);else{var y=document.createTextNode(A),x=f.childNodes;x[w]&&f.removeChild(x[w]),x.length?f.insertBefore(y,x[w]):f.appendChild(y)}}function b(f,w,S){var _=S.css,A=S.media,y=S.sourceMap;if(A?f.setAttribute("media",A):f.removeAttribute("media"),y&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(y))))," */")),f.styleSheet)f.styleSheet.cssText=_;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(_))}}var E=null,k=0;function g(f,w){var S,_,A;if(w.singleton){var y=k++;S=E||(E=d(w)),_=p.bind(null,S,y,!1),A=p.bind(null,S,y,!0)}else S=d(w),_=b.bind(null,S,w),A=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(S)};return _(f),function(x){if(x){if(x.css===f.css&&x.media===f.media&&x.sourceMap===f.sourceMap)return;_(f=x)}else A()}}n.exports=function(f,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var S=u(f=f||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var A=0;A<S.length;A++){var y=c(S[A]);l[y].references--}for(var x=u(_,w),T=0;T<S.length;T++){var C=c(S[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}S=x}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var m=(b=h,E=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),k="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E),"/*# ".concat(k," */")),p=h.sources.map(function(g){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(g," */")});return[d].concat(p).concat([m]).join(`
`)}var b,E,k;return[d].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var m=0;m<a.length;m++){var p=[].concat(a[m]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&i(l.prototype,c),u&&i(l,u),l}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var a=function(){function l(c){var u=c.data,d=c.config,h=c.api,m=c.readOnly;(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=h,this.readOnly=m,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=d.placeholder?d.placeholder:l.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=d.preserveBlank!==void 0&&d.preserveBlank,this.data=u}return s(l,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(l,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var u={text:this.data.text+c.text};this.data=u}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var u={text:c.detail.data.innerHTML};this.data=u}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),l}()}]).default})})(Yj);const Xj=dc(ah);class cp{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=yj,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}cp.isInline=!0;cp.title="Bold";class up{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=kj,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}up.isInline=!0;up.title="Italic";class dp{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new H}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Rv,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=Tj,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Rv,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new H;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),X("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!n&&!r&&!o&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}dp.isInline=!0;dp.title="Link";class Kx{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=M.make("div",this.CSS.wrapper),n='<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>',r=M.make("div",this.CSS.info),o=M.make("div",this.CSS.title,{textContent:this.title}),i=M.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(o),r.appendChild(i),e.appendChild(r),e}}Kx.isReadOnlySupported=!0;class Jj extends lp{constructor(){super(...arguments),this.type=fc.Inline}get title(){return this.constructable[ap.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class Qj extends lp{constructor(){super(...arguments),this.type=fc.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}class ze extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new ze(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new ze(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new ze(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new ze(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new ze(e)}}var Zj=Object.defineProperty,eD=Object.getOwnPropertyDescriptor,Gx=(t,e,n,r)=>{for(var o=r>1?void 0:r?eD(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&Zj(e,n,o),o};class hp extends lp{constructor(){super(...arguments),this.type=fc.Block,this.inlineTools=new ze,this.tunes=new ze}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[io.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[io.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[io.Toolbox],n=this.config[Aa.Toolbox];if(!Ft(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,o)=>{const i=e[o];return i?{...i,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[io.ConversionConfig]}get enabledInlineTools(){return this.config[Aa.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Aa.EnabledBlockTunes]}get pasteConfig(){return this.constructable[io.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(Ft(e))return n;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];Me(i)?r[o]=Object.assign({},n,i):r[o]=i}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}Gx([ei],hp.prototype,"sanitizeConfig",1);Gx([ei],hp.prototype,"baseSanitizeConfig",1);class tD{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...o}=this.config[e],i=this.getConstructor(n);return new i({name:e,constructable:n,config:o,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[ap.IsInline]:return Jj;case e[zx.IsTune]:return Qj;default:return hp}}}class qx{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:jx,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,o=r.getBoundingClientRect();let i=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(i=window.scrollY+r.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}qx.isTune=!0;class Yx{constructor({api:e}){this.api=e}render(){return{icon:wj,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Yx.isTune=!0;class Xx{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:bj,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const o=n.holder,i=r.holder,s=o.getBoundingClientRect(),a=i.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Xx.isTune=!0;var nD=Object.defineProperty,rD=Object.getOwnPropertyDescriptor,oD=(t,e,n,r)=>{for(var o=r>1?void 0:r?rD(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&nD(e,n,o),o};class Jx extends Z{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new ze,this.toolsUnavailable=new ze}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=eh({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new tD(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await Tx(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{le(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:cp,isInternal:!0},italic:{class:up,isInternal:!0},link:{class:dp,isInternal:!0},paragraph:{class:Xj,inlineToolbar:!0,isInternal:!0},stub:{class:Kx,isInternal:!0},moveUp:{class:Xx,isInternal:!0},delete:{class:Yx,isInternal:!0},moveDown:{class:qx,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render","surround","checkState"].filter(o=>!n.create()[o]);if(r.length){X(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,o])=>{n.push({function:le(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new ze(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new ze(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new ze(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new ze([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new ze(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new ze([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!le(n)&&!le(n.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const n in this.config.tools)Me(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}oD([ei],Jx.prototype,"getAllInlineToolsSanitizeConfig",1);const iD=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class sD extends Z{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=LM(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${_e.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}addLoader(){this.nodes.loader=M.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}removeLoader(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}async prepare(){this.checkIsMobile(),this.make(),this.addLoader(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;return n.opened||r.opened||o.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof _n).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;n.close(),r.close(),o.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<Ax}make(){this.nodes.holder=M.getHolder(this.config.holder),this.nodes.wrapper=M.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=M.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(M.get(e))return;const n=M.make("style",null,{id:e,textContent:iD.toString()});M.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Zd(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit($x,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case K.ENTER:this.enterPressed(e);break;case K.BACKSPACE:this.backspacePressed(e);break;case K.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&o||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!H.isSelectionExists){const i=n.removeSelectedBlocks();o.setToBlock(n.insertDefaultBlockAtIndex(i,!0),o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!H.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(i),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const n=e.target;this.nodes.holder.contains(n)||H.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const r=this.Editor.BlockSettings.nodes.wrapper.contains(n),o=this.Editor.Toolbar.nodes.settingsToggler.contains(n),i=r||o;if(this.Editor.BlockSettings.opened&&!i){this.Editor.BlockSettings.close();const s=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:n}=this.Editor;if(!H.isCollapsed)return;const r=()=>{e.stopImmediatePropagation(),e.stopPropagation()},o=e.target,i=e.metaKey||e.ctrlKey;if(M.isAnchor(o)&&i){r();const c=o.getAttribute("href"),u=RM(c);jM(u);return}const s=this.Editor.BlockManager.getBlockByIndex(-1),a=M.offset(s.holder).bottom,l=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!n.anyBlockSelected&&a<l){r();const{BlockManager:c,Caret:u,Toolbar:d}=this.Editor;(!c.lastBlock.tool.isDefault||!c.lastBlock.isEmpty)&&c.insertAtEnd(),u.setToTheLastBlock(),d.moveAndOpen(c.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=H.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&H.get().removeAllRanges(),!r){H.range||this.Editor.InlineToolbar.close();return}const o=r.closest(`.${_e.CSS.content}`)===null;if(o&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const i=o!==!0;this.Editor.InlineToolbar.tryToShow(!0,i)}}const aD={BlocksAPI:WM,CaretAPI:KM,EventsAPI:GM,I18nAPI:np,API:qM,InlineToolbarAPI:YM,ListenersAPI:XM,NotifierAPI:ej,ReadOnlyAPI:tj,SanitizerAPI:lj,SaverAPI:cj,SelectionAPI:uj,StylesAPI:dj,ToolbarAPI:hj,TooltipAPI:mj,UiAPI:gj,BlockSettings:Pj,ConversionToolbar:wt,Toolbar:Mj,InlineToolbar:jj,BlockEvents:Dj,BlockManager:$j,BlockSelection:Vj,Caret:Tl,CrossBlockSelection:zj,DragNDrop:Hj,ModificationsObserver:Wj,Paste:Wx,ReadOnly:Kj,RectangleSelection:Di,Renderer:Gj,Saver:qj,Tools:Jx,UI:sD};class lD{constructor(e){this.moduleInstances={},this.eventsDispatcher=new hc;let n,r;this.isReady=new Promise((o,i)=>{n=o,r=i}),Promise.resolve().then(async()=>{this.configuration=e,await this.validate(),await this.init(),await this.start(),Lt("I'm ready! ()*:","log","","color: #E24A75"),setTimeout(async()=>{if(await this.render(),this.configuration.autofocus){const{BlockManager:o,Caret:i}=this.moduleInstances;i.setToBlock(o.blocks[0],i.positions.START),o.highlightCurrentNode()}this.moduleInstances.UI.removeLoader(),n()},500)}).catch(o=>{X(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var n,r;Me(e)?this.config={...e}:this.config={holder:e},th(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=Ex.VERBOSE),AM(this.config.logLevel),th(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Ft(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&rt.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}async validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("holderId and holder param can't assign at the same time.");if(dr(n)&&!M.get(n))throw Error(`element with ID ${n} is missing. Pass correct holder's ID.`);if(n&&Me(n)&&!M.isElement(n))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof Nx)throw new Error(r.message);X(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(aD).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){X("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class cD{static get version(){return"2.27.2"}constructor(e){let n=()=>{};Me(e)&&le(e.onReady)&&(n=e.onReady);const r=new lD(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{le(o.destroy)&&o.destroy(),o.listeners.removeAll()}),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};n.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,i])=>{Object.entries(i).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[o][s]})})}}var Qx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=14)}([function(n,r,o){var i=o(5),s=o(6),a=o(7),l=o(9);n.exports=function(c,u){return i(c)||s(c,u)||a(c,u)||l()}},function(n,r){function o(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n.exports=o=function(s){return typeof s}:n.exports=o=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},o(i)}n.exports=o},function(n,r){n.exports=function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}},function(n,r){function o(i,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}n.exports=function(i,s,a){return s&&o(i.prototype,s),a&&o(i,a),i}},function(n,r){function o(i,s,a){var l,c,u,d,h;function m(){var b=Date.now()-d;b<s&&b>=0?l=setTimeout(m,s-b):(l=null,a||(h=i.apply(u,c),u=c=null))}s==null&&(s=100);var p=function(){u=this,c=arguments,d=Date.now();var b=a&&!l;return l||(l=setTimeout(m,s)),b&&(h=i.apply(u,c),u=c=null),h};return p.clear=function(){l&&(clearTimeout(l),l=null)},p.flush=function(){l&&(h=i.apply(u,c),u=c=null,clearTimeout(l),l=null)},p}o.debounce=o,n.exports=o},function(n,r){n.exports=function(o){if(Array.isArray(o))return o}},function(n,r){n.exports=function(o,i){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var s=[],a=!0,l=!1,c=void 0;try{for(var u,d=o[Symbol.iterator]();!(a=(u=d.next()).done)&&(s.push(u.value),!i||s.length!==i);a=!0);}catch(h){l=!0,c=h}finally{try{a||d.return==null||d.return()}finally{if(l)throw c}}return s}}},function(n,r,o){var i=o(8);n.exports=function(s,a){if(s){if(typeof s=="string")return i(s,a);var l=Object.prototype.toString.call(s).slice(8,-1);return l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?i(s,a):void 0}}},function(n,r){n.exports=function(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,o){var i=o(11),s=o(12);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};i(s,a),n.exports=s.locals||{}},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var f={};return function(w){if(f[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}f[w]=S}return f[w]}}(),l=[];function c(f){for(var w=-1,S=0;S<l.length;S++)if(l[S].identifier===f){w=S;break}return w}function u(f,w){for(var S={},_=[],A=0;A<f.length;A++){var y=f[A],x=w.base?y[0]+w.base:y[0],T=S[x]||0,C="".concat(x," ").concat(T);S[x]=T+1;var I=c(C),N={css:y[1],media:y[2],sourceMap:y[3]};I!==-1?(l[I].references++,l[I].updater(N)):l.push({identifier:C,updater:g(N,w),references:1}),_.push(C)}return _}function d(f){var w=document.createElement("style"),S=f.attributes||{};if(S.nonce===void 0){var _=o.nc;_&&(S.nonce=_)}if(Object.keys(S).forEach(function(y){w.setAttribute(y,S[y])}),typeof f.insert=="function")f.insert(w);else{var A=a(f.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(w)}return w}var h,m=(h=[],function(f,w){return h[f]=w,h.filter(Boolean).join(`
`)});function p(f,w,S,_){var A=S?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(f.styleSheet)f.styleSheet.cssText=m(w,A);else{var y=document.createTextNode(A),x=f.childNodes;x[w]&&f.removeChild(x[w]),x.length?f.insertBefore(y,x[w]):f.appendChild(y)}}function b(f,w,S){var _=S.css,A=S.media,y=S.sourceMap;if(A?f.setAttribute("media",A):f.removeAttribute("media"),y&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(y))))," */")),f.styleSheet)f.styleSheet.cssText=_;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(_))}}var E=null,k=0;function g(f,w){var S,_,A;if(w.singleton){var y=k++;S=E||(E=d(w)),_=p.bind(null,S,y,!1),A=p.bind(null,S,y,!0)}else S=d(w),_=b.bind(null,S,w),A=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(S)};return _(f),function(x){if(x){if(x.css===f.css&&x.media===f.media&&x.sourceMap===f.sourceMap)return;_(f=x)}else A()}}n.exports=function(f,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var S=u(f=f||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var A=0;A<S.length;A++){var y=c(S[A]);l[y].references--}for(var x=u(_,w),T=0;T<S.length;T++){var C=c(S[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}S=x}}}},function(n,r,o){(r=o(13)(!1)).push([n.i,`.embed-tool--loading .embed-tool__caption {
      display: none;
    }

    .embed-tool--loading .embed-tool__preloader {
      display: block;
    }

    .embed-tool--loading .embed-tool__content {
      display: none;
    }
  .embed-tool__preloader {
    display: none;
    position: relative;
    height: 200px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #e6e9eb;
  }
  .embed-tool__preloader::before {
      content: '';
      position: absolute;
      z-index: 3;
      left: 50%;
      top: 50%;
      width: 30px;
      height: 30px;
      margin-top: -25px;
      margin-left: -15px;
      border-radius: 50%;
      border: 2px solid #cdd1e0;
      border-top-color: #388ae5;
      box-sizing: border-box;
      animation: embed-preloader-spin 2s infinite linear;
    }
  .embed-tool__url {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 250px;
    color: #7b7e89;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .embed-tool__content {
    width: 100%;
  }
  .embed-tool__caption {
    margin-top: 7px;
  }
  .embed-tool__caption[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {
         opacity: 1;
      }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {
        opacity: 0;
      }

@keyframes embed-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var m=(b=h,E=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),k="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E),"/*# ".concat(k," */")),p=h.sources.map(function(g){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(g," */")});return[d].concat(p).concat([m]).join(`
`)}var b,E,k;return[d].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var m=0;m<a.length;m++){var p=[].concat(a[m]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,o){o.r(r),o.d(r,"default",function(){return b});var i=o(1),s=o.n(i),a=o(0),l=o.n(a),c=o(2),u=o.n(c),d=o(3),h=o.n(d),m={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(E){var k=l()(E,2),g=k[0],f=k[1];if(!f&&g)return g;var w={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return f=f.slice(1).split("&").map(function(S){var _=S.split("="),A=l()(_,2),y=A[0],x=A[1];return g||y!=="v"?w[y]?x==="LL"||x.startsWith("RDMM")||x.startsWith("FL")?null:"".concat(w[y],"=").concat(x):null:(g=x,null)}).filter(function(S){return!!S}),g+"?"+f.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(E){return E.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(E){return E.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(E){return E.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(E){return E.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(E){return E[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(E){return E.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},p=(o(10),o(4)),b=function(){function E(k){var g=k.data,f=k.api,w=k.readOnly;u()(this,E),this.api=f,this._data={},this.element=null,this.readOnly=w,this.data=g}return h()(E,[{key:"render",value:function(){var k=this;if(!this.data.service){var g=document.createElement("div");return this.element=g,g}var f=E.services[this.data.service].html,w=document.createElement("div"),S=document.createElement("div"),_=document.createElement("template"),A=this.createPreloader();w.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),S.classList.add(this.CSS.input,this.CSS.caption),w.appendChild(A),S.contentEditable=!this.readOnly,S.dataset.placeholder=this.api.i18n.t("Enter a caption"),S.innerHTML=this.data.caption||"",_.innerHTML=f,_.content.firstChild.setAttribute("src",this.data.embed),_.content.firstChild.classList.add(this.CSS.content);var y=this.embedIsReady(w);return w.appendChild(_.content.firstChild),w.appendChild(S),y.then(function(){w.classList.remove(k.CSS.containerLoading)}),this.element=w,w}},{key:"createPreloader",value:function(){var k=document.createElement("preloader"),g=document.createElement("div");return g.textContent=this.data.source,k.classList.add(this.CSS.preloader),g.classList.add(this.CSS.url),k.appendChild(g),k}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(k){var g=k.detail,f=g.key,w=g.data,S=E.services[f],_=S.regex,A=S.embedUrl,y=S.width,x=S.height,T=S.id,C=T===void 0?function(O){return O.shift()}:T,I=_.exec(w).slice(1),N=A.replace(/<%= remote_id %>/g,C(I));this.data={service:f,source:w,embed:N,width:y,height:x}}},{key:"embedIsReady",value:function(k){var g=null;return new Promise(function(f,w){(g=new MutationObserver(Object(p.debounce)(f,450))).observe(k,{childList:!0,subtree:!0})}).then(function(){g.disconnect()})}},{key:"data",set:function(k){if(!(k instanceof Object))throw Error("Embed Tool data should be object");var g=k.service,f=k.source,w=k.embed,S=k.width,_=k.height,A=k.caption,y=A===void 0?"":A;this._data={service:g||this.data.service,source:f||this.data.source,embed:w||this.data.embed,width:S||this.data.width,height:_||this.data.height,caption:y||this.data.caption||""};var x=this.element;x&&x.parentNode.replaceChild(this.render(),x)},get:function(){if(this.element){var k=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=k?k.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(k){var g=k.config,f=(g===void 0?{}:g).services,w=f===void 0?{}:f,S=Object.entries(m),_=Object.entries(w).filter(function(y){var x=l()(y,2),T=(x[0],x[1]);return typeof T=="boolean"&&T===!0}).map(function(y){return l()(y,1)[0]}),A=Object.entries(w).filter(function(y){var x=l()(y,2),T=(x[0],x[1]);return s()(T)==="object"}).filter(function(y){var x=l()(y,2),T=(x[0],x[1]);return E.checkServiceConfig(T)}).map(function(y){var x=l()(y,2),T=x[0],C=x[1];return[T,{regex:C.regex,embedUrl:C.embedUrl,html:C.html,height:C.height,width:C.width,id:C.id}]});_.length&&(S=S.filter(function(y){var x=l()(y,1)[0];return _.includes(x)})),S=S.concat(A),E.services=S.reduce(function(y,x){var T=l()(x,2),C=T[0],I=T[1];return C in y?(y[C]=Object.assign({},y[C],I),y):(y[C]=I,y)},{}),E.patterns=S.reduce(function(y,x){var T=l()(x,2),C=T[0],I=T[1];return y[C]=I.regex,y},{})}},{key:"checkServiceConfig",value:function(k){var g=k.regex,f=k.embedUrl,w=k.html,S=k.height,_=k.width,A=k.id,y=g&&g instanceof RegExp&&f&&typeof f=="string"&&w&&typeof w=="string";return y=(y=(y=y&&(A===void 0||A instanceof Function))&&(S===void 0||Number.isFinite(S)))&&(_===void 0||Number.isFinite(_))}},{key:"pasteConfig",get:function(){return{patterns:E.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),E}()}]).default})})(Qx);var uD=Qx.exports;const dD=hr(uD);var Zx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=4)}([function(n,r,o){var i=o(1),s=o(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};i(s,a),n.exports=s.locals||{}},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var f={};return function(w){if(f[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}f[w]=S}return f[w]}}(),l=[];function c(f){for(var w=-1,S=0;S<l.length;S++)if(l[S].identifier===f){w=S;break}return w}function u(f,w){for(var S={},_=[],A=0;A<f.length;A++){var y=f[A],x=w.base?y[0]+w.base:y[0],T=S[x]||0,C="".concat(x," ").concat(T);S[x]=T+1;var I=c(C),N={css:y[1],media:y[2],sourceMap:y[3]};I!==-1?(l[I].references++,l[I].updater(N)):l.push({identifier:C,updater:g(N,w),references:1}),_.push(C)}return _}function d(f){var w=document.createElement("style"),S=f.attributes||{};if(S.nonce===void 0){var _=o.nc;_&&(S.nonce=_)}if(Object.keys(S).forEach(function(y){w.setAttribute(y,S[y])}),typeof f.insert=="function")f.insert(w);else{var A=a(f.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(w)}return w}var h,m=(h=[],function(f,w){return h[f]=w,h.filter(Boolean).join(`
`)});function p(f,w,S,_){var A=S?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(f.styleSheet)f.styleSheet.cssText=m(w,A);else{var y=document.createTextNode(A),x=f.childNodes;x[w]&&f.removeChild(x[w]),x.length?f.insertBefore(y,x[w]):f.appendChild(y)}}function b(f,w,S){var _=S.css,A=S.media,y=S.sourceMap;if(A?f.setAttribute("media",A):f.removeAttribute("media"),y&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(y))))," */")),f.styleSheet)f.styleSheet.cssText=_;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(_))}}var E=null,k=0;function g(f,w){var S,_,A;if(w.singleton){var y=k++;S=E||(E=d(w)),_=p.bind(null,S,y,!1),A=p.bind(null,S,y,!0)}else S=d(w),_=b.bind(null,S,w),A=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(S)};return _(f),function(x){if(x){if(x.css===f.css&&x.media===f.media&&x.sourceMap===f.sourceMap)return;_(f=x)}else A()}}n.exports=function(f,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var S=u(f=f||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var A=0;A<S.length;A++){var y=c(S[A]);l[y].references--}for(var x=u(_,w),T=0;T<S.length;T++){var C=c(S[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}S=x}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var m=(b=h,E=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),k="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E),"/*# ".concat(k," */")),p=h.sources.map(function(g){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(g," */")});return[d].concat(p).concat([m]).join(`
`)}var b,E,k;return[d].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var m=0;m<a.length;m++){var p=[].concat(a[m]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,o){o.r(r),o.d(r,"default",function(){return m}),o(0);const i='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';function s(p){return function(b){if(Array.isArray(b))return a(b)}(p)||function(b){if(typeof Symbol<"u"&&Symbol.iterator in Object(b))return Array.from(b)}(p)||function(b,E){if(b){if(typeof b=="string")return a(b,E);var k=Object.prototype.toString.call(b).slice(8,-1);if(k==="Object"&&b.constructor&&(k=b.constructor.name),k==="Map"||k==="Set")return Array.from(b);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return a(b,E)}}(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(p,b){(b==null||b>p.length)&&(b=p.length);for(var E=0,k=new Array(b);E<b;E++)k[E]=p[E];return k}function l(p,b){var E=Object.keys(p);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(p);b&&(k=k.filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable})),E.push.apply(E,k)}return E}function c(p){for(var b=1;b<arguments.length;b++){var E=arguments[b]!=null?arguments[b]:{};b%2?l(Object(E),!0).forEach(function(k){u(p,k,E[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(E)):l(Object(E)).forEach(function(k){Object.defineProperty(p,k,Object.getOwnPropertyDescriptor(E,k))})}return p}function u(p,b,E){return b in p?Object.defineProperty(p,b,{value:E,enumerable:!0,configurable:!0,writable:!0}):p[b]=E,p}function d(p,b){for(var E=0;E<b.length;E++){var k=b[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(p,k.key,k)}}function h(p,b,E){return b&&d(p.prototype,b),E&&d(p,E),p}var m=function(){function p(b){var E=b.data,k=b.config,g=b.api,f=b.readOnly;(function(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")})(this,p),this._elements={wrapper:null},this.api=g,this.readOnly=f,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:i,default:k.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:k.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(function(w){return w.default===!0}).name,items:[]},this.data=E}return h(p,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:i,title:"List"}}}]),h(p,[{key:"render",value:function(){var b=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(E){b._elements.wrapper.appendChild(b._make("li",b.CSS.item,{innerHTML:E}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(E){switch(E.keyCode){case 13:b.getOutofList(E);break;case 8:b.backspace(E)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var b=this;return this.settings.map(function(E){return c(c({},E),{},{isActive:b._data.style===E.name,closeOnActivate:!0,onActivate:function(){return b.toggleTune(E.name)}})})}},{key:"onPaste",value:function(b){var E=b.detail.data;this.data=this.pasteHandler(E)}},{key:"makeMainTag",value:function(b){var E=b==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,k=b==="ordered"?"ol":"ul";return this._make(k,[this.CSS.baseBlock,this.CSS.wrapper,E],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(b){for(var E=this.makeMainTag(b);this._elements.wrapper.hasChildNodes();)E.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(E),this._elements.wrapper=E,this._data.style=b}},{key:"_make",value:function(b){var E,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=document.createElement(b);Array.isArray(k)?(E=f.classList).add.apply(E,s(k)):k&&f.classList.add(k);for(var w in g)f[w]=g[w];return f}},{key:"getOutofList",value:function(b){var E=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(E.length<2)){var k=E[E.length-1],g=this.currentItem;g!==k||k.textContent.trim().length||(g.parentElement.removeChild(g),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),b.preventDefault(),b.stopPropagation())}}},{key:"backspace",value:function(b){var E=this._elements.wrapper.querySelectorAll("."+this.CSS.item),k=E[0];k&&E.length<2&&!k.innerHTML.replace("<br>"," ").trim()&&b.preventDefault()}},{key:"selectItem",value:function(b){b.preventDefault();var E=window.getSelection(),k=E.anchorNode.parentNode.closest("."+this.CSS.item),g=new Range;g.selectNodeContents(k),E.removeAllRanges(),E.addRange(g)}},{key:"pasteHandler",value:function(b){var E,k=b.tagName;switch(k){case"OL":E="ordered";break;case"UL":case"LI":E="unordered"}var g={style:E,items:[]};if(k==="LI")g.items=[b.innerHTML];else{var f=Array.from(b.querySelectorAll("LI"));g.items=f.map(function(w){return w.innerHTML}).filter(function(w){return!!w.trim()})}return g}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}},{key:"data",set:function(b){b||(b={}),this._data.style=b.style||this.settings.find(function(k){return k.default===!0}).name,this._data.items=b.items||[];var E=this._elements.wrapper;E&&E.parentNode.replaceChild(this.render(),E)},get:function(){this._data.items=[];for(var b=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),E=0;E<b.length;E++)b[E].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(b[E].innerHTML);return this._data}},{key:"currentItem",get:function(){var b=window.getSelection().anchorNode;return b.nodeType!==Node.ELEMENT_NODE&&(b=b.parentNode),b.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(b){return b.items.join(". ")},import:function(b){return{items:[b],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),p}()}]).default})})(Zx);var hD=Zx.exports;const fD=hr(hD);var ek={exports:{}};/*!
 * Image tool
 * 
 * @version 2.8.1
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=9)}([function(n,r){function o(i,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}n.exports=function(i,s,a){return s&&o(i.prototype,s),a&&o(i,a),i}},function(n,r,o){n.exports=function(i){var s={};function a(l){if(s[l])return s[l].exports;var c=s[l]={i:l,l:!1,exports:{}};return i[l].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=i,a.c=s,a.d=function(l,c,u){a.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:u})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,c){if(1&c&&(l=a(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var d in l)a.d(u,d,(function(h){return l[h]}).bind(null,d));return u},a.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(c,"a",c),c},a.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},a.p="",a(a.s=3)}([function(i,s){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}i.exports=a},function(i,s,a){(function(l){var c=a(2),u=setTimeout;function d(){}function h(f){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(f,this)}function m(f,w){for(;f._state===3;)f=f._value;f._state!==0?(f._handled=!0,h._immediateFn(function(){var S=f._state===1?w.onFulfilled:w.onRejected;if(S!==null){var _;try{_=S(f._value)}catch(A){return void b(w.promise,A)}p(w.promise,_)}else(f._state===1?p:b)(w.promise,f._value)})):f._deferreds.push(w)}function p(f,w){try{if(w===f)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var S=w.then;if(w instanceof h)return f._state=3,f._value=w,void E(f);if(typeof S=="function")return void g((_=S,A=w,function(){_.apply(A,arguments)}),f)}f._state=1,f._value=w,E(f)}catch(y){b(f,y)}var _,A}function b(f,w){f._state=2,f._value=w,E(f)}function E(f){f._state===2&&f._deferreds.length===0&&h._immediateFn(function(){f._handled||h._unhandledRejectionFn(f._value)});for(var w=0,S=f._deferreds.length;w<S;w++)m(f,f._deferreds[w]);f._deferreds=null}function k(f,w,S){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof w=="function"?w:null,this.promise=S}function g(f,w){var S=!1;try{f(function(_){S||(S=!0,p(w,_))},function(_){S||(S=!0,b(w,_))})}catch(_){if(S)return;S=!0,b(w,_)}}h.prototype.catch=function(f){return this.then(null,f)},h.prototype.then=function(f,w){var S=new this.constructor(d);return m(this,new k(f,w,S)),S},h.prototype.finally=c.a,h.all=function(f){return new h(function(w,S){if(!f||f.length===void 0)throw new TypeError("Promise.all accepts an array");var _=Array.prototype.slice.call(f);if(_.length===0)return w([]);var A=_.length;function y(T,C){try{if(C&&(typeof C=="object"||typeof C=="function")){var I=C.then;if(typeof I=="function")return void I.call(C,function(N){y(T,N)},S)}_[T]=C,--A==0&&w(_)}catch(N){S(N)}}for(var x=0;x<_.length;x++)y(x,_[x])})},h.resolve=function(f){return f&&typeof f=="object"&&f.constructor===h?f:new h(function(w){w(f)})},h.reject=function(f){return new h(function(w,S){S(f)})},h.race=function(f){return new h(function(w,S){for(var _=0,A=f.length;_<A;_++)f[_].then(w,S)})},h._immediateFn=typeof l=="function"&&function(f){l(f)}||function(f){u(f,0)},h._unhandledRejectionFn=function(f){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",f)},s.a=h}).call(this,a(5).setImmediate)},function(i,s,a){s.a=function(l){var c=this.constructor;return this.then(function(u){return c.resolve(l()).then(function(){return u})},function(u){return c.resolve(l()).then(function(){return c.reject(u)})})}},function(i,s,a){function l(g){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(g)}a(4);var c,u,d,h,m,p,b,E=a(8),k=(u=function(g){return new Promise(function(f,w){g=h(g),(g=m(g)).beforeSend&&g.beforeSend();var S=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");S.open(g.method,g.url),S.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(g.headers).forEach(function(A){var y=g.headers[A];S.setRequestHeader(A,y)});var _=g.ratio;S.upload.addEventListener("progress",function(A){var y=Math.round(A.loaded/A.total*100),x=Math.ceil(y*_/100);g.progress(Math.min(x,100))},!1),S.addEventListener("progress",function(A){var y=Math.round(A.loaded/A.total*100),x=Math.ceil(y*(100-_)/100)+_;g.progress(Math.min(x,100))},!1),S.onreadystatechange=function(){if(S.readyState===4){var A=S.response;try{A=JSON.parse(A)}catch{}var y=E.parseHeaders(S.getAllResponseHeaders()),x={body:A,code:S.status,headers:y};b(S.status)?f(x):w(x)}},S.send(g.data)})},d=function(g){return g.method="POST",u(g)},h=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g.url&&typeof g.url!="string")throw new Error("Url must be a string");if(g.url=g.url||"",g.method&&typeof g.method!="string")throw new Error("`method` must be a string or null");if(g.method=g.method?g.method.toUpperCase():"GET",g.headers&&l(g.headers)!=="object")throw new Error("`headers` must be an object or null");if(g.headers=g.headers||{},g.type&&(typeof g.type!="string"||!Object.values(c).includes(g.type)))throw new Error("`type` must be taken from module's contentType library");if(g.progress&&typeof g.progress!="function")throw new Error("`progress` must be a function or null");if(g.progress=g.progress||function(f){},g.beforeSend=g.beforeSend||function(f){},g.ratio&&typeof g.ratio!="number")throw new Error("`ratio` must be a number");if(g.ratio<0||g.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(g.ratio=g.ratio||90,g.accept&&typeof g.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(g.accept=g.accept||"*/*",g.multiple&&typeof g.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(g.multiple=g.multiple||!1,g.fieldName&&typeof g.fieldName!="string")throw new Error("`fieldName` must be a string");return g.fieldName=g.fieldName||"files",g},m=function(g){switch(g.method){case"GET":var f=p(g.data,c.URLENCODED);delete g.data,g.url=/\?/.test(g.url)?g.url+"&"+f:g.url+"?"+f;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var w=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(g);(E.isFormData(g.data)||E.isFormElement(g.data))&&(w=c.FORM),g.data=p(g.data,w),w!==k.contentType.FORM&&(g.headers["content-type"]=w)}return g},p=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return E.urlEncode(g);case c.JSON:return E.jsonEncode(g);case c.FORM:return E.formEncode(g);default:return g}},b=function(g){return g>=200&&g<300},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(g){return g.method="GET",u(g)},post:d,transport:function(g){return g=h(g),E.selectFiles(g).then(function(f){for(var w=new FormData,S=0;S<f.length;S++)w.append(g.fieldName,f[S],f[S].name);E.isObject(g.data)&&Object.keys(g.data).forEach(function(A){var y=g.data[A];w.append(A,y)});var _=g.beforeSend;return g.beforeSend=function(){return _(f)},g.data=w,d(g)})},selectFiles:function(g){return delete(g=h(g)).beforeSend,E.selectFiles(g)}});i.exports=k},function(i,s,a){a.r(s);var l=a(1);window.Promise=window.Promise||l.a},function(i,s,a){(function(l){var c=l!==void 0&&l||typeof self<"u"&&self||window,u=Function.prototype.apply;function d(h,m){this._id=h,this._clearFn=m}s.setTimeout=function(){return new d(u.call(setTimeout,c,arguments),clearTimeout)},s.setInterval=function(){return new d(u.call(setInterval,c,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h&&h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(c,this._id)},s.enroll=function(h,m){clearTimeout(h._idleTimeoutId),h._idleTimeout=m},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var m=h._idleTimeout;m>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},m))},a(6),s.setImmediate=typeof self<"u"&&self.setImmediate||l!==void 0&&l.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||l!==void 0&&l.clearImmediate||this&&this.clearImmediate}).call(this,a(0))},function(i,s,a){(function(l,c){(function(u,d){if(!u.setImmediate){var h,m,p,b,E,k=1,g={},f=!1,w=u.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(u);S=S&&S.setTimeout?S:u,{}.toString.call(u.process)==="[object process]"?h=function(y){c.nextTick(function(){A(y)})}:function(){if(u.postMessage&&!u.importScripts){var y=!0,x=u.onmessage;return u.onmessage=function(){y=!1},u.postMessage("","*"),u.onmessage=x,y}}()?(b="setImmediate$"+Math.random()+"$",E=function(y){y.source===u&&typeof y.data=="string"&&y.data.indexOf(b)===0&&A(+y.data.slice(b.length))},u.addEventListener?u.addEventListener("message",E,!1):u.attachEvent("onmessage",E),h=function(y){u.postMessage(b+y,"*")}):u.MessageChannel?((p=new MessageChannel).port1.onmessage=function(y){A(y.data)},h=function(y){p.port2.postMessage(y)}):w&&"onreadystatechange"in w.createElement("script")?(m=w.documentElement,h=function(y){var x=w.createElement("script");x.onreadystatechange=function(){A(y),x.onreadystatechange=null,m.removeChild(x),x=null},m.appendChild(x)}):h=function(y){setTimeout(A,0,y)},S.setImmediate=function(y){typeof y!="function"&&(y=new Function(""+y));for(var x=new Array(arguments.length-1),T=0;T<x.length;T++)x[T]=arguments[T+1];var C={callback:y,args:x};return g[k]=C,h(k),k++},S.clearImmediate=_}function _(y){delete g[y]}function A(y){if(f)setTimeout(A,0,y);else{var x=g[y];if(x){f=!0;try{(function(T){var C=T.callback,I=T.args;switch(I.length){case 0:C();break;case 1:C(I[0]);break;case 2:C(I[0],I[1]);break;case 3:C(I[0],I[1],I[2]);break;default:C.apply(void 0,I)}})(x)}finally{_(y),f=!1}}}}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,a(0),a(7))},function(i,s){var a,l,c=i.exports={};function u(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function h(S){if(a===setTimeout)return setTimeout(S,0);if((a===u||!a)&&setTimeout)return a=setTimeout,setTimeout(S,0);try{return a(S,0)}catch{try{return a.call(null,S,0)}catch{return a.call(this,S,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:u}catch{a=u}try{l=typeof clearTimeout=="function"?clearTimeout:d}catch{l=d}})();var m,p=[],b=!1,E=-1;function k(){b&&m&&(b=!1,m.length?p=m.concat(p):E=-1,p.length&&g())}function g(){if(!b){var S=h(k);b=!0;for(var _=p.length;_;){for(m=p,p=[];++E<_;)m&&m[E].run();E=-1,_=p.length}m=null,b=!1,function(A){if(l===clearTimeout)return clearTimeout(A);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(A);try{l(A)}catch{try{return l.call(null,A)}catch{return l.call(this,A)}}}(S)}}function f(S,_){this.fun=S,this.array=_}function w(){}c.nextTick=function(S){var _=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)_[A-1]=arguments[A];p.push(new f(S,_)),p.length!==1||b||h(g)},f.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=w,c.addListener=w,c.once=w,c.off=w,c.removeListener=w,c.removeAllListeners=w,c.emit=w,c.prependListener=w,c.prependOnceListener=w,c.listeners=function(S){return[]},c.binding=function(S){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(S){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(i,s,a){function l(u,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}var c=a(9);i.exports=function(){function u(){(function(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}var d,h;return d=u,(h=[{key:"urlEncode",value:function(m){return c(m)}},{key:"jsonEncode",value:function(m){return JSON.stringify(m)}},{key:"formEncode",value:function(m){if(this.isFormData(m))return m;if(this.isFormElement(m))return new FormData(m);if(this.isObject(m)){var p=new FormData;return Object.keys(m).forEach(function(b){var E=m[b];p.append(b,E)}),p}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(m){return Object.prototype.toString.call(m)==="[object Object]"}},{key:"isFormData",value:function(m){return m instanceof FormData}},{key:"isFormElement",value:function(m){return m instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(p,b){var E=document.createElement("INPUT");E.type="file",m.multiple&&E.setAttribute("multiple","multiple"),m.accept&&E.setAttribute("accept",m.accept),E.style.display="none",document.body.appendChild(E),E.addEventListener("change",function(k){var g=k.target.files;p(g),document.body.removeChild(E)},!1),E.click()})}},{key:"parseHeaders",value:function(m){var p=m.trim().split(/[\r\n]+/),b={};return p.forEach(function(E){var k=E.split(": "),g=k.shift(),f=k.join(": ");g&&(b[g]=f)}),b}}])&&l(d,h),u}()},function(i,s){var a=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},l=function(c,u,d,h){return u=u||null,d=d||"&",h=h||null,c?function(m){for(var p=new Array,b=0;b<m.length;b++)m[b]&&p.push(m[b]);return p}(Object.keys(c).map(function(m){var p,b,E=m;if(h&&(E=h+"["+E+"]"),typeof c[m]=="object"&&c[m]!==null)p=l(c[m],null,d,E);else{u&&(b=E,E=!isNaN(parseFloat(b))&&isFinite(b)?u+Number(E):E);var k=c[m];k=(k=(k=(k=k===!0?"1":k)===!1?"0":k)===0?"0":k)||"",p=a(E)+"="+a(k)}return p})).join(d).replace(/[!'()*]/g,""):""};i.exports=l}])},function(n,r){n.exports=function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}},function(n,r,o){n.exports=o(10)},function(n,r){n.exports=function(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}},function(n,r,o){var i=o(4);n.exports=function(s,a){if(s){if(typeof s=="string")return i(s,a);var l=Object.prototype.toString.call(s).slice(8,-1);return l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?i(s,a):void 0}}},function(n,r){function o(i,s,a,l,c,u,d){try{var h=i[u](d),m=h.value}catch(p){return void a(p)}h.done?s(m):Promise.resolve(m).then(l,c)}n.exports=function(i){return function(){var s=this,a=arguments;return new Promise(function(l,c){var u=i.apply(s,a);function d(m){o(u,l,c,d,h,"next",m)}function h(m){o(u,l,c,d,h,"throw",m)}d(void 0)})}}},function(n,r,o){var i=o(15),s=o(16),a=o(5),l=o(17);n.exports=function(c){return i(c)||s(c)||a(c)||l()}},function(n,r,o){var i=o(18),s=o(19),a=o(5),l=o(20);n.exports=function(c,u){return i(c)||s(c,u)||a(c,u)||l()}},function(n,r,o){n.exports=o(21)},function(n,r,o){var i=function(s){var a=Object.prototype,l=a.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function m(P,L,D,R){var j=L&&L.prototype instanceof E?L:E,$=Object.create(j.prototype),V=new I(R||[]);return $._invoke=function(Y,Ge,J){var De="suspendedStart";return function(ve,qe){if(De==="executing")throw new Error("Generator is already running");if(De==="completed"){if(ve==="throw")throw qe;return O()}for(J.method=ve,J.arg=qe;;){var An=J.delegate;if(An){var It=x(An,J);if(It){if(It===b)continue;return It}}if(J.method==="next")J.sent=J._sent=J.arg;else if(J.method==="throw"){if(De==="suspendedStart")throw De="completed",J.arg;J.dispatchException(J.arg)}else J.method==="return"&&J.abrupt("return",J.arg);De="executing";var Fe=p(Y,Ge,J);if(Fe.type==="normal"){if(De=J.done?"completed":"suspendedYield",Fe.arg===b)continue;return{value:Fe.arg,done:J.done}}Fe.type==="throw"&&(De="completed",J.method="throw",J.arg=Fe.arg)}}}(P,D,V),$}function p(P,L,D){try{return{type:"normal",arg:P.call(L,D)}}catch(R){return{type:"throw",arg:R}}}s.wrap=m;var b={};function E(){}function k(){}function g(){}var f={};f[u]=function(){return this};var w=Object.getPrototypeOf,S=w&&w(w(N([])));S&&S!==a&&l.call(S,u)&&(f=S);var _=g.prototype=E.prototype=Object.create(f);function A(P){["next","throw","return"].forEach(function(L){P[L]=function(D){return this._invoke(L,D)}})}function y(P,L){var D;this._invoke=function(R,j){function $(){return new L(function(V,Y){(function Ge(J,De,ve,qe){var An=p(P[J],P,De);if(An.type!=="throw"){var It=An.arg,Fe=It.value;return Fe&&typeof Fe=="object"&&l.call(Fe,"__await")?L.resolve(Fe.__await).then(function(Ye){Ge("next",Ye,ve,qe)},function(Ye){Ge("throw",Ye,ve,qe)}):L.resolve(Fe).then(function(Ye){It.value=Ye,ve(It)},function(Ye){return Ge("throw",Ye,ve,qe)})}qe(An.arg)})(R,j,V,Y)})}return D=D?D.then($,$):$()}}function x(P,L){var D=P.iterator[L.method];if(D===void 0){if(L.delegate=null,L.method==="throw"){if(P.iterator.return&&(L.method="return",L.arg=void 0,x(P,L),L.method==="throw"))return b;L.method="throw",L.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var R=p(D,P.iterator,L.arg);if(R.type==="throw")return L.method="throw",L.arg=R.arg,L.delegate=null,b;var j=R.arg;return j?j.done?(L[P.resultName]=j.value,L.next=P.nextLoc,L.method!=="return"&&(L.method="next",L.arg=void 0),L.delegate=null,b):j:(L.method="throw",L.arg=new TypeError("iterator result is not an object"),L.delegate=null,b)}function T(P){var L={tryLoc:P[0]};1 in P&&(L.catchLoc=P[1]),2 in P&&(L.finallyLoc=P[2],L.afterLoc=P[3]),this.tryEntries.push(L)}function C(P){var L=P.completion||{};L.type="normal",delete L.arg,P.completion=L}function I(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(T,this),this.reset(!0)}function N(P){if(P){var L=P[u];if(L)return L.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var D=-1,R=function j(){for(;++D<P.length;)if(l.call(P,D))return j.value=P[D],j.done=!1,j;return j.value=void 0,j.done=!0,j};return R.next=R}}return{next:O}}function O(){return{value:void 0,done:!0}}return k.prototype=_.constructor=g,g.constructor=k,g[h]=k.displayName="GeneratorFunction",s.isGeneratorFunction=function(P){var L=typeof P=="function"&&P.constructor;return!!L&&(L===k||(L.displayName||L.name)==="GeneratorFunction")},s.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,g):(P.__proto__=g,h in P||(P[h]="GeneratorFunction")),P.prototype=Object.create(_),P},s.awrap=function(P){return{__await:P}},A(y.prototype),y.prototype[d]=function(){return this},s.AsyncIterator=y,s.async=function(P,L,D,R,j){j===void 0&&(j=Promise);var $=new y(m(P,L,D,R),j);return s.isGeneratorFunction(L)?$:$.next().then(function(V){return V.done?V.value:$.next()})},A(_),_[h]="Generator",_[u]=function(){return this},_.toString=function(){return"[object Generator]"},s.keys=function(P){var L=[];for(var D in P)L.push(D);return L.reverse(),function R(){for(;L.length;){var j=L.pop();if(j in P)return R.value=j,R.done=!1,R}return R.done=!0,R}},s.values=N,I.prototype={constructor:I,reset:function(P){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!P)for(var L in this)L.charAt(0)==="t"&&l.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=void 0)},stop:function(){this.done=!0;var P=this.tryEntries[0].completion;if(P.type==="throw")throw P.arg;return this.rval},dispatchException:function(P){if(this.done)throw P;var L=this;function D(Ge,J){return $.type="throw",$.arg=P,L.next=Ge,J&&(L.method="next",L.arg=void 0),!!J}for(var R=this.tryEntries.length-1;R>=0;--R){var j=this.tryEntries[R],$=j.completion;if(j.tryLoc==="root")return D("end");if(j.tryLoc<=this.prev){var V=l.call(j,"catchLoc"),Y=l.call(j,"finallyLoc");if(V&&Y){if(this.prev<j.catchLoc)return D(j.catchLoc,!0);if(this.prev<j.finallyLoc)return D(j.finallyLoc)}else if(V){if(this.prev<j.catchLoc)return D(j.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<j.finallyLoc)return D(j.finallyLoc)}}}},abrupt:function(P,L){for(var D=this.tryEntries.length-1;D>=0;--D){var R=this.tryEntries[D];if(R.tryLoc<=this.prev&&l.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var j=R;break}}j&&(P==="break"||P==="continue")&&j.tryLoc<=L&&L<=j.finallyLoc&&(j=null);var $=j?j.completion:{};return $.type=P,$.arg=L,j?(this.method="next",this.next=j.finallyLoc,b):this.complete($)},complete:function(P,L){if(P.type==="throw")throw P.arg;return P.type==="break"||P.type==="continue"?this.next=P.arg:P.type==="return"?(this.rval=this.arg=P.arg,this.method="return",this.next="end"):P.type==="normal"&&L&&(this.next=L),b},finish:function(P){for(var L=this.tryEntries.length-1;L>=0;--L){var D=this.tryEntries[L];if(D.finallyLoc===P)return this.complete(D.completion,D.afterLoc),C(D),b}},catch:function(P){for(var L=this.tryEntries.length-1;L>=0;--L){var D=this.tryEntries[L];if(D.tryLoc===P){var R=D.completion;if(R.type==="throw"){var j=R.arg;C(D)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(P,L,D){return this.delegate={iterator:N(P),resultName:L,nextLoc:D},this.method==="next"&&(this.arg=void 0),b}},s}(n.exports);try{regeneratorRuntime=i}catch{Function("r","regeneratorRuntime = r")(i)}},function(n,r,o){var i=o(12),s=o(13);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1},l=(i(s,a),s.locals?s.locals:{});n.exports=l},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var f={};return function(w){if(f[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}f[w]=S}return f[w]}}(),l=[];function c(f){for(var w=-1,S=0;S<l.length;S++)if(l[S].identifier===f){w=S;break}return w}function u(f,w){for(var S={},_=[],A=0;A<f.length;A++){var y=f[A],x=w.base?y[0]+w.base:y[0],T=S[x]||0,C="".concat(x," ").concat(T);S[x]=T+1;var I=c(C),N={css:y[1],media:y[2],sourceMap:y[3]};I!==-1?(l[I].references++,l[I].updater(N)):l.push({identifier:C,updater:g(N,w),references:1}),_.push(C)}return _}function d(f){var w=document.createElement("style"),S=f.attributes||{};if(S.nonce===void 0){var _=o.nc;_&&(S.nonce=_)}if(Object.keys(S).forEach(function(y){w.setAttribute(y,S[y])}),typeof f.insert=="function")f.insert(w);else{var A=a(f.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(w)}return w}var h,m=(h=[],function(f,w){return h[f]=w,h.filter(Boolean).join(`
`)});function p(f,w,S,_){var A=S?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(f.styleSheet)f.styleSheet.cssText=m(w,A);else{var y=document.createTextNode(A),x=f.childNodes;x[w]&&f.removeChild(x[w]),x.length?f.insertBefore(y,x[w]):f.appendChild(y)}}function b(f,w,S){var _=S.css,A=S.media,y=S.sourceMap;if(A?f.setAttribute("media",A):f.removeAttribute("media"),y&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(y))))," */")),f.styleSheet)f.styleSheet.cssText=_;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(_))}}var E=null,k=0;function g(f,w){var S,_,A;if(w.singleton){var y=k++;S=E||(E=d(w)),_=p.bind(null,S,y,!1),A=p.bind(null,S,y,!0)}else S=d(w),_=b.bind(null,S,w),A=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(S)};return _(f),function(x){if(x){if(x.css===f.css&&x.media===f.media&&x.sourceMap===f.sourceMap)return;_(f=x)}else A()}}n.exports=function(f,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var S=u(f=f||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var A=0;A<S.length;A++){var y=c(S[A]);l[y].references--}for(var x=u(_,w),T=0;T<S.length;T++){var C=c(S[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}S=x}}}},function(n,r,o){(r=o(14)(!1)).push([n.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var m=(b=h,E=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),k="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E),"/*# ".concat(k," */")),p=h.sources.map(function(g){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(g," */")});return[d].concat(p).concat([m]).join(`
`)}var b,E,k;return[d].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var m=0;m<a.length;m++){var p=[].concat(a[m]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,o){var i=o(4);n.exports=function(s){if(Array.isArray(s))return i(s)}},function(n,r){n.exports=function(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r){n.exports=function(o){if(Array.isArray(o))return o}},function(n,r){n.exports=function(o,i){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var s=[],a=!0,l=!1,c=void 0;try{for(var u,d=o[Symbol.iterator]();!(a=(u=d.next()).done)&&(s.push(u.value),!i||s.length!==i);a=!0);}catch(h){l=!0,c=h}finally{try{a||d.return==null||d.return()}finally{if(l)throw c}}return s}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,o){o.r(r),o.d(r,"default",function(){return y});var i=o(3),s=o.n(i),a=o(6),l=o.n(a),c=o(2),u=o.n(c),d=o(0),h=o.n(d);o(11);const m='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var p=o(7),b=o.n(p);function E(x){var T,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},N=document.createElement(x);Array.isArray(C)?(T=N.classList).add.apply(T,b()(C)):C&&N.classList.add(C);for(var O in I)N[O]=I[O];return N}var k=function(){function x(T){var C=T.api,I=T.config,N=T.onSelectFile,O=T.readOnly;u()(this,x),this.api=C,this.config=I,this.onSelectFile=N,this.readOnly=O,this.nodes={wrapper:E("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:E("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:E("div",this.CSS.imagePreloader),caption:E("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return h()(x,[{key:"render",value:function(T){return T.file&&Object.keys(T.file).length!==0?this.toggleStatus(x.status.UPLOADING):this.toggleStatus(x.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var T=this,C=E("div",[this.CSS.button]);return C.innerHTML=this.config.buttonContent||"".concat(m," ").concat(this.api.i18n.t("Select an Image")),C.addEventListener("click",function(){T.onSelectFile()}),C}},{key:"showPreloader",value:function(T){this.nodes.imagePreloader.style.backgroundImage="url(".concat(T,")"),this.toggleStatus(x.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(x.status.EMPTY)}},{key:"fillImage",value:function(T){var C=this,I=/\.mp4$/.test(T)?"VIDEO":"IMG",N={src:T},O="load";I==="VIDEO"&&(N.autoplay=!0,N.loop=!0,N.muted=!0,N.playsinline=!0,O="loadeddata"),this.nodes.imageEl=E(I,this.CSS.imageEl,N),this.nodes.imageEl.addEventListener(O,function(){C.toggleStatus(x.status.FILLED),C.nodes.imagePreloader&&(C.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(T){this.nodes.caption&&(this.nodes.caption.innerHTML=T)}},{key:"toggleStatus",value:function(T){for(var C in x.status)Object.prototype.hasOwnProperty.call(x.status,C)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(x.status[C]),T===x.status[C])}},{key:"applyTune",value:function(T,C){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(T),C)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),x}(),g=o(8),f=o.n(g),w=o(1),S=o.n(w);function _(x){return x&&typeof x.then=="function"}var A=function(){function x(T){var C=T.config,I=T.onUpload,N=T.onError;u()(this,x),this.config=C,this.onUpload=I,this.onError=N}return h()(x,[{key:"uploadSelectedFile",value:function(T){var C=this,I=T.onPreview,N=function(O){var P=new FileReader;P.readAsDataURL(O),P.onload=function(L){I(L.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?S.a.selectFiles({accept:this.config.types}).then(function(O){N(O[0]);var P=C.config.uploader.uploadByFile(O[0]);return _(P)||console.warn("Custom uploader method uploadByFile should return a Promise"),P}):S.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(O){N(O[0])},fieldName:this.config.field}).then(function(O){return O.body})).then(function(O){C.onUpload(O)}).catch(function(O){C.onError(O)})}},{key:"uploadByUrl",value:function(T){var C,I=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?_(C=this.config.uploader.uploadByUrl(T))||console.warn("Custom uploader method uploadByUrl should return a Promise"):C=S.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:T},this.config.additionalRequestData),type:S.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(N){return N.body}),C.then(function(N){I.onUpload(N)}).catch(function(N){I.onError(N)})}},{key:"uploadByFile",value:function(T,C){var I,N=this,O=C.onPreview,P=new FileReader;if(P.readAsDataURL(T),P.onload=function(D){O(D.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")_(I=this.config.uploader.uploadByFile(T))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var L=new FormData;L.append(this.config.field,T),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(D){var R=f()(D,2),j=R[0],$=R[1];L.append(j,$)}),I=S.a.post({url:this.config.endpoints.byFile,data:L,type:S.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(D){return D.body})}I.then(function(D){N.onUpload(D)}).catch(function(D){N.onError(D)})}}]),x}(),y=function(){function x(C){var I=this,N=C.data,O=C.config,P=C.api,L=C.readOnly;u()(this,x),this.api=P,this.readOnly=L,this.config={endpoints:O.endpoints||"",additionalRequestData:O.additionalRequestData||{},additionalRequestHeaders:O.additionalRequestHeaders||{},field:O.field||"image",types:O.types||"image/*",captionPlaceholder:this.api.i18n.t(O.captionPlaceholder||"Caption"),buttonContent:O.buttonContent||"",uploader:O.uploader||void 0,actions:O.actions||[]},this.uploader=new A({config:this.config,onUpload:function(D){return I.onUpload(D)},onError:function(D){return I.uploadingFailed(D)}}),this.ui=new k({api:P,config:this.config,onSelectFile:function(){I.uploader.uploadSelectedFile({onPreview:function(D){I.ui.showPreloader(D)}})},readOnly:L}),this._data={},this.data=N}var T;return h()(x,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:m,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),h()(x,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(C){return C.file&&C.file.url}},{key:"save",value:function(){var C=this.ui.nodes.caption;return this._data.caption=C.innerHTML,this.data}},{key:"renderSettings",value:function(){var C=this;return x.tunes.concat(this.config.actions).map(function(I){return{icon:I.icon,label:C.api.i18n.t(I.title),name:I.name,toggle:I.toggle,isActive:C.data[I.name],onActivate:function(){typeof I.action!="function"?C.tuneToggled(I.name):I.action(I.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(T=l()(s.a.mark(function C(I){var N,O,P,L,D;return s.a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:R.t0=I.type,R.next=R.t0==="tag"?3:R.t0==="pattern"?15:R.t0==="file"?18:21;break;case 3:if(N=I.detail.data,!/^blob:/.test(N.src)){R.next=13;break}return R.next=7,fetch(N.src);case 7:return O=R.sent,R.next=10,O.blob();case 10:return P=R.sent,this.uploadFile(P),R.abrupt("break",21);case 13:return this.uploadUrl(N.src),R.abrupt("break",21);case 15:return L=I.detail.data,this.uploadUrl(L),R.abrupt("break",21);case 18:return D=I.detail.file,this.uploadFile(D),R.abrupt("break",21);case 21:case"end":return R.stop()}},C,this)})),function(C){return T.apply(this,arguments)})},{key:"onUpload",value:function(C){C.success&&C.file?this.image=C.file:this.uploadingFailed("incorrect response: "+JSON.stringify(C))}},{key:"uploadingFailed",value:function(C){console.log("Image Tool: uploading failed because of",C),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(C){this.setTune(C,!this._data[C])}},{key:"setTune",value:function(C,I){var N=this;this._data[C]=I,this.ui.applyTune(C,I),C==="stretched"&&Promise.resolve().then(function(){var O=N.api.blocks.getCurrentBlockIndex();N.api.blocks.stretchBlock(O,I)}).catch(function(O){console.error(O)})}},{key:"uploadFile",value:function(C){var I=this;this.uploader.uploadByFile(C,{onPreview:function(N){I.ui.showPreloader(N)}})}},{key:"uploadUrl",value:function(C){this.ui.showPreloader(C),this.uploader.uploadByUrl(C)}},{key:"data",set:function(C){var I=this;this.image=C.file,this._data.caption=C.caption||"",this.ui.fillCaption(this._data.caption),x.tunes.forEach(function(N){var O=N.name,P=C[O]!==void 0&&(C[O]===!0||C[O]==="true");I.setTune(O,P)})},get:function(){return this._data}},{key:"image",set:function(C){this._data.file=C||{},C&&C.url&&this.ui.fillImage(C.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),x}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(ek);var pD=ek.exports;const mD=hr(pD);var tk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),m=d.sources.map(function(b){return"/*# sourceURL="+d.sourceRoot+b+" */"});return[u].concat(m).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(C){return document.querySelector(C)},u=function(C){var I={};return function(N){if(typeof N=="function")return N();if(I[N]===void 0){var O=c.call(this,N);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch{O=null}I[N]=O}return I[N]}}(),d=null,h=0,m=[],p=o(4);function b(C,I){for(var N=0;N<C.length;N++){var O=C[N],P=a[O.id];if(P){P.refs++;for(var L=0;L<P.parts.length;L++)P.parts[L](O.parts[L]);for(;L<O.parts.length;L++)P.parts.push(S(O.parts[L],I))}else{var D=[];for(L=0;L<O.parts.length;L++)D.push(S(O.parts[L],I));a[O.id]={id:O.id,refs:1,parts:D}}}}function E(C,I){for(var N=[],O={},P=0;P<C.length;P++){var L=C[P],D=I.base?L[0]+I.base:L[0],R={css:L[1],media:L[2],sourceMap:L[3]};O[D]?O[D].parts.push(R):N.push(O[D]={id:D,parts:[R]})}return N}function k(C,I){var N=u(C.insertInto);if(!N)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var O=m[m.length-1];if(C.insertAt==="top")O?O.nextSibling?N.insertBefore(I,O.nextSibling):N.appendChild(I):N.insertBefore(I,N.firstChild),m.push(I);else if(C.insertAt==="bottom")N.appendChild(I);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var P=u(C.insertInto+" "+C.insertAt.before);N.insertBefore(I,P)}}function g(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var I=m.indexOf(C);I>=0&&m.splice(I,1)}function f(C){var I=document.createElement("style");return C.attrs.type===void 0&&(C.attrs.type="text/css"),w(I,C.attrs),k(C,I),I}function w(C,I){Object.keys(I).forEach(function(N){C.setAttribute(N,I[N])})}function S(C,I){var N,O,P,L;if(I.transform&&C.css){if(!(L=I.transform(C.css)))return function(){};C.css=L}if(I.singleton){var D=h++;N=d||(d=f(I)),O=y.bind(null,N,D,!1),P=y.bind(null,N,D,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(N=function(R){var j=document.createElement("link");return R.attrs.type===void 0&&(R.attrs.type="text/css"),R.attrs.rel="stylesheet",w(j,R.attrs),k(R,j),j}(I),O=T.bind(null,N,I),P=function(){g(N),N.href&&URL.revokeObjectURL(N.href)}):(N=f(I),O=x.bind(null,N),P=function(){g(N)});return O(C),function(R){if(R){if(R.css===C.css&&R.media===C.media&&R.sourceMap===C.sourceMap)return;O(C=R)}else P()}}n.exports=function(C,I){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(I=I||{}).attrs=typeof I.attrs=="object"?I.attrs:{},I.singleton||typeof I.singleton=="boolean"||(I.singleton=l()),I.insertInto||(I.insertInto="head"),I.insertAt||(I.insertAt="bottom");var N=E(C,I);return b(N,I),function(O){for(var P=[],L=0;L<N.length;L++){var D=N[L];(R=a[D.id]).refs--,P.push(R)}for(O&&b(E(O,I),I),L=0;L<P.length;L++){var R;if((R=P[L]).refs===0){for(var j=0;j<R.parts.length;j++)R.parts[j]();delete a[R.id]}}}};var _,A=(_=[],function(C,I){return _[C]=I,_.filter(Boolean).join(`
`)});function y(C,I,N,O){var P=N?"":O.css;if(C.styleSheet)C.styleSheet.cssText=A(I,P);else{var L=document.createTextNode(P),D=C.childNodes;D[I]&&C.removeChild(D[I]),D.length?C.insertBefore(L,D[I]):C.appendChild(L)}}function x(C,I){var N=I.css,O=I.media;if(O&&C.setAttribute("media",O),C.styleSheet)C.styleSheet.cssText=N;else{for(;C.firstChild;)C.removeChild(C.firstChild);C.appendChild(document.createTextNode(N))}}function T(C,I,N){var O=N.css,P=N.sourceMap,L=I.convertToAbsoluteUrls===void 0&&P;(I.convertToAbsoluteUrls||L)&&(O=p(O)),P&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(P))))+" */");var D=new Blob([O],{type:"text/css"}),R=C.href;C.href=URL.createObjectURL(D),R&&URL.revokeObjectURL(R)}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,m){return m}).replace(/^'(.*)'$/,function(h,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var a=function(){function l(h){var m=h.data,p=h.config,b=h.api,E=h.readOnly;(function(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=b,this.readOnly=E,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=p,this._data=this.normalizeData(m),this._element=this.getTag()}var c,u,d;return c=l,d=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(u=[{key:"normalizeData",value:function(h){var m={};return i(h)!=="object"&&(h={}),m.text=h.text||"",m.level=parseInt(h.level)||this.defaultLevel.number,m}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var h=this;return this.levels.map(function(m){return{icon:m.svg,label:h.api.i18n.t("Heading ".concat(m.number)),onActivate:function(){return h.setLevel(m.number)},closeOnActivate:!0,isActive:h.currentLevel.number===m.number}})}},{key:"setLevel",value:function(h){this.data={level:h,text:this.data.text}}},{key:"merge",value:function(h){var m={text:this.data.text+h.text,level:this.data.level};this.data=m}},{key:"validate",value:function(h){return h.text.trim()!==""}},{key:"save",value:function(h){return{text:h.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var h=document.createElement(this.currentLevel.tag);return h.innerHTML=this._data.text||"",h.classList.add(this._CSS.wrapper),h.contentEditable=this.readOnly?"false":"true",h.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),h}},{key:"onPaste",value:function(h){var m=h.detail.data,p=this.defaultLevel.number;switch(m.tagName){case"H1":p=1;break;case"H2":p=2;break;case"H3":p=3;break;case"H4":p=4;break;case"H5":p=5;break;case"H6":p=6}this._settings.levels&&(p=this._settings.levels.reduce(function(b,E){return Math.abs(E-p)<Math.abs(b-p)?E:b})),this.data={level:p,text:m.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(h){if(this._data=this.normalizeData(h),h.level!==void 0&&this._element.parentNode){var m=this.getTag();m.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(m,this._element),this._element=m}h.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var h=this,m=this.levels.find(function(p){return p.number===h._data.level});return m||(m=this.defaultLevel),m}},{key:"defaultLevel",get:function(){var h=this;if(this._settings.defaultLevel){var m=this.levels.find(function(p){return p.number===h._settings.defaultLevel});if(m)return m;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var h=this,m=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?m.filter(function(p){return h._settings.levels.includes(p.number)}):m}}])&&s(c.prototype,u),d&&s(c,d),l}()}]).default})})(tk);var gD=tk.exports;const vD=hr(gD);var nk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),m=d.sources.map(function(b){return"/*# sourceURL="+d.sourceRoot+b+" */"});return[u].concat(m).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(y){var x={};return function(T){if(typeof T=="function")return T();if(x[T]===void 0){var C=(function(I){return document.querySelector(I)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}x[T]=C}return x[T]}}(),u=null,d=0,h=[],m=o(4);function p(y,x){for(var T=0;T<y.length;T++){var C=y[T],I=a[C.id];if(I){I.refs++;for(var N=0;N<I.parts.length;N++)I.parts[N](C.parts[N]);for(;N<C.parts.length;N++)I.parts.push(w(C.parts[N],x))}else{var O=[];for(N=0;N<C.parts.length;N++)O.push(w(C.parts[N],x));a[C.id]={id:C.id,refs:1,parts:O}}}}function b(y,x){for(var T=[],C={},I=0;I<y.length;I++){var N=y[I],O=x.base?N[0]+x.base:N[0],P={css:N[1],media:N[2],sourceMap:N[3]};C[O]?C[O].parts.push(P):T.push(C[O]={id:O,parts:[P]})}return T}function E(y,x){var T=c(y.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=h[h.length-1];if(y.insertAt==="top")C?C.nextSibling?T.insertBefore(x,C.nextSibling):T.appendChild(x):T.insertBefore(x,T.firstChild),h.push(x);else if(y.insertAt==="bottom")T.appendChild(x);else{if(typeof y.insertAt!="object"||!y.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(y.insertInto+" "+y.insertAt.before);T.insertBefore(x,I)}}function k(y){if(y.parentNode===null)return!1;y.parentNode.removeChild(y);var x=h.indexOf(y);x>=0&&h.splice(x,1)}function g(y){var x=document.createElement("style");return y.attrs.type===void 0&&(y.attrs.type="text/css"),f(x,y.attrs),E(y,x),x}function f(y,x){Object.keys(x).forEach(function(T){y.setAttribute(T,x[T])})}function w(y,x){var T,C,I,N;if(x.transform&&y.css){if(!(N=x.transform(y.css)))return function(){};y.css=N}if(x.singleton){var O=d++;T=u||(u=g(x)),C=A.bind(null,T,O,!1),I=A.bind(null,T,O,!0)}else y.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(P){var L=document.createElement("link");return P.attrs.type===void 0&&(P.attrs.type="text/css"),P.attrs.rel="stylesheet",f(L,P.attrs),E(P,L),L}(x),C=(function(P,L,D){var R=D.css,j=D.sourceMap,$=L.convertToAbsoluteUrls===void 0&&j;(L.convertToAbsoluteUrls||$)&&(R=m(R)),j&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(j))))+" */");var V=new Blob([R],{type:"text/css"}),Y=P.href;P.href=URL.createObjectURL(V),Y&&URL.revokeObjectURL(Y)}).bind(null,T,x),I=function(){k(T),T.href&&URL.revokeObjectURL(T.href)}):(T=g(x),C=(function(P,L){var D=L.css,R=L.media;if(R&&P.setAttribute("media",R),P.styleSheet)P.styleSheet.cssText=D;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(D))}}).bind(null,T),I=function(){k(T)});return C(y),function(P){if(P){if(P.css===y.css&&P.media===y.media&&P.sourceMap===y.sourceMap)return;C(y=P)}else I()}}n.exports=function(y,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(x=x||{}).attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||typeof x.singleton=="boolean"||(x.singleton=l()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var T=b(y,x);return p(T,x),function(C){for(var I=[],N=0;N<T.length;N++){var O=T[N];(P=a[O.id]).refs--,I.push(P)}for(C&&p(b(C,x),x),N=0;N<I.length;N++){var P;if((P=I[N]).refs===0){for(var L=0;L<P.parts.length;L++)P.parts[L]();delete a[P.id]}}}};var S,_=(S=[],function(y,x){return S[y]=x,S.filter(Boolean).join(`
`)});function A(y,x,T,C){var I=T?"":C.css;if(y.styleSheet)y.styleSheet.cssText=_(x,I);else{var N=document.createTextNode(I),O=y.childNodes;O[x]&&y.removeChild(O[x]),O.length?y.insertBefore(N,O[x]):y.appendChild(N)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,m){return m}).replace(/^'(.*)'$/,function(h,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function i(c){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(c)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(c,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function a(c,u,d){return u&&s(c.prototype,u),d&&s(c,d),c}o.d(r,"default",function(){return l});var l=function(){function c(u){var d=u.data,h=u.config,m=u.api,p=u.readOnly;(function(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")})(this,c);var b=c.ALIGNMENTS,E=c.DEFAULT_ALIGNMENT;this.api=m,this.readOnly=p,this.quotePlaceholder=h.quotePlaceholder||c.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=h.captionPlaceholder||c.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:d.text||"",caption:d.caption||"",alignment:Object.values(b).includes(d.alignment)&&d.alignment||h.defaultAlignment||E}}return a(c,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return c.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(u){return u.caption?"".concat(u.text,"  ").concat(u.caption):u.text}}}}]),a(c,[{key:"render",value:function(){var u=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),d=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),h=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return d.dataset.placeholder=this.quotePlaceholder,h.dataset.placeholder=this.captionPlaceholder,u.appendChild(d),u.appendChild(h),u}},{key:"save",value:function(u){var d=u.querySelector(".".concat(this.CSS.text)),h=u.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:d.innerHTML,caption:h.innerHTML})}},{key:"renderSettings",value:function(){var u=this;return this.settings.map(function(d){return{icon:d.icon,label:u.api.i18n.t("Align ".concat((h=d.name,h[0].toUpperCase()+h.substr(1)))),onActivate:function(){return u._toggleTune(d.name)},isActive:u.data.alignment===d.name,closeOnActivate:!0};var h})}},{key:"_toggleTune",value:function(u){this.data.alignment=u}},{key:"_make",value:function(u){var d,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.createElement(u);Array.isArray(h)?(d=p.classList).add.apply(d,i(h)):h&&p.classList.add(h);for(var b in m)p[b]=m[b];return p}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),c}()}]).default})})(nk);var yD=nk.exports;const bD=hr(yD);var rk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.cdx-marker {
  background: rgba(245,235,111,0.29);
  padding: 3px 0;
}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),m=d.sources.map(function(b){return"/*# sourceURL="+d.sourceRoot+b+" */"});return[u].concat(m).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(y){var x={};return function(T){if(typeof T=="function")return T();if(x[T]===void 0){var C=(function(I){return document.querySelector(I)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}x[T]=C}return x[T]}}(),u=null,d=0,h=[],m=o(4);function p(y,x){for(var T=0;T<y.length;T++){var C=y[T],I=a[C.id];if(I){I.refs++;for(var N=0;N<I.parts.length;N++)I.parts[N](C.parts[N]);for(;N<C.parts.length;N++)I.parts.push(w(C.parts[N],x))}else{var O=[];for(N=0;N<C.parts.length;N++)O.push(w(C.parts[N],x));a[C.id]={id:C.id,refs:1,parts:O}}}}function b(y,x){for(var T=[],C={},I=0;I<y.length;I++){var N=y[I],O=x.base?N[0]+x.base:N[0],P={css:N[1],media:N[2],sourceMap:N[3]};C[O]?C[O].parts.push(P):T.push(C[O]={id:O,parts:[P]})}return T}function E(y,x){var T=c(y.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=h[h.length-1];if(y.insertAt==="top")C?C.nextSibling?T.insertBefore(x,C.nextSibling):T.appendChild(x):T.insertBefore(x,T.firstChild),h.push(x);else if(y.insertAt==="bottom")T.appendChild(x);else{if(typeof y.insertAt!="object"||!y.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(y.insertInto+" "+y.insertAt.before);T.insertBefore(x,I)}}function k(y){if(y.parentNode===null)return!1;y.parentNode.removeChild(y);var x=h.indexOf(y);x>=0&&h.splice(x,1)}function g(y){var x=document.createElement("style");return y.attrs.type===void 0&&(y.attrs.type="text/css"),f(x,y.attrs),E(y,x),x}function f(y,x){Object.keys(x).forEach(function(T){y.setAttribute(T,x[T])})}function w(y,x){var T,C,I,N;if(x.transform&&y.css){if(!(N=x.transform(y.css)))return function(){};y.css=N}if(x.singleton){var O=d++;T=u||(u=g(x)),C=A.bind(null,T,O,!1),I=A.bind(null,T,O,!0)}else y.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(P){var L=document.createElement("link");return P.attrs.type===void 0&&(P.attrs.type="text/css"),P.attrs.rel="stylesheet",f(L,P.attrs),E(P,L),L}(x),C=(function(P,L,D){var R=D.css,j=D.sourceMap,$=L.convertToAbsoluteUrls===void 0&&j;(L.convertToAbsoluteUrls||$)&&(R=m(R)),j&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(j))))+" */");var V=new Blob([R],{type:"text/css"}),Y=P.href;P.href=URL.createObjectURL(V),Y&&URL.revokeObjectURL(Y)}).bind(null,T,x),I=function(){k(T),T.href&&URL.revokeObjectURL(T.href)}):(T=g(x),C=(function(P,L){var D=L.css,R=L.media;if(R&&P.setAttribute("media",R),P.styleSheet)P.styleSheet.cssText=D;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(D))}}).bind(null,T),I=function(){k(T)});return C(y),function(P){if(P){if(P.css===y.css&&P.media===y.media&&P.sourceMap===y.sourceMap)return;C(y=P)}else I()}}n.exports=function(y,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(x=x||{}).attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||typeof x.singleton=="boolean"||(x.singleton=l()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var T=b(y,x);return p(T,x),function(C){for(var I=[],N=0;N<T.length;N++){var O=T[N];(P=a[O.id]).refs--,I.push(P)}for(C&&p(b(C,x),x),N=0;N<I.length;N++){var P;if((P=I[N]).refs===0){for(var L=0;L<P.parts.length;L++)P.parts[L]();delete a[P.id]}}}};var S,_=(S=[],function(y,x){return S[y]=x,S.filter(Boolean).join(`
`)});function A(y,x,T,C){var I=T?"":C.css;if(y.styleSheet)y.styleSheet.cssText=_(x,I);else{var N=document.createTextNode(I),O=y.childNodes;O[x]&&y.removeChild(O[x]),O.length?y.insertBefore(N,O[x]):y.appendChild(N)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,m){return m}).replace(/^'(.*)'$/,function(h,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&i(l.prototype,c),u&&i(l,u),l}o.d(r,"default",function(){return a});var a=function(){function l(c){var u=c.api;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(l,null,[{key:"CSS",get:function(){return"cdx-marker"}}]),s(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,l.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(l.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),d=u.getRangeAt(0),h=d.extractContents();c.parentNode.removeChild(c),d.insertNode(h),u.removeAllRanges(),u.addRange(d)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{mark:{class:l.CSS}}}}]),l}()}]).default})})(rk);var wD=rk.exports;const xD=hr(wD);var ok={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),m=d.sources.map(function(b){return"/*# sourceURL="+d.sourceRoot+b+" */"});return[u].concat(m).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(y){var x={};return function(T){if(typeof T=="function")return T();if(x[T]===void 0){var C=(function(I){return document.querySelector(I)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}x[T]=C}return x[T]}}(),u=null,d=0,h=[],m=o(4);function p(y,x){for(var T=0;T<y.length;T++){var C=y[T],I=a[C.id];if(I){I.refs++;for(var N=0;N<I.parts.length;N++)I.parts[N](C.parts[N]);for(;N<C.parts.length;N++)I.parts.push(w(C.parts[N],x))}else{var O=[];for(N=0;N<C.parts.length;N++)O.push(w(C.parts[N],x));a[C.id]={id:C.id,refs:1,parts:O}}}}function b(y,x){for(var T=[],C={},I=0;I<y.length;I++){var N=y[I],O=x.base?N[0]+x.base:N[0],P={css:N[1],media:N[2],sourceMap:N[3]};C[O]?C[O].parts.push(P):T.push(C[O]={id:O,parts:[P]})}return T}function E(y,x){var T=c(y.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=h[h.length-1];if(y.insertAt==="top")C?C.nextSibling?T.insertBefore(x,C.nextSibling):T.appendChild(x):T.insertBefore(x,T.firstChild),h.push(x);else if(y.insertAt==="bottom")T.appendChild(x);else{if(typeof y.insertAt!="object"||!y.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(y.insertInto+" "+y.insertAt.before);T.insertBefore(x,I)}}function k(y){if(y.parentNode===null)return!1;y.parentNode.removeChild(y);var x=h.indexOf(y);x>=0&&h.splice(x,1)}function g(y){var x=document.createElement("style");return y.attrs.type===void 0&&(y.attrs.type="text/css"),f(x,y.attrs),E(y,x),x}function f(y,x){Object.keys(x).forEach(function(T){y.setAttribute(T,x[T])})}function w(y,x){var T,C,I,N;if(x.transform&&y.css){if(!(N=x.transform(y.css)))return function(){};y.css=N}if(x.singleton){var O=d++;T=u||(u=g(x)),C=A.bind(null,T,O,!1),I=A.bind(null,T,O,!0)}else y.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(P){var L=document.createElement("link");return P.attrs.type===void 0&&(P.attrs.type="text/css"),P.attrs.rel="stylesheet",f(L,P.attrs),E(P,L),L}(x),C=(function(P,L,D){var R=D.css,j=D.sourceMap,$=L.convertToAbsoluteUrls===void 0&&j;(L.convertToAbsoluteUrls||$)&&(R=m(R)),j&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(j))))+" */");var V=new Blob([R],{type:"text/css"}),Y=P.href;P.href=URL.createObjectURL(V),Y&&URL.revokeObjectURL(Y)}).bind(null,T,x),I=function(){k(T),T.href&&URL.revokeObjectURL(T.href)}):(T=g(x),C=(function(P,L){var D=L.css,R=L.media;if(R&&P.setAttribute("media",R),P.styleSheet)P.styleSheet.cssText=D;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(D))}}).bind(null,T),I=function(){k(T)});return C(y),function(P){if(P){if(P.css===y.css&&P.media===y.media&&P.sourceMap===y.sourceMap)return;C(y=P)}else I()}}n.exports=function(y,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(x=x||{}).attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||typeof x.singleton=="boolean"||(x.singleton=l()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var T=b(y,x);return p(T,x),function(C){for(var I=[],N=0;N<T.length;N++){var O=T[N];(P=a[O.id]).refs--,I.push(P)}for(C&&p(b(C,x),x),N=0;N<I.length;N++){var P;if((P=I[N]).refs===0){for(var L=0;L<P.parts.length;L++)P.parts[L]();delete a[P.id]}}}};var S,_=(S=[],function(y,x){return S[y]=x,S.filter(Boolean).join(`
`)});function A(y,x,T,C){var I=T?"":C.css;if(y.styleSheet)y.styleSheet.cssText=_(x,I);else{var N=document.createTextNode(I),O=y.childNodes;O[x]&&y.removeChild(O[x]),O.length?y.insertBefore(N,O[x]):y.appendChild(N)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,m){return m}).replace(/^'(.*)'$/,function(h,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&i(l.prototype,c),u&&i(l,u),l}o.d(r,"default",function(){return a});var a=function(){function l(c){var u=c.api;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(l,null,[{key:"CSS",get:function(){return"inline-code"}}]),s(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,l.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(l.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),d=u.getRangeAt(0),h=d.extractContents();c.parentNode.removeChild(c),d.insertNode(h),u.removeAllRanges(),u.addRange(d)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:l.CSS}}}}]),l}()}]).default})})(ok);var kD=ok.exports;const SD=hr(kD),ik=async t=>{try{const e="dscsa4wb5",n=await te.get("http://localhost:3000/get-signature"),r=new FormData;r.append("file",t),r.append("api_key","469617478118176"),r.append("signature",n.data.signature),r.append("timestamp",n.data.timestamp);let i=(await te.post(`https://api.cloudinary.com/v1_1/${e}/auto/upload`,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:s=>{const a=Math.round(s.loaded/s.total*100)}})).data.secure_url;return console.log(i),i}catch(e){return console.error("Error uploading image:",e),null}},ED=t=>(console.log(t),new Promise((n,r)=>{try{n(t)}catch(o){r(o)}}).then(n=>({success:1,file:{url:n}}))),CD=t=>(console.log(t),ik(t).then(e=>{if(e)return{success:1,file:{url:e}}})),TD={embed:dD,list:{class:fD,inlineToolbar:!0},image:{class:mD,config:{uploader:{uploadByUrl:ED,uploadByFile:CD}}},header:{class:vD,config:{placeholder:"Type Heading...",levels:[2,3],defaultLevel:2}},quote:{class:bD,inlineToolbar:!0},marker:xD,inlineCode:SD},_D=()=>{const t=Xo(),{blog_id:e}=Jo();let{theme:n}=B.useContext(vc),{blog:r,blog:{title:o,banner:i,content:s,tags:a,des:l},setBlog:c,textEditor:u,setTextEditor:d,setEditorState:h}=B.useContext(pc),{userAuth:{access_token:m}}=B.useContext(Te);B.useEffect(()=>{u.isReady||d(new cD({holder:"text-Editor",data:Array.isArray(s)?s[0]:s,tools:TD,placeholder:"Lets write an awasome Story"}))},[]);const p=async A=>{A.preventDefault();try{const y="dscsa4wb5",x=await te.get("http://localhost:3000/get-signature"),T=new FormData;T.append("file",A.target.files[0]),T.append("api_key","469617478118176"),T.append("signature",x.data.signature),T.append("timestamp",x.data.timestamp);let C=G.loading("Uploading");const I=await te.post(`https://api.cloudinary.com/v1_1/${y}/auto/upload`,T,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:O=>{const P=Math.round(O.loaded/O.total*100)}});G.dismiss(C),G.success("Uploaded");let N=I.data.secure_url;console.log(N),b(N),console.log("File uploaded successfully:",I.data)}catch(y){console.error("Error uploading file:",y),E(loadingToast)}},b=A=>{c({...r,banner:A})},E=A=>(G.dismiss(A),G.error("Error uploading file. Please try again later.")),k=A=>{if(console.log(A),!i.length)return G.error("upload blog banner to publish it ");if(!o.length)return G.error("write blog title to publish it ");u.isReady&&u.save().then(y=>{if(y.blocks.length)c({...r,content:y}),h("published");else return G.error("write somwthing to publich")}).catch(y=>{console.log(y)})},g=A=>{if(A.target.className.includes("disable"))return;if(!o.length)return G.error("Write a title before Saving Draft");let y=G.loading("Saving post...");A.target.classList.add("disable"),u.isReady&&u.save().then(x=>{let T={title:o,banner:i,content:x,tags:a,des:l,draft:!0};console.log(e),te.post("https://astro-blog-mj7v.onrender.com/create-blog",{...T,id:e},{headers:{Authorization:`Bearer ${m}`}}).then(()=>{A.target.classList.remove("disable"),G.dismiss(y),G.success("Saved "),_(),setTimeout(()=>{t("/dashboard/blogs?tab=draft")},500)}).catch(({response:C})=>(A.target.classList.remove("disable"),G.dismiss(y),G.error(C.data.error)))})},f=A=>{console.log(A);let y=A.target;y.src=n=="light"?EM:CM},w=A=>{A.keyCode==13&&A.preventDefault()},S=A=>{let y=A.target;y.style.height="auto",y.style.height=y.scrollHeight+"px",c({...r,title:y.value})},_=()=>{d({isReady:!1})};return v.jsxs(v.Fragment,{children:[v.jsxs("nav",{className:"navbar",children:[v.jsx(re,{to:"/",className:"flex-none w-10",children:v.jsx("img",{className:"",src:n=="light"?pb:df,alt:""})}),v.jsx("p",{className:"max-md:hidden text-black line-clamp-1 w-full",children:o.length?o:"New Blog"}),v.jsxs("div",{className:"flex gap-4 ml-auto ",children:[v.jsx("button",{onClick:k,className:"btn-dark py-2 ",children:"Publish"}),v.jsx("button",{onClick:g,className:"btn-light py-2 ",children:"Save Draft"})]})]}),v.jsx(yr,{}),v.jsx(Ee,{children:v.jsx("section",{children:v.jsxs("div",{className:"mx-auto max-w-[900px] w-full ",children:[v.jsx("div",{className:"relative aspect-video bg-white border-grey border-4 hover:opacity-80",children:v.jsxs("label",{htmlFor:"upload_banner",children:[v.jsx("img",{onError:f,className:"z-20 ",src:i,alt:""}),v.jsx("input",{id:"upload_banner",type:"file",accept:".png , .jpg , .jpeg",hidden:!0,onChange:p})]})}),v.jsx("textarea",{defaultValue:o,placeholder:"Blog Title",className:" bg-white text-4xl font-medium w-full h-20 outline-none resize-none mt-10 leading-tight placeholder:opacity-40 ",onKeyDown:w,onChange:S}),v.jsx("hr",{className:"w-full opacity-10 m-5 "}),v.jsx("div",{id:"text-Editor",className:"font-gelasio"})]})})})]})},ID=({tag:t,tagIndex:e})=>{let{blog:{tags:n},setBlog:r,blog:o}=B.useContext(pc);const i=()=>{n=n.filter(l=>l!=t),r({...o,tags:n})},s=l=>{if(l.keyCode==13||l.keyCode==188){l.preventDefault();let c=l.target.innerText;n[e]=c,r({...o,tags:n}),l.target.setAttribute("contentEditable",!1)}},a=l=>{l.target.setAttribute("contentEditable",!0),l.target.focus()};return v.jsxs("div",{className:"relative p-2 mt-2 mr-2 px-5 bg-white rounded-full inline-block hover:bg-opacity-50 pr-10",children:[v.jsx("p",{className:"outline-none",onClick:a,onKeyDown:s,children:t}),v.jsx("button",{onClick:i,className:"mt-[2px] rounded-full absolute right-3 top-1/2 -translate-y-1/2 text-sm ",children:v.jsx("i",{className:"fi fi-br-cross-small text-xl pointer-events-none"})})]})},AD=()=>{let t=200,e=10;const{blog_id:n}=Jo();let{blog:{banner:r,tags:o,title:i,des:s,content:a},setEditorState:l,setBlog:c,blog:u}=B.useContext(pc),{userAuth:{access_token:d}}=B.useContext(Te),h=Xo();const m=()=>{l("editor")},p=w=>{w.preventDefault();let S=w.target;c({...u,title:S.value})},b=w=>{w.preventDefault();let S=w.target;c({...u,des:S.value})},E=w=>{w.keyCode==13&&w.preventDefault()},k=w=>{if(console.log(w),w.target.className.includes("disable"))return;if(!i.length)return ct.error("Write a title before publishing");if(!s.length||s.length>200)return ct.error(`Please write some description under ${t} characters`);if(!o.length)return ct.error("Add at least one tag to rank your tags");let S=ct.loading("Publishing post...");w.target.classList.add("disable");let _={title:i,banner:r,content:a,tags:o,des:s,draft:!1};console.log(n),te.post("https://astro-blog-mj7v.onrender.com/create-blog",{..._,id:n},{headers:{Authorization:`Bearer ${d}`}}).then(()=>{w.target.classList.remove("disable"),ct.dismiss(S),ct.success("Published "),f(),setTimeout(()=>{h("/dashboard/blogs")},500)}).catch(({response:A})=>(w.target.classList.remove("disable"),ct.dismiss(S),ct.error(A.data.error)))},g=w=>{if(w.keyCode==13||w.keyCode==188){w.preventDefault();let S=w.target.value;o.length<e?!o.includes(S)&&S.length&&c({...u,tags:[...o,S]}):ct.error(`you can max ${e} tags`),w.target.value=""}},f=()=>{setTextEditor({isReady:!1})};return v.jsxs(Ee,{children:[v.jsx(yr,{}),v.jsxs("section",{className:"w-screen min-h-screen grid items-center lg:grid-cols-2 py-16 lg:gap-4 ",children:[v.jsxs("button",{onClick:m,className:"w-12 h-12 right-[5vw] z-10 absolute top-[5%] lg:top-[10%]",children:[v.jsx("i",{className:"fi fi-rr-circle-xmark"})," "]}),v.jsxs("div",{className:"max-w-[550px] center mt-4",children:[v.jsx("p",{className:"text-dark-grey mb-1 ",children:"Preview"}),v.jsxs("div",{className:"w-full aspect-video rounded-lg overflow-hidden bg-grey mt-4",children:[v.jsx("img",{src:r,className:"",alt:""})," "]}),v.jsxs("h1",{className:" text-4xl font-medium mt-2 leading-tight line-clamp-2 ",children:[i," "]}),v.jsxs("p",{className:"font-gelasio line-clamp-2 text-xl leading-7 mt-4",children:[s," "]})]}),v.jsxs("div",{className:"border-grey lg:border-1 lg:pl-8",children:[v.jsx("p",{className:"text-dark-grey mb-2 mt-9 ",children:"Blog Title"}),v.jsx("input",{type:"text",placeholder:"Blog Title",defaultValue:i,className:"input-box pl-4",onChange:p}),v.jsx("p",{className:"text-dark-grey mb-2 mt-9 ",children:"Short Description about your blog"}),v.jsx("textarea",{onKeyDown:E,className:"h-40 resize-none leading-7 pl-4 input-box ",maxLength:t,defaultValue:s,onChange:b}),v.jsxs("p",{className:"mt-1 text-dark-grey text-sm text-right",children:[t-s.length," characters left"," "]}),v.jsx("p",{className:"text-dark-grey mb-2 mt-9 ",children:"Topics - (help in searching and ranking your blog post)"}),v.jsxs("div",{className:"relative input-box py-2 pb-4 ",children:[v.jsx("input",{type:"text",placeholder:"Topics",className:"sticky input-box bg-white top-0 left-0 pl-4 mb-3 focus:bg-white",onKeyDown:g}),o.map((w,S)=>v.jsx(ID,{tag:w,tagIndex:S},S))]}),v.jsxs("p",{className:"text-sm text-dark-grey text-right mt-1 mb-4 ",children:[e-o.length," tags left "]}),v.jsx("button",{onClick:k,className:"btn-dark px-8",children:"Publish "})]})]})]})},pt=()=>v.jsx("div",{className:"w-12 mx-auto my-8",children:v.jsxs("svg",{"aria-hidden":"true",className:"w-12 h-12 mr-2 text-white animate-spin fill-dark-grey",viewBox:"0 0 100 101",fill:"none",children:[v.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),v.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}),PD={title:"",banner:"",content:[],tags:[],des:"",author:{personal_info:{}}},pc=B.createContext({}),Dv=()=>{let{blog_id:t}=Jo();const[e,n]=B.useState(PD);let[r,o]=B.useState("editor"),[i,s]=B.useState({isReady:!1}),{userAuth:{access_token:a}}=B.useContext(Te),[l,c]=B.useState(!0);return B.useEffect(()=>{if(!t)return c(!1);te.post("https://astro-blog-mj7v.onrender.com/get-blog",{blog_id:t,draft:!0,mode:"edit"}).then(({data:{blog:u}})=>{n(u),c(!1)}).catch(u=>{n(null),c(!1)})},[t]),v.jsx(pc.Provider,{value:{blog:e,setBlog:n,editorState:r,setEditorState:o,textEditor:i,setTextEditor:s},children:a===null?v.jsx(uf,{to:"/signin"}):l?v.jsx(pt,{}):r=="editor"?v.jsx(_D,{}):v.jsx(AD,{})})};let Pa,ra;const mc=({routes:t,defaultActiveindex:e=0,defaultHidden:n=[],children:r})=>{ra=B.useRef(),Pa=B.useRef();const[o,i]=B.useState(e);let[s,a]=B.useState(window.innerWidth),[l,c]=B.useState(!1);B.useEffect(()=>{s>766&&o!==e&&u(Pa.current,e),l||window.addEventListener("resize",()=>{l||c(!0),a(window.innerWidth)})},[s]),console.log(s);const u=(d,h)=>{let{offsetWidth:m,offsetLeft:p}=d;console.log(p,m),ra.current.style.width=m+"px",ra.current.style.left=p+"px",i(h)};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"relative mb-8 bg-white border-b border-grey flex flex-nowrap overflow-x-auto",children:[t.map((d,h)=>v.jsx("button",{ref:h===e?Pa:null,onClick:m=>{u(m.target,h)},className:"p-4 px-5 capitalize "+(o===h?"text-black ":"text-dark-grey ")+(n.includes(d)?" md:hidden":" "),children:d},d)),v.jsx("hr",{className:"absolute bottom-0 duration-300 border-dark-grey",ref:ra})]}),Array.isArray(r)?r[o]:r]})};let sk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ND=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];const ti=t=>{let e=new Date(t);return`${e.getDate()} ${sk[e.getMonth()]}`},BD=t=>{let e=new Date(t);return`${e.getDay()} ${sk[e.getMonth()]} ${e.getFullYear()}`},LD=t=>{const e=new Date(t);return ND[e.getDay()]},gc=({content:t,author:e})=>{let{publishedAt:n,tags:r,title:o,des:i,banner:s,activity:{total_likes:a},blog_id:l}=t;console.log(o,a,l);let{fullname:c,profile_img:u,username:d}=e;return v.jsxs(re,{to:`/blog/${l}`,className:"flex gap-8 items-center border-b border-grey pb-5 mb-4 ",children:[v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"flex gap-2 items-center mb-7  ",children:[v.jsx("img",{src:u,alt:"",className:"w-6 h-6 rounded-full"}),v.jsxs("p",{className:"line-clamp-1 ",children:[c," @ ",d]}),v.jsx("p",{className:"min-width-fit ",children:ti(n)})]}),v.jsx("h1",{className:"blog-title ",children:o}),v.jsx("p",{className:"my-3 text-xl font-gelasio leading-7 max-sm:hidden md:max-[1100px]:hidden line-clamp-2 ",children:i}),v.jsxs("div",{className:"flex gap-4 mt-7 ",children:[v.jsx("span",{className:"btn-light py-1 px-4",children:r[0]}),v.jsxs("span",{className:"ml-2 flex items-center gap-2 text-dark-grey",children:[v.jsx("i",{className:"fa-regular fa-heart text-xl"}),a]})]})]}),v.jsx("div",{className:"h-28 aspect-square bg-grey ",children:v.jsx("img",{src:s,className:"w-full h-full object-cover  aspect-square",alt:""})})]})},Fv=({blog:t,idx:e})=>{const{title:n,blog_id:r,author:{personal_info:{fullname:o,username:i,profile_img:s}},publishedAt:a}=t;return console.log(t,e),v.jsxs(re,{className:"flex gap-5 mb-8 ",to:`/blog/${r}`,children:[v.jsxs("h1",{className:"blog-index",children:[e<10?"0"+(e+1):e+1," "]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex gap-2 items-center mb-7  ",children:[v.jsx("img",{src:s,alt:"",className:"w-6 h-6 rounded-full"}),v.jsxs("p",{className:"line-clamp-1 ",children:[o," @ ",i]}),v.jsx("p",{className:"min-width-fit ",children:ti(a)})]}),v.jsx("h1",{className:"blog-title",children:n})]})]})},Jt=({message:t})=>v.jsx("div",{className:"w-full text-center p-4 rounded-full bg-grey/50 mt-4",children:v.jsx("p",{children:t})}),zo=async({create_new_arr:t=!1,state:e,data:n,page:r,countRoute:o,data_to_send:i={},user:s=void 0})=>{let a;console.log(n);let l={};return s&&(l.headers={Authorization:`Bearer ${s}`}),e!=null&&!t?a={...e,results:[...e.results,...n],page:r}:(console.log("i am object 1 "),await te.post("https://astro-blog-mj7v.onrender.com"+o,i,l).then(({data:{totalDocs:c}})=>{console.log(n),a={results:n,page:1,totalDocs:c},console.log("the obj is ",a)}).catch(c=>console.log(c.message))),a},Ho=({state:t,fetchDataFun:e,additionalParams:n={}})=>{if(t!==null&&t.totalDocs>t.results.length)return v.jsx("button",{onClick:()=>{e({...n,page:t.page+1})},className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:"Load More"})},OD=()=>{let[t,e]=B.useState(null),[n,r]=B.useState(null),[o,i]=B.useState("home"),s=["programming","hollywood","film making","ai","tech","finance","social media","travel","motivation"];const a=async({page:d=1})=>{te.post("https://astro-blog-mj7v.onrender.com/latest-blog",{page:d}).then(async({data:h})=>{console.log(h.blogs);const m=await zo({state:t,data:h.blogs,page:d,countRoute:"/all-latest-blogs-count"});console.log(m),e(m)}).catch(h=>{console.log(h)})},l=()=>{te.get("https://astro-blog-mj7v.onrender.com/trending-blog").then(({data:d})=>{console.log(d.blogs),console.log(d),r(d.blogs)}).catch(d=>{console.log(d)})},c=async(d=1)=>{te.post("https://astro-blog-mj7v.onrender.com/search-blogs",{tag:o,page:d}).then(async({data:h})=>{console.log(h.blogs);const m=await zo({state:t,data:h.blogs,page:d,countRoute:"/search-blogs-count",data_to_send:{tag:o}});console.log(m),e(m)}).catch(h=>{console.log(h)})};B.useEffect(()=>{Pa.current.click(),o=="home"?a({page:1}):c({page:1}),n||l()},[o]);const u=d=>{let h=d.target.innerText.toLowerCase();if(e(null),o==h){i("home");return}else c();i(h)};return v.jsx(Ee,{children:v.jsxs("section",{className:"h-cover flex justify-center gap-10 bg-[#f5fffa ]",children:[v.jsx("div",{className:"w-full",children:v.jsxs(mc,{routes:[o,"trending blogs"],defaultHidden:["trending blogs"],children:[v.jsxs(v.Fragment,{children:[t==null?v.jsx(pt,{}):t.results.length?t.results.map((d,h)=>v.jsx(Ee,{transition:{duration:1,delay:h*.1},children:v.jsx(gc,{content:d,author:d.author.personal_info})},h)):v.jsx(Jt,{message:"No data related to this published"}),v.jsx(Ho,{state:t,fetchDataFun:o=="home"?a:c})]}),v.jsx(v.Fragment,{children:n==null?v.jsx(pt,{}):n.length?n.map((d,h)=>v.jsx(Ee,{transition:{duration:1,delay:h*.1},children:v.jsx(Fv,{blog:d,idx:h})},h)):v.jsx(Jt,{message:"no trending blogs"})})]})}),v.jsxs("div",{className:"min-w-[40%] lg:min-w-[400px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden  ",children:[v.jsx("div",{className:"flex flex-col gap-10 ",children:v.jsxs("div",{children:[v.jsx("h1",{className:"font-medium text-xl mb-8",children:"Stories From All interest"}),v.jsx("div",{className:"flex flex-wrap gap-3 ",children:s&&s.map((d,h)=>v.jsx("button",{onClick:u,className:"tag "+(o==d?" bg-black text-white":""),children:d},h))})]})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"font-medium text-xl mb-8 mt-5",children:["Trending ",v.jsx("i",{className:"fi fi-rr-arrow-trend-up"})]}),n==null?v.jsx(pt,{}):n.lenght?n.map((d,h)=>v.jsx(Ee,{transition:{duration:1,delay:h*.1},children:v.jsx(Fv,{blog:d,idx:h})},h)):v.jsx(Jt,{message:"no trending blogs"})]})]})]})})},RD=({user:t})=>{let{personal_info:{fullname:e,username:n,profile_img:r}}=t;return v.jsxs(re,{to:`/user/${n}`,class:"flex items-center mb-5  ",children:[v.jsx("img",{src:r,className:"w-14 h-14 rounded-full ",alt:""}),v.jsxs("div",{children:[v.jsx("h1",{className:"font-medium text-xl line-clamp-2",children:e}),v.jsxs("p",{className:"text-dark-grey",children:["@",n]})]})]})},MD=()=>{const{query:t}=Jo();let[e,n]=B.useState(null),[r,o]=B.useState(null);const i=async({page:c=1,create_new_arr:u=!1})=>{te.post("https://astro-blog-mj7v.onrender.com/search-blogs",{query:t,page:c}).then(async({data:d})=>{console.log(d.blogs);const h=await zo({state:e,data:d.blogs,page:c,countRoute:"/search-blogs-count",data_to_send:{query:t},create_new_arr:u});console.log(h),n(h)}).catch(d=>{console.log(d)})},s=()=>{te.post("https://astro-blog-mj7v.onrender.com/search-users",{query:t}).then(({data:{users:c}})=>{o(c)})};B.useEffect(()=>{a(),i({page:1,create_new_arr:!0}),s()},[t]);const a=()=>{n(null),o(null)},l=()=>(console.log(r),v.jsx(v.Fragment,{children:r==null?v.jsx(pt,{}):r.length?r.map((c,u)=>v.jsx(Ee,{transition:{duration:1,delay:u*.08},children:v.jsx(RD,{user:c},u)},u)):v.jsx(Jt,{message:"No user found"})}));return v.jsx(v.Fragment,{children:v.jsxs("section",{className:"h-cover flex justify-center gap-10",children:[v.jsx("div",{className:"w-full",children:v.jsxs(mc,{routes:[`Search Results from "${t}"`,"Account Matched"],defaultHidden:["Account Matched"],children:[v.jsxs(v.Fragment,{children:[e==null?v.jsx(pt,{}):e.results.length?e.results.map((c,u)=>v.jsx(Ee,{transition:{duration:1,delay:u*.1},children:v.jsx(gc,{content:c,author:c.author.personal_info})},u)):v.jsx(Jt,{message:"No data related to this published"}),v.jsx(Ho,{state:e,fetchDataFun:i})]}),v.jsx(l,{})]})}),v.jsxs("div",{className:"min-w-[40%] lg:min-w-[350px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden ",children:[v.jsxs("h1",{className:"font-medium text-xl mb-8 ",children:["user related to search",v.jsx("i",{class:"fa-regular fa-user mt-1 ml-1 "})]}),v.jsx(l,{})]})]})})},jD="/assets/404-light-cbeafc35.png",DD="/assets/404-dark-6776bc8a.png",FD="/assets/full-logo-0c4571bf.png",ak=()=>{const{theme:t}=B.useContext(vc);return v.jsxs("section",{className:"h-cover relative p-10 flex flex-col items-center gap-10 text-center ",children:[v.jsx("img",{src:t=="light"?DD:jD,className:"select-none border-grey w-72 aspect-square object-cover rounded",alt:""}),v.jsx("h1",{className:"text-4xl font-gelasio leading-7 ",children:"Page Not Found"}),v.jsxs("p",{className:"text-dark-grey text-xl leading-7  ",children:["Are u looking for does not exist. Head back to the"," ",v.jsx(re,{to:"/",className:"text-black underline",children:"home page"})]}),v.jsxs("div",{className:"mt-auto ",children:[v.jsx("img",{src:t=="light"?FD:df,className:"h-8 object-contain block mx-auto select-none ",alt:""}),v.jsx("p",{className:"mt-5 text-dark-grey",children:"Read millions of stories around the world"})]})]})},Uv=({bio:t,social_links:e,joinedAt:n,className:r})=>(console.log(Object.keys(e).map(o=>console.log(e[o]))),v.jsxs("div",{className:"md:w-[90%] md:mt-7 "+r,children:[v.jsx("p",{className:"text-xl leading-7 text-blue-700",children:t.length?t:"nothing to read here"}),v.jsx("div",{className:"flex gap-x-7 gap-y-2 flex-wrap my-7 items-center text-dark-grey",children:Object.keys(e).map((o,i)=>{let s=e[o];return s?v.jsx(re,{target:"_blank",to:s,children:o=="website"?v.jsx("i",{class:"fa-solid fa-globe text-2xl hover:text-black"}):v.jsx("i",{className:`fa-brands fa-${o} text-2xl hover:text-black`})},o):" "})}),v.jsx("p",{children:BD(n)})]})),lh={personal_info:{fullname:"",username:"",profile_img:"",bio:""},account_info:{total_posts:0,total_reads:0},social_links:{},joinedAt:""},UD=()=>{let[t,e]=B.useState(null),{id:n}=Jo();const[r,o]=B.useState(lh),[i,s]=B.useState(!0),[a,l]=B.useState("");B.useEffect(()=>{n!=a&&e(null),t==null&&(c(),u())},[n,t]);const c=()=>{o(lh),e(null)},u=()=>{te.post("https://astro-blog-mj7v.onrender.com/get-profile",{username:n}).then(({data:S})=>{console.log(S),S!=null&&o(S),l(n),s(!1),w({user_id:S._id})}).catch(S=>{console.log(S.message),s(!1)})};let{personal_info:{fullname:d,username:h,profile_img:m,bio:p},account_info:{total_posts:b,total_reads:E},social_links:k,joinedAt:g}=r,{userAuth:{username:f}}=B.useContext(Te);const w=({page:S=1,user_id:_})=>{_=_??t.user_id,te.post("https://astro-blog-mj7v.onrender.com/search-blogs",{author:_,page:S}).then(async({data:A})=>{console.log("tha data is ",A);let y=await zo({state:t,data:A.blogs,page:S,countRoute:"/search-blogs-count",data_to_send:{author:_}});y.user_id=_,e(y)}).catch(A=>{console.log(A.message)})};return v.jsx(Ee,{children:i?v.jsx(pt,{}):h.length?v.jsxs("section",{className:"h-cover md:flex flex-row-reverse items-start gap-5 min-[1100px]:gap:12",children:[v.jsxs("div",{className:"flex flex-col max-md:items-center gap-5 min-w-[250px] md:w-[50%0 md:pl-8 md:border-l md:border-grey md:sticky md:top-[100px] md:py-10",children:[v.jsx("img",{src:m,alt:"",className:"w-48 h-48 bg-grey rounded-full md:w-32 md:h-32"}),v.jsxs("h1",{className:"text-2xl font-medium",children:["@",h]}),v.jsx("p",{className:"text-xl capitalize h-6 ",children:d}),v.jsxs("p",{children:[b.toLocaleString()," Blogs -"," ",E.toLocaleString()," Reads"]}),v.jsx("div",{className:"flex gap-4 mt-2 ",children:n==f?v.jsx(re,{className:"btn-light ",to:"/settings/edit-profile",children:"Edit Profile"}):""}),v.jsx(Uv,{className:"max-md:hidden",bio:p,social_links:k,joinedAt:g})]}),v.jsx("div",{className:"max-md:mt-12 w-full ",children:v.jsxs(mc,{routes:["blogs Published","About"],defaultHidden:["About"],children:[v.jsxs(v.Fragment,{children:[t==null?v.jsx(pt,{}):t.results.length?t.results.map((S,_)=>v.jsx(Ee,{transition:{duration:1,delay:_*.1},children:v.jsx(gc,{content:S,author:S.author.personal_info})},_)):v.jsx(Jt,{message:"No Post Found"}),v.jsx(Ho,{state:t,fetchDataFun:w})]}),v.jsx(Uv,{bio:p,social_links:k,joinedAt:g})]})})]}):v.jsx(ak,{})})};var lk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$v=Rt.createContext&&Rt.createContext(lk),$D=["attr","size","title"];function VD(t,e){if(t==null)return{};var n=zD(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zD(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}function Vv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Il(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vv(Object(n),!0).forEach(function(r){HD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HD(t,e,n){return e=WD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WD(t){var e=KD(t,"string");return typeof e=="symbol"?e:e+""}function KD(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ck(t){return t&&t.map((e,n)=>Rt.createElement(e.tag,Il({key:n},e.attr),ck(e.child)))}function fp(t){return e=>Rt.createElement(GD,_l({attr:Il({},t.attr)},e),ck(t.child))}function GD(t){var e=n=>{var{attr:r,size:o,title:i}=t,s=VD(t,$D),a=o||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Rt.createElement("svg",_l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Il(Il({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Rt.createElement("title",null,i),t.children)};return $v!==void 0?Rt.createElement($v.Consumer,null,n=>e(n)):e(lk)}function qD(t){return fp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(t)}function YD(t){return fp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function XD(t){return fp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(t)}const zv=()=>{let{blog:t,blog:{_id:e,title:n,blog_id:r,activity:o,activity:{total_likes:i,total_comments:s},author:{personal_info:{username:a}}},setBlog:l,isLikedByUser:c,setIsLikedByUser:u,setCommentWrapper:d,commentWrapper:h}=B.useContext(Ls),{userAuth:{username:m,access_token:p}}=B.useContext(Te);B.useEffect(()=>{p&&te.post("https://astro-blog-mj7v.onrender.com/isliked-by-user",{_id:e},{headers:{Authorization:`Bearer ${p}`}}).then(({data:{result:E}})=>{u(!!E)}).catch(E=>{console.log(E.message)})},[]);const b=()=>{console.log("handlelike"),p?(u(E=>!E),c?i--:i++,l({...t,activity:{...o,total_likes:i}}),te.post("https://astro-blog-mj7v.onrender.com/like-blog",{_id:e,isLikedByUser:c},{headers:{Authorization:`Bearer ${p}`}}).then(({data:E})=>{console.log(E)}).catch(E=>{console.log(E)})):G.error("Please login to like this blog")};return v.jsxs(v.Fragment,{children:[v.jsx(yr,{}),v.jsx("hr",{className:"border border-grey my-2 "}),v.jsxs("div",{className:"flex gap-6 justify-between",children:[v.jsxs("div",{className:"flex gap-3 items-center",children:[v.jsx("button",{onClick:b,className:"w-10 h-10 rounded-full flex items-center justify-center "+(c?"bg-red/20 text-red":"bg-grey/80"),children:c?v.jsx(YD,{}):v.jsx(XD,{})}),v.jsx("p",{className:"text-xl text-dark-grey",children:i}),v.jsx("button",{onClick:()=>d(E=>!E),className:"w-10 h-10 rounded-full flex items-center justify-center bg-grey/80",children:v.jsx(qD,{})}),v.jsx("p",{className:"text-xl text-dark-grey",children:s})]}),v.jsxs("div",{className:"flex gap-6 items-center",children:[m==a?v.jsx(re,{className:"underline hover:text-purple",to:`/editor/${r}`,children:"Edit"}):"",v.jsx(re,{to:`https://twitter.com/intent/tweet?text=Read${n}&url=${location.href}`,children:v.jsx("i",{className:"fa-brands fa-twitter text-xl hover:text-twitter"})})]})]}),v.jsx("hr",{className:"border border-grey my-2"})]})},JD=({url:t,caption:e})=>v.jsxs("div",{children:[v.jsx("img",{src:t,alt:"img",className:" border w-full h-full object-cover"}),e.length?v.jsx("p",{className:"w-full text-center my-2 md:mb-12 text-base text-dary-grey",children:e||"Caption is false"}):""]}),QD=({style:t,items:e})=>v.jsx("ol",{className:`pl-5 ${t=="ordered"?"list-decimal":"list-desc"}`,children:e.map((n,r)=>v.jsx("li",{className:"my-4 ",dangerouslySetInnerHTML:{__html:n}},r))}),ZD=({quote:t,caption:e})=>v.jsxs("div",{className:"bg-purple/10 p-3 pl-5 border-l-4 border-purple",children:[v.jsx("p",{className:"text-xl leading-10 md:text-2xl ",children:t}),e.length?v.jsx("p",{className:"w-full text-purple text-base ",children:e}):""]}),e3=({block:t})=>{let{type:e,data:n}=t;return e=="paragraph"?v.jsx("p",{dangerouslySetInnerHTML:{__html:n.text}}):e=="header"?n.level==3?v.jsx("h3",{className:"text-3xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):v.jsx("h2",{className:"text-4xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):e=="image"?v.jsx(JD,{url:n.file.url,caption:n.caption}):e=="quote"?v.jsx(ZD,{quote:n.text,caption:n.caption}):e=="list"?v.jsx(QD,{style:n.style,items:n.items}):v.jsx("h1",{children:'""'})},uk=({action:t,index:e=void 0,replyingTo:n=void 0,setIsReplying:r})=>{const[o,i]=B.useState("");let{userAuth:{access_token:s,username:a,profile_img:l,fullname:c}}=B.useContext(Te),{blog:u,blog:{_id:d,comments:h,comments:{results:m},author:{_id:p},activity:b,activity:{total_comments:E,total_parent_comments:k}},setBlog:g,setTotalParentCommentsLoaded:f}=B.useContext(Ls);const w=()=>{if(!s)return ct.error("Login to leave a comment");if(!o.length)return ct.error("Write something to leave a comment");te.post("https://astro-blog-mj7v.onrender.com/add-comment",{_id:d,blog_author:p,comment:o,replying_to:n},{headers:{Authorization:`Bearer ${s}`}}).then(({data:S})=>{console.log(S),i(""),S.commented_by={personal_info:{username:a,profile_img:l,fullname:c},_id:S.user_id},r&&r(!1);let _;n?(m[e].children.push(S._id),S.childrenLevel=m[e].childrenLevel+1,S.parentIndex=e,m[e].isRepliesLoaded=!0,m.splice(e+1,0,S),_=m,r(!1)):(S.childrenLevel=0,_=[S,...m]),g({...u,comments:{...h,results:_},activity:{...b,total_comments:E+1,total_parent_comments:k+1}}),f(A=>A+1)}).catch(S=>{S.response?(console.log("Response error:",S.response.data),S.response.status===403&&ct.error(S.response.data.error)):S.request?console.log("Request error:",S.request):console.log("Error:",S.message)})};return v.jsxs(v.Fragment,{children:[v.jsx(yr,{}),v.jsx("textarea",{placeholder:"Leave a comment...",value:o,onChange:S=>i(S.target.value),className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),v.jsx("button",{onClick:w,className:"btn-dark mt-5 px-10",children:t})]})};console.log("this is difference in two code");const t3=({index:t,commentData:e,leftVal:n=0})=>{let{comment:r,commented_by:{personal_info:{fullname:o,username:i,profile_img:s}},commentedAt:a,children:l,_id:c}=e,{blog:u,blog:{comments:d,comments:{results:h},activity:m,activity:{total_parent_comments:p},author:{personal_info:{username:b}}},setBlog:E,setTotalParentCommentsLoaded:k}=B.useContext(Ls),{userAuth:{username:g,access_token:f}}=B.useContext(Te);const[w,S]=B.useState(!1);B.useEffect(()=>{S(!1)},[e]);const _=({currentIndex:I=t,skip:N=0})=>{h[I].children.length&&(T(),te.post("https://astro-blog-mj7v.onrender.com/get-replies",{_id:h[I]._id,skip:N}).then(({data:{replies:O}})=>{h[I].isRepliesLoaded=!0;for(let P=0;P<O.length;P++)O[P].childrenLevel=h[I].childrenLevel?h[I].childrenLevel+1:1,h.splice(I+P+1+N,0,O[P]);E({...u,comments:{...d,results:h}})}).catch(O=>{console.log(O)}))},A=()=>{let I=t-1;try{if(t<=0||t>=h.length)return;for(;I>=0&&h[I].childrenLevel>h[t].childrenLevel;)I--;if(I<0)return}catch(N){console.error("Error in getParentIndex:",N),I=void 0}return I},y=()=>{if(!f)return ct.error("Login to leave a comment");S(I=>!I)},x=async(I,N=!1)=>{if(h[I])for(;h[I].childrenLevel>h[t].childrenLevel&&(h.splice(I,1),!!h[I]););if(N){let O=A();O!==void 0&&(h[O].children=h[O].children.filter(P=>P!==c),h[O].children.length||(h[O].isRepliesLoaded=!1)),h.splice(t,1)}e.childrenLevel===0&&N&&k(O=>O-1),E({...u,comments:{results:h},activity:{...m,total_parent_comments:p-(e.childrenLevel===0&&N?1:0)}})},T=()=>{h[t].isRepliesLoaded=!1,x(t+1)},C=I=>{I.target.setAttribute("disabled",!0),te.post("https://astro-blog-mj7v.onrender.com/delete-comment",{_id:c},{headers:{Authorization:`Bearer ${f}`}}).then(()=>{I.target.removeAttribute("disabled"),x(t+1,!0)}).catch(N=>{console.log(N)})};return v.jsx("div",{className:"w-full",style:{paddingLeft:`${n*10}px`},children:v.jsxs("div",{className:"my-5 p-6 rounded-md border border-grey",children:[v.jsxs("div",{className:"flex gap-3 items-center mb-8",children:[v.jsx("img",{src:s,alt:o,className:"w-6 h-6 rounded-full"}),v.jsxs("p",{className:"line-clamp-1",children:[o," @",i]}),v.jsx("p",{className:"min-w-fit",children:ti(a)})]}),v.jsx("p",{className:"font-gelasio text-xl ml-3",children:r}),v.jsxs("div",{className:"flex gap-5 items-center mt-5",children:[h[t].isRepliesLoaded?v.jsxs("button",{onClick:T,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:[v.jsx("i",{className:"fi fi-rr-comment mt-1"}),"Hide Reply"]}):v.jsxs("button",{onClick:_,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:[v.jsx("i",{className:"fi fi-rr-comment mt-1"}),l.length," Reply"]}),v.jsx("button",{onClick:y,className:"underline",children:"Reply"}),g===i||g===b&&v.jsx("button",{onClick:C,className:"p-2 px-3 rounded-md border border-grey ml-auto hover:bg-red/30 hover:text-red flex items-center",children:v.jsx("i",{className:"fi fi-rr-trash pointer-events-none"})})]}),w&&v.jsx("div",{className:"mt-8",children:v.jsx(uk,{index:t,action:"Reply",replyingTo:c,setIsReplying:S})})]})})},dk=async({skip:t=0,blog_id:e,setParentCommentCountFun:n,comment_array:r=null})=>{console.log(r);let o;return await te.post("https://astro-blog-mj7v.onrender.com/get-blog-comments",{blog_id:e,skip:t}).then(({data:i})=>{console.log("the data in common in ",i.comment);let{comment:s}=i;s.map(a=>{a.childrenLevel=0}),n(a=>a+i.comment.length),r==null?o={results:i.comment}:o={results:[...r,...i.comment]}}),console.log(o),o},n3=()=>{let{commentWrapper:t,setCommentWrapper:e,blog:n,blog:{_id:r,title:o,comments:{results:i},activity:{total_parent_comments:s}},totalParentCommentsLoaded:a,setTotalParentCommentsLoaded:l,setBlog:c}=B.useContext(Ls);const u=async()=>{let d=await dk({skip:a,blog_id:r,setParentCommentCountFunc:l,arr:i});c({...n,comments:d})};return v.jsxs("div",{className:`max-sm:w-full fixed ${t?"top-0 sm:right-0":"top-[100%] sm:right-[-100%]"} duration-700 max-sm:right-0 sm:top-0 w-[30%] min-w-[350px] h-full z-50 bg-white shadow-2xl p-8 px-10 overflow-y-auto overflow-x-hidden`,children:[v.jsxs("div",{className:"relative",children:[v.jsx("h1",{className:"text-xl font-medium",children:"Comments"}),v.jsx("p",{className:"text-lg mt-2 w-[70%] text-dark-grey line-clamp-1",children:o}),v.jsx("button",{onClick:()=>e(!1),className:"absolute top-0 right-0 flex justify-center items-center w-12 h-12 rounded-full bg-grey",children:v.jsx("i",{className:"fi fi-br-cross-small text-2xl mt-1"})})]}),v.jsx("hr",{className:"border-grey my-8 w-[120%] -ml-10"}),v.jsx(uk,{action:"Comment"}),i&&i.length?i.map((d,h)=>v.jsx(Ee,{children:v.jsx(t3,{index:h,leftVal:d.childrenLevel*4,commentData:d})},h)):v.jsx(Jt,{message:"No comments"}),s>a&&v.jsx("button",{onClick:u,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:"Load More"})]})},Su={title:"",content:"",banner:"",author:{personal_info:{}},publishedAt:""},Ls=B.createContext({}),r3=()=>{let{blog_id:t}=Jo();const[e,n]=B.useState(Su),[r,o]=B.useState(Su),[i,s]=B.useState(!0),[a,l]=B.useState(!1),[c,u]=B.useState(!0),[d,h]=B.useState(0);let{title:m,content:p,banner:b,author:{personal_info:{fullname:E,username:k,profile_img:g}},publishedAt:f}=e;console.log(d);const w=()=>{te.post("https://astro-blog-mj7v.onrender.com/get-blog",{blog_id:t}).then(async({data:{blog:_}})=>{_.comments=await dk({blog_id:_._id,setParentCommentCountFun:h}),console.log(_),n(_),te.post("https://astro-blog-mj7v.onrender.com/search-blogs",{tag:_.tags[0],limit:6,eliminate_blog:t}).then(({data:A})=>{console.log(A.blogs),o(A.blogs)}),s(!1)}).catch(_=>{console.log(_),s(!1)})};B.useEffect(()=>{S(),w()},[t]);const S=()=>{n(Su),o(null),s(!0),u(!1),h(0)};return v.jsx(Ee,{children:i?v.jsx(pt,{}):v.jsxs(Ls.Provider,{value:{blog:e,setBlog:n,setIsLikedByUser:l,isLikedByUser:a,setTotalParentCommentLoaded:h,totalParentCommentLoaded:d,commentWrapper:c,setCommentWrapper:u},children:[v.jsx(n3,{}),v.jsxs("div",{className:"max-w-[900px] center py-10 max-lg:px-[5vw]",children:[v.jsx("img",{src:b,className:"aspect-video "}),v.jsxs("div",{className:"mt-12 ",children:[v.jsx("h2",{children:m}),v.jsxs("div",{className:"flex max-sm:flex-col justify-between my-8 ",children:[v.jsxs("div",{className:"flex gap-5 items-start ",children:[v.jsx("img",{onClick:()=>{navigate(`/user/${k}`)},className:"w-12 h-12 rounded-full",src:g}),v.jsxs("p",{className:"capitalize",children:[E,v.jsx("br",{}),"@",v.jsx(re,{className:"underline",to:`/user/${k}`,children:k})]})]}),v.jsxs("p",{className:"text-dark-grey opacity-75 max-sm:mt-6 max-sm:ml-12 max-sm:pl-5",children:["Publish on ",ti(f)]})]})]}),v.jsx(zv,{}),v.jsx("div",{className:"my-12 font-gelasio blog-page-content",children:p[0].blocks.map((_,A)=>v.jsx("div",{className:"my-4 md:my-8 ",children:v.jsx(e3,{block:_})},A))}),v.jsx(zv,{}),r!=null&&r.length?v.jsxs(v.Fragment,{children:[v.jsx("h1",{className:"text-2xl mt-14 mb-10 font-medium",children:"Similar Blog"}),r&&r.map((_,A)=>{let{author:{personal_info:y}}=_;return v.jsx(Ee,{transition:{duration:1,delay:A*.08},children:v.jsx(gc,{content:_,author:y})},A)})]}):""]})]})})},Hv=()=>{let t=location.pathname.split("/")[2]||"blogs",[e,n]=B.useState(t.replace("-"," ")),[r,o]=B.useState(t.replace("-"," ")),{userAuth:{access_token:i,new_notifications_available:s}}=B.useContext(Te);const a=d=>{let{offsetWidth:h,offsetLeft:m}=d.target;l.current.style.width=h+"px",l.current.style.left=m+"px",d.target==c.current?o(!0):o(!1)};let l=B.useRef(),c=B.useRef(),u=B.useRef();return B.useEffect(()=>{o(!1),u.current.click()},[e]),i===null?v.jsx(uf,{to:"/signin"}):v.jsx(v.Fragment,{children:v.jsxs("section",{className:"relative flex gap-10 py-0 m-0 max-md:flex-col",children:[v.jsxs("div",{className:"sticky top-[80px] z-30",children:[v.jsxs("div",{className:"md:hidden bg-white py-1 border-b border-grey flex flex-nowrap overflow-x-auto",children:[v.jsx("button",{ref:c,onClick:a,className:"p-5 capitalize",children:v.jsx("i",{className:"fi fi-br-bars-staggered pointer-events-none"})}),v.jsx("button",{ref:u,onClick:a,className:"p-5 capitalize",children:e}),v.jsx("hr",{ref:l,className:"absolute bottom-0 duration-500"})]}),v.jsxs("div",{className:"min-w-[200px] h-[calc(100vh-80px-65px)]  md:h-cover md:sticky top-24 overflow-y-auto p-6 md:pr-0 md:border-grey md:border-r absolute max-md:top-[64px] bg-white max-md:w-[calc(100%+80px)] max-md:px-16 max-md:-ml-7 duration-500 "+(r?"opacity-100 pointer-events-auto":"max-md:opacity-0 max-md:pointer-events-none"),children:[v.jsx("h1",{className:"text-xl text-dark-grey mb-3",children:"Dashboard"}),v.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),v.jsxs(ui,{to:"/dashboard/blogs",onClick:d=>n(d.target.innerText),className:"sidebar-link",children:[v.jsx("i",{className:"fi fi-rr-document"}),"Blogs"]}),v.jsxs(ui,{to:"/dashboard/notifications",onClick:d=>n(d.target.innerText),className:"sidebar-link",children:[v.jsxs("div",{className:"relative",children:[v.jsx("i",{className:"fi fi-rr-bell"}),s&&v.jsx("span",{className:"bg-red w-2 h-2 rounded-full absolute z-10 top-0 right-0"})]}),"Notifications"]}),v.jsxs(ui,{to:"/editor",className:"sidebar-link",children:[v.jsx("i",{className:"fi fi-rr-file-edit"}),"Write"]}),v.jsx("h1",{className:"text-xl text-dark-grey mt-20 mb-3",children:"Settings"}),v.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),v.jsxs(ui,{to:"/settings/edit-profile",onClick:d=>n(d.target.innerText),className:"sidebar-link",children:[v.jsx("i",{className:"fi fi-rr-user"}),"Edit Profile"]}),v.jsxs(ui,{to:"/settings/change-password",onClick:d=>n(d.target.innerText),className:"sidebar-link",children:[v.jsx("i",{className:"fi fi-rr-lock"}),"Change Password"]})]})]}),v.jsx("div",{className:"max-md:-mt-8 mt-5 w-full",children:v.jsx(hb,{})})]})})},o3=()=>{let{userAuth:{access_token:t}}=B.useContext(Te),e=B.useRef();const n=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/,r=o=>{o.preventDefault();let i=new FormData(e.current),s={};for(let[u,d]of i.entries())s[u]=d;let{currentPassword:a,newPassword:l}=s;if(!a.length||!l.length)return G.error("Complete the input fields");if(!n.test(a)||!n.test(l))return G.error("Password must be 6 to 20 characters with 1 numeric, 1 lowercase, and 1 uppercase character");o.target.setAttribute("disabled",!0);let c=G.loading("Updating...");te.post("https://astro-blog-mj7v.onrender.com/change-password",s,{headers:{Authorization:`Bearer ${t}`}}).then(()=>(G.dismiss(c),o.target.removeAttribute("disabled"),G.success("Password Updated"))).catch(({response:u})=>(G.dismiss(c),o.target.removeAttribute("disabled"),G.error(u.data.error)))};return v.jsxs(Ee,{children:[v.jsx(yr,{}),v.jsxs("form",{ref:e,children:[v.jsx("h1",{className:"max-md:hidden",children:"Change Password"}),v.jsxs("div",{className:"py-10 w-full md:max-w-[400px]",children:[v.jsx(dn,{type:"password",name:"currentPassword",autocomplete:"current-password",placeholder:"Current Password",icon:"fi-rr-unlock",className:"profile-edit-input"}),v.jsx(dn,{type:"password",name:"newPassword",placeholder:"New Password",autocomplete:"new-password",icon:"fi-rr-unlock",className:"profile-edit-input"}),v.jsx("button",{type:"submit",onClick:r,className:"btn-dark px-10",children:"Change Password"})]})]})]})},i3=()=>{let{userAuth:t,userAuth:{access_token:e},setUserAuth:n}=B.useContext(Te),r=150;const[o,i]=useState(lh),[s,a]=useState(!0),[l,c]=useState(r),[u,d]=useState(null);let{personal_info:{fullname:h,username:m,profile_img:p,email:b,bio:E},social_links:k}=o;B.useEffect(()=>{e&&te.post("https://astro-blog-mj7v.onrender.com/get-profile",{username:t.username}).then(({data:y})=>{console.log(y),i(y),a(!1)}).catch(({response:y})=>toast.error(y.data.error))},[e,t.username]);let g=useRef(),f=useRef();const w=y=>{c(r-y.target.value.length)},S=y=>{console.log(y.target.files[0]);let x=y.target.files[0];g.current.src=URL.createObjectURL(x),d(x)},_=y=>{if(y.preventDefault(),u){let x=toast.loading("Uploading...");y.target.setAttribute("disabled",!0),ik(u).then(T=>{T&&te.post("https://astro-blog-mj7v.onrender.com/update-profile-img",{url:T},{headers:{Authorization:`Bearer ${e}`}}).then(({data:C})=>{let I={...t,profile_img:C.profile_img};pl("user",JSON.stringify(I)),n(I),d(null),toast.dismiss(x),y.target.removeAttribute("disabled"),toast.success("Uploaded")}).catch(({response:C})=>{toast.dismiss(x),y.target.removeAttribute("disabled"),toast.error(C.data.error)})})}},A=y=>{y.preventDefault();let x=new FormData(f.current),T={};for(let[$,V]of x.entries())T[$]=V;console.log(T);let{username:C,bio:I,youtube:N,facebook:O,twitter:P,github:L,instagram:D,website:R}=T;if(C.length<3)return toast.error("Username must be at least 3 characters");if(I.length>r)return toast.error(`Bio must be ${r} characters or less`);let j=toast.loading("Updating...");y.target.setAttribute("disabled",!0),te.post("https://astro-blog-mj7v.onrender.com/update-profile",{username:C,bio:I,social_links:{youtube:N,instagram:D,facebook:O,twitter:P,github:L,website:R}},{headers:{Authorization:`Bearer ${e}`}}).then(({data:$})=>{if(t.username!==$.username){let V={...t,username:$.username};pl("user",JSON.stringify(V)),n(V)}toast.dismiss(j),toast.success("Profile updated"),y.target.removeAttribute("disabled")}).catch(({response:$})=>{toast.dismiss(j),y.target.removeAttribute("disabled"),toast.error($.data.error)})};return v.jsx(Ee,{children:s?v.jsx(pt,{}):v.jsxs("form",{ref:f,children:[v.jsx(Toaster,{}),v.jsx("h1",{className:"max-md:hidden",children:"Edit Profile"}),v.jsxs("div",{className:"flex flex-col lg:flex-row items-start py-10 gap-8 lg:gap-10",children:[v.jsxs("div",{className:"max-lg:center mb-5",children:[v.jsxs("label",{htmlFor:"UploadImage",id:"profileImgLabel",className:"relative block w-48 h-48 bg-grey rounded-full overflow-hidden",children:[v.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex items-center justify-center text-white bg-black/80 opacity-0 hover:opacity-100 cursor-pointer",children:"Upload Image"}),v.jsx("img",{src:p,alt:"Profile image",ref:g})]}),v.jsx("input",{type:"file",id:"UploadImage",accept:".jpeg, .png, .jpg",hidden:!0,onChange:S}),v.jsx("button",{onClick:_,className:"btn-light mt-5 max-lg:center lg:w-full px-10",children:"Upload"})]}),v.jsx("div",{className:"w-full",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-5",children:[v.jsx("div",{children:v.jsx(dn,{type:"text",name:"fullname",placeholder:"Full Name",value:h,disable:!0,icon:"fi-sr-user"})}),v.jsx("div",{children:v.jsx(dn,{type:"text",name:"email",placeholder:"Email",value:b,disable:!0,icon:"fi-sr-envelope"})}),v.jsxs("div",{children:[v.jsx(dn,{type:"text",name:"username",placeholder:"Username",value:m,icon:"fi-sr-at"}),v.jsx("p",{className:"text-dark-grey -mt-3",children:"Username will be used to search users and will be visible to all users"}),v.jsx("textarea",{name:"bio",maxLength:r,defaultValue:E,placeholder:"Bio",onChange:w,className:"input-box h-64 lg:h-40 resize-none leading-7 mt-5 pl-5"}),v.jsxs("p",{className:"text-dark-grey mt-1",children:[l," characters left"]}),v.jsx("p",{className:"text-dark-grey my-6",children:"Add your social handles below"}),v.jsx("div",{className:"md:grid md:grid-cols-2 gap-x-6",children:Object.keys(k).map((y,x)=>{let T=k[y];return v.jsx(dn,{type:"text",name:y,value:T,placeholder:"https://",icon:"fi "+(y!=="website"?"fi-brands-"+y:"fi-br-link-alt")},x)})}),v.jsx("button",{type:"submit",onClick:A,className:"btn-dark w-auto px-10",children:"Update"})]})]})})]})]})})},s3=({_id:t,blog_author:e,index:n=void 0,replyingTo:r=void 0,setReplying:o,notification_id:i,notificationData:s})=>{const[a,l]=B.useState();let{_id:c}=e,{userAuth:{access_token:u}}=B.useContext(Te),{notifications:d,notifications:{results:h},setNotifications:m}=s;const p=()=>{if(!a.length)return G.error("Write something to leave a comment");te.post("https://astro-blog-mj7v.onrender.com/add-comment",{_id:t,blog_author:c,comment:a,replying_to:r,notification_id:i},{headers:{Authorization:`Bearer ${u}`}}).then(({data:b})=>{o&&o(!0),h[n].reply={comment:a,_id:b._id},m({...d,results:h})}).catch(({response:b})=>{if(b.status===403)return G.error(b.data.error)})};return v.jsxs(v.Fragment,{children:[v.jsx(yr,{}),v.jsx("textarea",{placeholder:"Leave a comment...",onChange:b=>l(b.target.value),className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),v.jsx("button",{onClick:p,className:"btn-dark mt-5 px-10",children:"Reply"})]})},a3=({data:t,index:e,notificationData:n})=>{const[r,o]=B.useState(!1);let{type:i,seen:s,comment:a,reply:l,replied_on_comment:c,createdAt:u,blog:{blog_id:d,title:h,_id:m},user:p,user:{personal_info:{fullname:b,username:E,profile_img:k}},_id:g}=t,{userAuth:f,userAuth:{username:w,access_token:S,profile_img:_}}=B.useContext(Te);console.log(f);let{notifications:A,notifications:{results:y},setNotifications:x}=n;const T=()=>{o(I=>!I)},C=(I,N,O)=>{const P=O.currentTarget;P.setAttribute("disabled",!0),te.post("https://astro-blog-mj7v.onrender.com/delete-comment",{_id:I},{headers:{Authorization:`Bearer ${S}`}}).then(L=>{N==="comment"?L.splice(e,1):delete L[e].reply,P.removeAttribute("disabled"),x({...A,results:L,totalDocs:y-1,deletedDocCount:A.deletedDocCount+1})}).catch(L=>{console.log(L)})};return v.jsxs("div",{className:"p-6 border-b border-grey border-l-black "+(s?"":"border-l-2"),children:[v.jsxs("div",{className:"flex gap-5 mb-3",children:[v.jsx("img",{src:k,alt:"Profile image",className:"w-14 h-14 flex-none rounded-full"}),v.jsxs("div",{className:"w-full",children:[v.jsxs("h1",{className:"font-medium text-xl text-dark-grey",children:[v.jsx("span",{className:"lg:inline-block hidden capitalize",children:b}),v.jsxs(re,{to:`/user/${E}`,className:"mx-1 text-black underline",children:["@",E]}),v.jsx("span",{className:"font-normal",children:i==="like"?"liked your blog":i==="comment"?"commented on":"replied on"})]}),i==="reply"?v.jsx("div",{className:"p-4 mt-4 rounded-md bg-grey",children:v.jsx("p",{children:c.comment})}):v.jsx(re,{to:`/blog/${d}`,className:"font-medium text-dark-grey hover:underline line-clamp-1",children:`"${h}"`})]})]}),i!=="like"&&v.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5",children:a.comment}),v.jsxs("div",{className:"ml-14 pl-5 mt-3 text-dark-grey flex gap-8",children:[v.jsx("p",{children:ti(u)}),i!=="like"&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:T,className:"underline hover:text-black "+(l?"hidden":""),children:"Reply"}),i==="comment"&&v.jsx("button",{onClick:I=>C(a._id,"comment",I),className:"underline hover:text-black",children:"Delete"})]})]}),r&&v.jsx("div",{className:"mt-8",children:v.jsx(s3,{_id:m,blog_author:p,index:e,replyingTo:a._id,setIsReplying:o,notification_id:g,notificationData:n})}),l&&v.jsxs("div",{className:"ml-20 p-5 bg-grey mt-5 rounded-md",children:[v.jsxs("div",{className:"flex gap-3 mb-3",children:[v.jsx("img",{src:_,alt:"Author profile image",className:"w-8 h-8 rounded-full"}),v.jsx("div",{children:v.jsxs("h1",{className:"font-medium text-xl text-dark-grey",children:[v.jsxs(re,{to:`/user/${w}`,className:"mx-1 text-black underline",children:["@",w]}),v.jsx("span",{className:"font-normal",children:"replied to"}),v.jsxs(re,{to:`/user/${E}`,className:"mx-1 text-black underline",children:["@",E]})]})})]}),v.jsx("p",{className:"ml-14 font-gelasio text-xl my-2",children:l.comment}),v.jsx("button",{onClick:()=>C(l._id,"reply"),className:"underline hover:text-black ml-14 mt-2 text-dark-grey",children:"Delete"})]})]})},l3=()=>{let{userAuth:{access_token:t,new_notificaiton_available:e}}=B.useContext(Te);const[n,r]=B.useState(null),[o,i]=B.useState("all");let s=["all","like","comment","reply"];const a=({page:c,deletedDocCount:u=0})=>{te.post("https://astro-blog-mj7v.onrender.com/notifications",{page:c,filter:o,deletedDocCount:u},{headers:{Authorization:`Bearer ${t}`}}).then(async({data:{notifications:d}})=>{console.log(d),e&&setUserAuth({...userAuth,new_notificaiton_available:!1});let h=await zo({state:n,data:d,page:c,countRoute:"/all-notifications-count",data_to_send:{filter:o},user:t});r(h),console.log(h)}).catch(d=>{console.log(d)})};B.useEffect(()=>{t&&a({page:1})},[t,o]);const l=c=>{let u=c.target;i(u.innerHTML),r(null)};return v.jsxs("div",{children:[v.jsxs("div",{children:[v.jsx("h1",{className:"max-md:hidden ",children:"Recent Notification"}),v.jsx("div",{className:"my-8 flex gap-6 ",children:s.map((c,u)=>v.jsx("button",{onClick:l,className:"py-2 "+(o==c?" btn-dark ":" btn-light"),children:c},u))})]}),n===null?v.jsx(pt,{}):v.jsxs(v.Fragment,{children:[n.results.length?n.results.map((c,u)=>v.jsx(Ee,{transition:{delay:u*.08},children:v.jsx(a3,{data:c,index:u,notificationData:{notifications:n,setNotifications:r}})},u)):v.jsx(Jt,{message:"nothing available"}),v.jsx(Ho,{state:n,fetchDataFun:a,additionalParams:{deletedDocCount:n.deletedDocCount}})]})]})},c3=({blog:t})=>{let{title:e,blog_id:n,des:r,index:o}=t,{userAuth:{access_token:i}}=B.useContext(Te);return o++,v.jsxs("div",{className:"flex gap-5 lg:gap-10 pb-6 border-b mb-6 border-grey",children:[v.jsx("h2",{className:"blog-index text-center pl-4 md:pl-6 flex-none",children:o<10?"0"+o:o}),v.jsxs("div",{children:[v.jsx("h1",{className:"blog-title mb-3",children:e}),v.jsx("p",{className:"line-clamp-2 font-gelasio",children:r.length?r:"No Description"}),v.jsxs("div",{className:"flex gap-6 mt-3",children:[v.jsx(re,{to:`/editor/${n}`,className:"pr-4 py-2 underline",children:"Edit"}),v.jsx("button",{onClick:s=>hk(t,i,s.target),className:"pr-4 py-2 underline text-red",children:"Delete"})]})]})]})},Wv=({stats:t})=>v.jsx("div",{className:"flex gap-2",children:Object.keys(t).map((e,n)=>!e.includes("parent")&&v.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6"+(n==1?" border-grey border-r border-l ":""),children:[v.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:t[e].toLocaleString()}),v.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:e.split("_")[1]})]},n))}),hk=(t,e,n)=>{let{index:r,blog_id:o,setBlogArr:i}=t;n.setAttribute("disabled",!0),te.post("https://astro-blog-mj7v.onrender.com/delete-blog",{blog_id:o},{headers:{Authorization:`Bearer ${e}`}}).then(({data:s})=>{n.removeAttribute("disabled"),i(a=>{let{deletedDocCount:l,totalDocs:c,results:u}=a;return u.splice(r,1),!u.length&&c-1>0?null:{...a,totalDocs:c-1,deletedDocCount:l+1}})}).catch(s=>{try{s.response.data.error&&G.error(s.response.data.error)}catch(a){console.log(a)}console.log(s)})},u3=({blog:t})=>{let{title:e,banner:n,publishedAt:r,blog_id:o,activity:i}=t,{userAuth:{access_token:s}}=B.useContext(Te);const[a,l]=B.useState(!1);return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex gap-10 border-b mb-6 max-md:px-4 border-grey pb-6 items-center",children:[v.jsx("img",{src:n,alt:"Banner",className:"max-md:hidden lg:hidden xl:block w-28 h-28 flex-none bg-grey object-cover"}),v.jsxs("div",{className:"flex flex-col justify-between py-2 w-full min-w-[300px]",children:[v.jsxs("div",{children:[v.jsx(re,{to:`/blog/${o}`,children:v.jsx("h1",{className:"blog-title mb-4 hover:underline",children:e})}),v.jsxs("p",{className:"line-clamp-1",children:["Published on ",ti(r),", ",LD(r)]})]}),v.jsxs("div",{className:"flex gap-6 mt-3",children:[v.jsx(re,{to:`/editor/${o}`,className:"pr-4 py-2 underline",children:"Edit"}),v.jsx("button",{onClick:()=>l(c=>!c),className:"lg:hidden pr-4 py-2 underline",children:"Stats"}),v.jsx("button",{onClick:c=>hk(t,s,c.target),className:"pr-4 py-2 underline text-red",children:"Delete"})]})]}),v.jsx("div",{className:"max-lg:hidden",children:v.jsx(Wv,{stats:i})})]}),a&&v.jsx("div",{className:"lg:hidden",children:v.jsx(Wv,{stats:i})})]})},d3=()=>{let t=FC()[0].get("tab");const[e,n]=B.useState(null),[r,o]=B.useState(null),[i,s]=B.useState();let{userAuth:{access_token:a}}=B.useContext(Te);const l=({page:d,draft:h,deletedDocCount:m=0})=>{te.post("https://astro-blog-mj7v.onrender.com/user-written-blogs",{page:d,draft:h,query:i,deletedDocCount:m},{headers:{Authorization:`Bearer ${a}`}}).then(async({data:p})=>{let b=await zo({arr:h?r:e,data:p.blogs,page:d,user:a,countRoute:"/user-written-blogs-count",data_to_send:{draft:h,query:i}});h?o(b):n(b)}).catch(p=>{console.log(p)})};B.useEffect(()=>{a&&(e===null&&l({page:1,draft:!1}),r===null&&l({page:1,draft:!0}))},[a,e,r,i]);const c=d=>{let h=d.target.value;s(h),d.keyCode===13&&h.length&&(n(null),o(null))},u=d=>{d.target.value.length||(s(""),n(null),o(null))};return v.jsxs(v.Fragment,{children:[v.jsx("h1",{className:"max-md:hidden",children:"Manage Blogs"}),v.jsx(yr,{}),v.jsxs("div",{id:"searchBox",className:"relative max-md:mt-5 md:mt-8 mb-10",children:[v.jsx("input",{type:"search",placeholder:"Search Blogs",onKeyDown:c,onChange:u,className:"w-full bg-grey p-4 pl-12 pr-6 rounded-full placeholder:text-dark-grey"}),v.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),v.jsxs(mc,{routes:["Published Blogs","Drafts"],defaultActiveIndex:t!=="draft"?0:1,children:[e===null?v.jsx(pt,{}):e.results.length?v.jsxs(v.Fragment,{children:[e.results.map((d,h)=>v.jsx(Ee,{transition:{delay:h*.04},children:v.jsx(u3,{blog:{...d,setBlogArr:n,index:h}})},h)),v.jsx(Ho,{state:e,fetchDataFunc:l,additionalParams:{draft:!1,deletedDocCount:e.deletedDocCount}})]}):v.jsx(Jt,{message:"No published blogs"}),r===null?v.jsx(pt,{}):r.results.length?v.jsxs(v.Fragment,{children:[r.results.map((d,h)=>v.jsx(Ee,{transition:{delay:h*.04},children:v.jsx(c3,{blog:{...d,setBlogArr:o,index:h}})},h)),v.jsx(Ho,{state:r,fetchDataFunc:l,additionalParams:{draft:!0,deletedDocCount:r.deletedDocCount}})]}):v.jsx(Jt,{message:"No drafted blogs"})]})]})},h3=()=>(Rt.useEffect(()=>{const t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id=G-CLH22WVYRQ",t.async=!0,document.head.appendChild(t),window.dataLayer=window.dataLayer||[];function e(){dataLayer.push(arguments)}return e("js",new Date),e("config","G-CLH22WVYRQ"),()=>{document.head.removeChild(t)}},[]),null),Te=B.createContext({}),vc=B.createContext({}),f3=()=>{window.matchMedia("(prefers-color-scheme:dark)").matches},p3=()=>{const[t,e]=B.useState({}),[n,r]=B.useState(()=>f3()?"dark":"light");return B.useEffect(()=>{let o=Og("user"),i=Og("theme");e(o?JSON.parse(o):{access_token:null}),i?r(()=>(document.body.setAttribute("data-theme",i),i)):document.body.setAttribute("data-theme",n)},[]),v.jsxs(vc.Provider,{value:{theme:n,setTheme:r},children:[v.jsx(h3,{}),v.jsx(Te.Provider,{value:{userAuth:t,setUserAuth:e},children:v.jsxs(IC,{children:[v.jsx(Be,{path:"/editor",element:v.jsx(Dv,{})}),v.jsx(Be,{path:"/editor/:blog_id",element:v.jsx(Dv,{})}),v.jsxs(Be,{path:"/",element:v.jsx(kP,{}),children:[v.jsx(Be,{index:!0,element:v.jsx(OD,{})}),v.jsxs(Be,{path:"dashboard",element:v.jsx(Hv,{}),children:[v.jsx(Be,{path:"notifications",element:v.jsx(l3,{})}),v.jsx(Be,{path:"blogs",element:v.jsx(d3,{})})]}),v.jsxs(Be,{path:"settings",element:v.jsx(Hv,{}),children:[v.jsx(Be,{path:"edit-profile",element:v.jsx(i3,{})}),v.jsx(Be,{path:"change-password",element:v.jsx(o3,{})})]}),v.jsx(Be,{path:"signin",element:v.jsx(Nv,{type:"sign_in"})}),v.jsx(Be,{path:"signup",element:v.jsx(Nv,{type:"sign_up"})}),v.jsx(Be,{path:"/search/:query",element:v.jsx(MD,{})}),v.jsx(Be,{path:"user/:id",element:v.jsx(UD,{})}),v.jsx(Be,{path:"blog/:blog_id",element:v.jsx(r3,{})}),v.jsx(Be,{path:"*",element:v.jsx(ak,{})})]})]})})]})};Eu.createRoot(document.getElementById("root")).render(v.jsx(RC,{children:v.jsx(p3,{})}));
